"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[29449],{603905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return k}});var a=n(667294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var l=a.createContext({}),s=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(l.Provider,{value:e},t.children)},c="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,o=t.originalType,l=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),c=s(n),d=r,k=c["".concat(l,".").concat(d)]||c[d]||u[d]||o;return n?a.createElement(k,i(i({ref:e},m),{},{components:n})):a.createElement(k,i({ref:e},m))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var o=n.length,i=new Array(o);i[0]=d;var p={};for(var l in e)hasOwnProperty.call(e,l)&&(p[l]=e[l]);p.originalType=t,p[c]="string"==typeof t?t:r,i[1]=p;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},696867:function(t,e,n){n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return c}});var a=n(487462),r=n(263366),o=(n(667294),n(603905)),i=["components"],p={title:"Stripe Payment integration",sidebar_label:"Stripe Payment"},l=void 0,s={unversionedId:"platform_concepts/appConfiguration/stripe",id:"platform_concepts/appConfiguration/stripe",title:"Stripe Payment integration",description:"Yellow.ai Integration with Stripe Payment Gateway  allows the bot to generate Stripe payment links and view a specific payment status.",source:"@site/docs/platform_concepts/appConfiguration/stripe.md",sourceDirName:"platform_concepts/appConfiguration",slug:"/platform_concepts/appConfiguration/stripe",permalink:"/docs/platform_concepts/appConfiguration/stripe",draft:!1,tags:[],version:"current",frontMatter:{title:"Stripe Payment integration",sidebar_label:"Stripe Payment"},sidebar:"platform_concepts",previous:{title:"Razorpay",permalink:"/docs/platform_concepts/appConfiguration/razorpay"},next:{title:"Live Chat",permalink:"/docs/platform_concepts/appConfiguration/livechat-integration"}},m={},c=[{value:"Connecting Stripe payment with yellow.ai",id:"connecting-stripe-payment-with-yellowai",level:2},{value:"Get Secret key from your Stripe app",id:"get-secret-key-from-your-stripe-app",level:3},{value:"Connect Stripe with yellow.ai",id:"connect-stripe-with-yellowai",level:3},{value:"Configure webhook URL in Stripe dashboard.",id:"configure-webhook-url-in-stripe-dashboard",level:3},{value:"Receiving Stripe payment status event in your bot",id:"receiving-stripe-payment-status-event-in-your-bot",level:2},{value:"Generate Stripe payment link through bot conversation",id:"generate-stripe-payment-link-through-bot-conversation",level:2}],u={toc:c};function d(t){var e=t.components,n=(0,r.Z)(t,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Yellow.ai Integration with Stripe Payment Gateway  allows the bot to generate Stripe payment links and view a specific payment status. "),(0,o.kt)("h2",{id:"connecting-stripe-payment-with-yellowai"},"Connecting Stripe payment with yellow.ai"),(0,o.kt)("h3",{id:"get-secret-key-from-your-stripe-app"},"Get Secret key from your Stripe app"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go to the ",(0,o.kt)("strong",{parentName:"p"},"Stripe")," dashboard > ",(0,o.kt)("strong",{parentName:"p"},"Developer")," > ",(0,o.kt)("strong",{parentName:"p"},"API Keys")," > Copy the ",(0,o.kt)("strong",{parentName:"p"},"Secret key"),". "),(0,o.kt)("img",{src:"https://i.imgur.com/T5ZL3l4.png",width:"70%"}))),(0,o.kt)("h3",{id:"connect-stripe-with-yellowai"},"Connect Stripe with yellow.ai"),(0,o.kt)("p",null,"In a two-tier environment, you can connect an integration app in the Development environment. In a three-tier environment, you can connect the integration app either in Staging or Sandbox. All connected integrations are available in the live environment.\nTo connect your Airpay account with Yellow.ai, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Navigate to the Development/Staging environment and go to\xa0",(0,o.kt)("strong",{parentName:"p"},"Extensions"),"\xa0>\xa0",(0,o.kt)("strong",{parentName:"p"},"Integrations"),"\xa0>\xa0",(0,o.kt)("strong",{parentName:"p"},"Payment")," \xa0> ",(0,o.kt)("strong",{parentName:"p"},"Stripe"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/kZCOqgT.png",alt:null}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In\xa0",(0,o.kt)("strong",{parentName:"p"},"Give account name"),", enter a unique name for the integration. You can use only lowercase alphanumeric characters and underscores (_)."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/4SbuWD5.png",alt:null}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Enter the ",(0,o.kt)("strong",{parentName:"p"},"Key secret")," that you copied using the previous sections.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Connect"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To add another account, click\xa0",(0,o.kt)("strong",{parentName:"p"},"+ Add account"),"\xa0and proceed with the previous steps. You can add a maximum of 15 accounts."))),(0,o.kt)("h3",{id:"configure-webhook-url-in-stripe-dashboard"},"Configure webhook URL in Stripe dashboard."),(0,o.kt)("p",null,"The webhook URL serves as a callback endpoint where Stripe can send notifications or updates regarding payment events, enabling your application to respond accordingly."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Copy the webhook URL from Stripe integration card."),(0,o.kt)("li",{parentName:"ol"},"Go to the Stripe ",(0,o.kt)("strong",{parentName:"li"},"Dashboard")," > ",(0,o.kt)("strong",{parentName:"li"},"Developers")," > ",(0,o.kt)("strong",{parentName:"li"},"Webhooks")," > ",(0,o.kt)("strong",{parentName:"li"},"Add endpoint"),"."),(0,o.kt)("li",{parentName:"ol"},"Enter the webhook URL in ",(0,o.kt)("strong",{parentName:"li"},"Endpoint")," field."),(0,o.kt)("li",{parentName:"ol"},"Select ",(0,o.kt)("strong",{parentName:"li"},"checkout.session.completed")," event in the select events to listen field. ")),(0,o.kt)("img",{src:"https://i.imgur.com/xZ5YYSO.png",width:"80%"}),(0,o.kt)("h2",{id:"receiving-stripe-payment-status-event-in-your-bot"},"Receiving Stripe payment status event in your bot"),(0,o.kt)("p",null,"Enable the following event under Events section:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"In Development/Staging environment, go to ",(0,o.kt)("strong",{parentName:"p"},"Automation")," > ",(0,o.kt)("strong",{parentName:"p"},"Event")," > ",(0,o.kt)("strong",{parentName:"p"},"Custom events"),".")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Navigate to the ",(0,o.kt)("inlineCode",{parentName:"p"},"stripe-payment-gateway")," event, click on the more options icon and select ",(0,o.kt)("strong",{parentName:"p"},"Activate"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/X8d0WQR.png",alt:"alt_text",title:"image_tooltip"})))),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Event"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Stripe Payment Status"),(0,o.kt)("td",{parentName:"tr",align:null},"In case of payments/refunds the status can be checked with these details.")))),(0,o.kt)("h2",{id:"generate-stripe-payment-link-through-bot-conversation"},"Generate Stripe payment link through bot conversation"),(0,o.kt)("p",null,"Once the Stripe account is connected, you can generate the paument link directly in bot conversations."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to Development/Staging environment and navigate to ",(0,o.kt)("strong",{parentName:"p"},"Automation")," > ",(0,o.kt)("strong",{parentName:"p"},"Build")," > Select the flow where you want to add the Generate payment link node.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Add node")," > ",(0,o.kt)("strong",{parentName:"p"},"Integrations")," > ",(0,o.kt)("strong",{parentName:"p"},"Stripe payment gateway"),"."),(0,o.kt)("img",{src:"https://i.imgur.com/eosqe5a.png",width:"80%"}),(0,o.kt)("table",{parentName:"li"},(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Option"),(0,o.kt)("th",{parentName:"tr",align:null},"Datatype"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Amount*"),(0,o.kt)("td",{parentName:"tr",align:null},"number"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose a variable that contains the amount to be used in the payment link.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Currency*"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose a variable that contains the currency to be used in the payment link")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Description*"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose a variable that contains the description to be included in the payment link.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Custom metadata*"),(0,o.kt)("td",{parentName:"tr",align:null},"Object"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose a variable that contains the custom metadata to be included in the payment link.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Product image*"),(0,o.kt)("td",{parentName:"tr",align:null},"string"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose a variable that contains the URL of the product image to be included in the payment link.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Product name*"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose a variable that contains the name of the product to be included in the payment link.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"After Completion type"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"The action to be taken after the payment is completed. You can choose to redirect the user to a specific URL or display a custom message.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"URL or Custom Message"),(0,o.kt)("td",{parentName:"tr",align:null},"String"),(0,o.kt)("td",{parentName:"tr",align:null},"For Redirect URL: Enter the URL to which the user should be redirected. ",(0,o.kt)("br",null)," For Show Custom Message: Enter the custom message that you want to display to the user.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Parse API response"),(0,o.kt)("td",{parentName:"tr",align:null},"-"),(0,o.kt)("td",{parentName:"tr",align:null},"Choose the function that you want to use to parse and handle the response received from the API after completing the payment. Parsing the API response allows the bot to extract relevant information and take appropriate actions based on the response.")))))),(0,o.kt)("h1",{id:"reference"},"Reference"),(0,o.kt)("p",null,"For more information about action nodes you use here, refer this ",(0,o.kt)("a",{parentName:"p",href:"https://stripe.com/docs/payments/payment-links"},"doc")))}d.isMDXComponent=!0}}]);