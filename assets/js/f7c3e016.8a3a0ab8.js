"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[21165],{603905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return f}});var a=n(667294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),p=u(n),c=i,f=p["".concat(s,".").concat(c)]||p[c]||m[c]||l;return n?a.createElement(f,r(r({ref:t},d),{},{components:n})):a.createElement(f,r({ref:t},d))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,r=new Array(l);r[0]=c;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[p]="string"==typeof e?e:i,r[1]=o;for(var u=2;u<l;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},814943:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return p}});var a=n(487462),i=n(263366),l=(n(667294),n(603905)),r=["components"],o={title:"File node",sidebar_label:"File"},s=void 0,u={unversionedId:"platform_concepts/studio/build/nodes/message-nodes1.md/file-node",id:"platform_concepts/studio/build/nodes/message-nodes1.md/file-node",title:"File node",description:"File node allows you to share files with users. This node supports the file formats such as JPG, PDF, MP3, MP4, CSV, DOC, DOCX, TXT, HTML, PPT, and PPTX.",source:"@site/docs/platform_concepts/studio/build/nodes/message-nodes1.md/file-node.md",sourceDirName:"platform_concepts/studio/build/nodes/message-nodes1.md",slug:"/platform_concepts/studio/build/nodes/message-nodes1.md/file-node",permalink:"/docs/platform_concepts/studio/build/nodes/message-nodes1.md/file-node",draft:!1,tags:[],version:"current",frontMatter:{title:"File node",sidebar_label:"File"},sidebar:"platform_concepts",previous:{title:"Video",permalink:"/docs/platform_concepts/studio/build/nodes/message-nodes1.md/video-node"},next:{title:"Quick Replies",permalink:"/docs/platform_concepts/studio/build/nodes/message-nodes1.md/quick-replies"}},d={},p=[{value:"Sharing static file through the File node",id:"sharing-static-file-through-the-file-node",level:3},{value:"Sharing dynamic file links with users using the File node",id:"sharing-dynamic-file-links-with-users-using-the-file-node",level:3},{value:"Collecting user-uploaded files",id:"collecting-user-uploaded-files",level:2},{value:"1. Sending files via multipart form-data",id:"1-sending-files-via-multipart-form-data",level:3},{value:"Request Configuration",id:"request-configuration",level:4},{value:"Example Request",id:"example-request",level:4},{value:"2. Sending Files as Raw Binary (Octet-Stream)",id:"2-sending-files-as-raw-binary-octet-stream",level:3},{value:"Request Configuration",id:"request-configuration-1",level:4},{value:"Example Request",id:"example-request-1",level:4},{value:"3. Sending files as a Base64-encoded string",id:"3-sending-files-as-a-base64-encoded-string",level:3},{value:"Request Configuration",id:"request-configuration-2",level:4},{value:"Example Request",id:"example-request-2",level:4}],m={toc:p};function c(e){var t=e.components,n=(0,i.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"File node allows you to share files with users. This node supports the file formats such as JPG, PDF, MP3, MP4, CSV, DOC, DOCX, TXT, HTML, PPT, and PPTX."),(0,l.kt)("p",null,"File node is used to share important documents, guides, or invoices, contracts, or promotional materials that the user can download."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Limitaion")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"File size limit is 15 MB.")),(0,l.kt)("h3",{id:"sharing-static-file-through-the-file-node"},"Sharing static file through the File node"),(0,l.kt)("p",null,"To configure static file format, follow these steps:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Drag and drop the file node in the flow editor."),(0,l.kt)("img",{src:"https://imgur.com/ugwN3mU.png",alt:"drawing",width:"90%"})),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Upload the file that you want to send to the user."))),(0,l.kt)("h3",{id:"sharing-dynamic-file-links-with-users-using-the-file-node"},"Sharing dynamic file links with users using the File node"),(0,l.kt)("p",null,"You can use File node to display the various file formats dynamically based on the user\u2019s selection. For instance, when a user requests a copy of their insurance policy document. The AI-agent will prompt the user for details like their policy number to display the relevant file formats dynamically."),(0,l.kt)("p",null,"To display a dynamic file formats, follow these steps:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Go to ",(0,l.kt)("strong",{parentName:"p"},"Functions")," and add the below code to dynamically fetch the file format."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/mPADcD2.png",alt:null})))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Dynamic format")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "file": {\n        "name": "Product_Manual.pdf",\n        "url": "https://www.antennahouse.com/hubfs/xsl-fo-sample/pdf/basic-link-1.pdf",\n        "urlEncoded": true/false\n    }\n}\n')),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Add a Function node to the flow editor."),(0,l.kt)("img",{src:"https://i.imgur.com/hZoIM4I.png",alt:"drawing",width:"50%"})),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Select the function name and select a variable to store the response."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/67ugrSj.png",alt:null}))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Add a File node and select the variable to display the dynamic file format."),(0,l.kt)("img",{src:"https://i.imgur.com/xXwioa1.png",alt:"drawing",width:"50%"}))),(0,l.kt)("p",null,"Refer to the following GIF to see how the file node works."),(0,l.kt)("p",null,"   ",(0,l.kt)("img",{parentName:"p",src:"https://imgur.com/bDNsdi0.gif",alt:null})),(0,l.kt)("hr",null),(0,l.kt)("h1",{id:"sending-user-uploaded-files-to-apis"},"Sending user-uploaded files to APIs"),(0,l.kt)("p",null,"You can integrate file uploads within a chatbot workflow to enable collecting, processing, and transfering user-submitted files seamlessly. This section outlines how to export files uploaded by users via the chatbot and send them to third-party systems using APIs."),(0,l.kt)("p",null,"Once a user uploads a file\u2014such as a file (document, image or video), the platform generates a file URL that can be used to transfer the file in different formats based on the receiving system\u2019s requirements."),(0,l.kt)("h2",{id:"collecting-user-uploaded-files"},"Collecting user-uploaded files"),(0,l.kt)("p",null,"The ",(0,l.kt)("strong",{parentName:"p"},"File Prompt Node")," allows users to upload their files through the chatbot. Each uploaded file generates a URL that is stored in a variable, enabling subsequent processing. You can then use the file URL to send the file data to external systems using one of the supported methods:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Method"),(0,l.kt)("th",{parentName:"tr",align:null},"When to use"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1. ",(0,l.kt)("strong",{parentName:"td"},"Multipart Form-Data")),(0,l.kt)("td",{parentName:"tr",align:null},"Best for APIs that accept file uploads in a traditional form-data format. Supports multiple files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2. ",(0,l.kt)("strong",{parentName:"td"},"Raw Binary (Octet-Stream)")),(0,l.kt)("td",{parentName:"tr",align:null},"Ideal for APIs that require direct binary file input. Only supports one file per request.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"3. ",(0,l.kt)("strong",{parentName:"td"},"Base64-Encoded String")),(0,l.kt)("td",{parentName:"tr",align:null},"Suitable for APIs requiring file data within JSON or XML structures.")))),(0,l.kt)("h3",{id:"1-sending-files-via-multipart-form-data"},"1. Sending files via multipart form-data"),(0,l.kt)("p",null,"The platform fetches the files from the provided URLs, downloads them, and includes their binary content in the form-data request before forwarding it to the API."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"This method is commonly used in browser-based form submissions.  "),(0,l.kt)("li",{parentName:"ul"},"The file is included as part of a ",(0,l.kt)("inlineCode",{parentName:"li"},"multipart/form-data")," request.  "),(0,l.kt)("li",{parentName:"ul"},"Multiple files can be uploaded in a single request.  "),(0,l.kt)("li",{parentName:"ul"},"Additional form fields can be added if needed.  ")),(0,l.kt)("h4",{id:"request-configuration"},"Request Configuration"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Set the ",(0,l.kt)("inlineCode",{parentName:"li"},"Content-Type")," header to ",(0,l.kt)("inlineCode",{parentName:"li"},"multipart/form-data"),"."),(0,l.kt)("li",{parentName:"ul"},"Specify the file URL(s) in the form-data section.")),(0,l.kt)("h4",{id:"example-request"},"Example Request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-plaintext"},"POST hhttps://sabl.execute-api.ap-south-1.amazonaws.com/UAT/upload-multipart\n\nContent-Type: multipart/form-data\n\nfield1: value1\nfile1: {{url1}}\nfile2: {{url2}}\n")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"2-sending-files-as-raw-binary-octet-stream"},"2. Sending Files as Raw Binary (Octet-Stream)"),(0,l.kt)("p",null,"The platform retrieves the file content from the file URL and transmits its binary data as the request body."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The file is sent as raw binary data in the request body."),(0,l.kt)("li",{parentName:"ul"},"Suitable for APIs that accept direct binary file transfers."),(0,l.kt)("li",{parentName:"ul"},"Supports only one file per request."),(0,l.kt)("li",{parentName:"ul"},"Additional form fields are not supported.")),(0,l.kt)("h4",{id:"request-configuration-1"},"Request Configuration"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Set the ",(0,l.kt)("inlineCode",{parentName:"li"},"Content-Type")," header to ",(0,l.kt)("inlineCode",{parentName:"li"},"application/octet-stream"),"."),(0,l.kt)("li",{parentName:"ul"},"The request body should contain the binary content of the file.")),(0,l.kt)("h4",{id:"example-request-1"},"Example Request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-plaintext"},"POST https://sabl.execute-api.ap-south-1.amazonaws.com/UAT/upload-octet?filename=ss2.bin\n\nContent-Type: application/octet-stream\n\n{{file_url}}\n")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"3-sending-files-as-a-base64-encoded-string"},"3. Sending files as a Base64-encoded string"),(0,l.kt)("p",null,"The platform fetches the file, converts it to Base64, and embeds it in the request payload before forwarding it to the API."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The file is encoded in Base64 format and sent as a string."),(0,l.kt)("li",{parentName:"ul"},"Useful for APIs requiring file data in JSON, XML, or other structured formats."),(0,l.kt)("li",{parentName:"ul"},"Can be embedded within JSON request bodies or form fields.")),(0,l.kt)("h4",{id:"request-configuration-2"},"Request Configuration"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Use the ",(0,l.kt)("inlineCode",{parentName:"li"},"$$toBase64()")," function to convert the file URL into a Base64-encoded string."),(0,l.kt)("li",{parentName:"ul"},"Insert the encoded file string into the request body.")),(0,l.kt)("h4",{id:"example-request-2"},"Example Request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},"POST https://sabl.execute-api.ap-south-1.amazonaws.com/UAT/upload-multipart\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "file_name": "invoice.pdf",\n  "file_content": "$$toBase64({{file_url}})"\n}\n')),(0,l.kt)("hr",null))}c.isMDXComponent=!0}}]);