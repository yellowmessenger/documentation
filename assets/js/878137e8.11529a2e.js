"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[19488],{603905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return h}});var a=n(667294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=o,h=c["".concat(s,".").concat(m)]||c[m]||u[m]||i;return n?a.createElement(h,r(r({ref:t},d),{},{components:n})):a.createElement(h,r({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<i;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},324216:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(487462),o=n(263366),i=(n(667294),n(603905)),r=["components"],l={title:"Message Nodes",sidebar_label:"Messages"},s=void 0,p={unversionedId:"platform_concepts/studio/build/nodes/message-nodes",id:"platform_concepts/studio/build/nodes/message-nodes",title:"Message Nodes",description:"Message nodes are one-way communication nodes which can be used when the AI-agent has to display information to the user without expecting or taking any response.",source:"@site/docs/platform_concepts/studio/build/nodes/message-nodes.md",sourceDirName:"platform_concepts/studio/build/nodes",slug:"/platform_concepts/studio/build/nodes/message-nodes",permalink:"/docs/platform_concepts/studio/build/nodes/message-nodes",draft:!1,tags:[],version:"current",frontMatter:{title:"Message Nodes",sidebar_label:"Messages"},sidebar:"platform_concepts",previous:{title:"Prompts",permalink:"/docs/platform_concepts/studio/build/nodes/prompt-nodes"},next:{title:"Actions",permalink:"/docs/platform_concepts/studio/build/nodes/action-nodes"}},d={},c=[{value:"1. Common features across message nodes",id:"1-common-features-across-message-nodes",level:2},{value:"2. Text",id:"2-text",level:2},{value:"3. Image",id:"3-image",level:2},{value:"4. Carousel",id:"4-carousel",level:2},{value:"5. Video",id:"5-video",level:2},{value:"6. File",id:"6-file",level:2},{value:"7. Quick Replies",id:"7-quick-replies",level:2},{value:"8. WhatsApp List",id:"8-whatsapp-list",level:2},{value:"9. WhatsApp product message",id:"9-whatsapp-product-message",level:2}],u={toc:c};function m(e){var t=e.components,n=(0,o.Z)(e,r);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Message nodes are one-way communication nodes which can be used when the AI-agent has to display information to the user without expecting or taking any response.\nYou can ",(0,i.kt)("strong",{parentName:"p"},"randomize")," the node text and add a ",(0,i.kt)("strong",{parentName:"p"},"delay")," to each node.  "),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"1-common-features-across-message-nodes"},"1. Common features across message nodes"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Randomization")),(0,i.kt)("p",null,"Randomization is a feature available in nodes that allows AI-agents show different variation of greeting messages/ questions to users, making the conversation feel more natural and human-like."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"To add multiple texts, click ",(0,i.kt)("strong",{parentName:"li"},"Add multiple text for randomizing")," on the node. "),(0,i.kt)("li",{parentName:"ol"},"Enter variations of the text that you want your users to see. ")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/Y2O5tcA.png",alt:null})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Delay")),(0,i.kt)("p",null,"You can set a delay in displaying each of these nodes. "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Fetch from")),(0,i.kt)("p",null,"A Fetch from field will be provided in most of the fields to render the dynamic data of that respective node."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/N8iN11b.jpg",alt:null})),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Message nodes are used only for interactive purpose, you cannot do anything else apart from displaying text/video/image etc. (along with ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/bot-variables#hed-1"},"variables"),") You cannot use auto complete and other features from ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/prompt-nodes#3-make-prompt-smarter"},"here")," and you cannot store the user responses because these nodes are not designed to fetch user responses.")),(0,i.kt)("hr",null),(0,i.kt)("p",null,"Following are the different types of message nodes: "),(0,i.kt)("h2",{id:"2-text"},"2. Text"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"This node is also available for voice AI-agents. ")),(0,i.kt)("p",null,"Display a simple text with this node.  "),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"This node can be used to follow up with most of the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/prompt-nodes"},"prompt")," nodes. You can also display links in a text node.")),(0,i.kt)("p",null,"Let's say a customer has paid for their order, you can use the text node to display a success message to the cutomer."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/KwvAAwd.jpg",alt:null})),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"3-image"},"3. Image"),(0,i.kt)("p",null,"Display any image (less than 10MB) with this node. For example, you can display welcome image to users when they open the AI-agent."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/NuHZKEb.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Dynamic format for web")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"const imageVariable = [{\n  options: {  \n    caption: {  \n      type: 'text',\n      value: 'image caption here' \n    },\n  },\n  url: 'image_url_here'\n}]\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Dynamic format for WhatsApp")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"const imageVariable = [{\n  options: {  \n    caption: {  \n      type: 'text',\n      value: 'image caption here' \n    },\n  },\n  url: location.file.url\n}]\n")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"4-carousel"},"4. Carousel"),(0,i.kt)("p",null,"Display information using a carousel card with this node. Unlike the carousel in prompt nodes, these carousel buttons do not perform any action, nor the response can be stored in a variable. "),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/2iS11MA.png",alt:null})),(0,i.kt)("p",null,"Let's say that you own a travel website, you can display images of a specific tourist destination along with buttons to book accomodation and airport pickups."),(0,i.kt)("p",null,"To disable the carousel list after a button has been clicked:"),(0,i.kt)("p",null,"Go to the Carousel node and click the ",(0,i.kt)("strong",{parentName:"p"},"settings")," icon."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/XnzkjGq.png",alt:null})),(0,i.kt)("p",null,"Enable ",(0,i.kt)("strong",{parentName:"p"},"Disable action after click")," and click ",(0,i.kt)("strong",{parentName:"p"},"Save"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/0jQjuQp.png",alt:null})),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"This setting will not apply to RingCentral.")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"5-video"},"5. Video"),(0,i.kt)("p",null,"Display any MP4 video file with this node. For example, you can choose to show a demo video of how a customer can place an order on your e-commerce website."),(0,i.kt)("p",null,"To customize this node:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the tools option. "),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/PeQYSgi.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Choose the channel on the left pannel and enable the rest of the options based on your preference and click ",(0,i.kt)("strong",{parentName:"p"},"Save"),". By default, the video will be downloadable, and controls will be shown to users, allowing them to pause, fast forward, maximize and set playback speed."))),(0,i.kt)("img",{src:"https://i.imgur.com/10coBia.png",alt:"drawing",width:"70%"}),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Feature"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hide Input"),(0,i.kt)("td",{parentName:"tr",align:null},"Hides the input field for the user, preventing responses to the video node.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Hide Home Button"),(0,i.kt)("td",{parentName:"tr",align:null},"Hides the home button for the user.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Thumbnail"),(0,i.kt)("td",{parentName:"tr",align:null},"Upload a thumbnail image for the video.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"AutoPlay"),(0,i.kt)("td",{parentName:"tr",align:null},"Video automatically plays without user intervention.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Muted"),(0,i.kt)("td",{parentName:"tr",align:null},"Video will be muted while being played.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Loop"),(0,i.kt)("td",{parentName:"tr",align:null},"Video will play in a loop.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Show Controls"),(0,i.kt)("td",{parentName:"tr",align:null},"Display controls such as pause, fast forward, and mute for user interaction with the video.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Downloadable"),(0,i.kt)("td",{parentName:"tr",align:null},"Allows users to download the video.")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},"Video size should be lesser than 50 MB"),(0,i.kt)("li",{parentName:"ol"},"This node does not support Youtube links, but you can upload any commonly available video links. For example, ",(0,i.kt)("a",{parentName:"li",href:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"),"."))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Dynamic format")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'const videoVar = {\n  "url": "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",\n  "caption": { \n    "type": "text",\n    "value": "video caption"\n  }\n}\n')),(0,i.kt)("p",null,"or"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'const videoVar = "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"\n')),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"6-file"},"6. File"),(0,i.kt)("p",null,"Display a file of the most common extension (JPG, JPEG, MP3, MP4, CSV, PDF, Doc, Docx, Txt, HTML, PPT, PPTX, etc.) with this node. You can display your company brochures through file node"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/jmqJpC8.jpg",alt:null})),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"File size limit is 15 MB.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Dynamic format")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n    "file": {\n        "name": "Product_Manual.pdf",\n        "url": "https://www.antennahouse.com/hubfs/xsl-fo-sample/pdf/basic-link-1.pdf",\n        "urlEncoded": true/false\n    }\n}\n\n')),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"7-quick-replies"},"7. Quick Replies"),(0,i.kt)("p",null,"Display a question along with quick reply buttons with this node. For example, the AI-agent prompts the user with options like Technical Issue, Billing Inquiry, etc., enabling quick selection of the relevant category for their product-related query."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Unlike the Quick Replies Prompt node, a fallback message need not be configured to this nor this node is expected to follow another node.")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/swL8R0v.png",alt:null})),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"You can send files, images and videos either by uploading them in the node or by fetching the link to it from a variable.")),(0,i.kt)("p",null,"Variable format: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'  [\n   {\n    "url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVRqBmDVlOF8jpQbmAcAglnp7Bxggt1JzZEw&usqp=CAU",\n    "options":\n     {\n     "caption":"kohli"\n     }\n   }\n  ]\n')),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Fetch from")," and add a dynamic value - if required:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n  "title": [\n    "Select an option",\n    "Pick an option"\n  ],\n  "options": [\n    {\n      "text": "cold drink",\n      "title": "Cold Drink",\n      "advancedSettings": true,\n      "aliases": [\n        "coke",\n        "soft drink"\n      ],\n      "url": "https://www.tasty-food.com",\n      "postback": "post-back",\n      "image": "https://cdn.abc.com/coke-img.jpeg",\n      "textColor": "#4384f5",\n      "backgroundColor": "#FFFF",\n      "id": "quick_01d78e38b44e1915",\n      "analytics": {\n        "aevent": "test-analytics"\n      }\n    },\n    {\n      "text": "",\n      "title": "Btn #2",\n      "advancedSettings": false,\n      "id": "quick_d9eda393404266d4"\n    },\n    {\n      "text": "",\n      "title": "Btn #3",\n      "advancedSettings": false,\n      "id": "quick_39563a54f6889f4d"\n    }\n  ]\n}\n')),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"8-whatsapp-list"},"8. WhatsApp List"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"}," This node does not expect any user reply, hence the fallback message need not be configured nor this node is expected to follow another node. It simply displays the list values. This node is used for interactive purposes only. ")),(0,i.kt)("p",null,"This node lets you configure the lists displayed on the WhatsApp channel. WhatsApp API provides a better UI for businesses to send List items (within a 24 hours window)."),(0,i.kt)("p",null,"For example, a retail business can utilize this node to configure lists for WhatsApp users, showcasing new product arrivals, promotions, and featured items, leveraging WhatsApp's enhanced UI for effective engagement within the 24-hour window."),(0,i.kt)("p",null,"To create a WhatsApp List:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Select ",(0,i.kt)("strong",{parentName:"li"},"WhatsApp List")," under ",(0,i.kt)("strong",{parentName:"li"},"Prompt Nodes"),"."),(0,i.kt)("li",{parentName:"ol"},"Populate the fields ",(0,i.kt)("strong",{parentName:"li"},"Message Body"),", ",(0,i.kt)("strong",{parentName:"li"},"Title")," and ",(0,i.kt)("strong",{parentName:"li"},"Row"),"."),(0,i.kt)("li",{parentName:"ol"},"To provide row details, click a row and populate the fields ",(0,i.kt)("strong",{parentName:"li"},"Title"),", ",(0,i.kt)("strong",{parentName:"li"},"Value")," and ",(0,i.kt)("strong",{parentName:"li"},"Description"),".")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/vmDdimd.png",alt:null})),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Fetch from")," and add a dynamic value - if required: "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n  "title": "Please select your preferred slot for Appointment",\n  "optionText": "Appointment Slots",\n  "options": [\n    {\n      "section": "June 5, 2021",\n      "options": [\n        {\n          "title": "9am-11am",\n          "text": "5.9-5",\n          "description": "General Medicine"\n        },\n        {\n          "title": "12pm-2pm",\n          "text": "5.12-2",\n          "description": "Orthopedic"\n        },\n        {\n          "title": "2pm-4pm",\n          "text": "5.2-4",\n          "description": "Physiotherapy"\n        }\n      ]\n    },\n    {\n      "section": "June 6, 2021",\n      "options": [\n        {\n          "title": "9am-11am",\n          "text": "6.9-5",\n          "description": "General Medicine"\n        },\n        {\n          "title": "12pm-2pm",\n          "text": "6.12-2",\n          "description": "Orthopedic"\n        },\n        {\n          "title": "2pm-4pm",\n          "text": "6.2-4",\n          "description": "Physiotherapy"\n        }\n      ]\n    },\n    {\n      "section": "June 7, 2021",\n      "options": [\n        {\n          "title": "9am-11am",\n          "text": "7.9-5",\n          "description": "General Medicine"\n        },\n        {\n          "title": "12pm-2pm",\n          "text": "7.12-2",\n          "description": "Orthopedic"\n        },\n        {\n          "title": "2pm-4pm",\n          "text": "7.2-4",\n          "description": "Physiotherapy"\n        }\n      ]\n    }\n  ],\n  "footer": "Please follow Covid Guideline while consulting."\n}\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Limitations")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Maximum of 10 Buttons can be added. Multiple buttons cannot be selected in one go and are not supported in notifications."),(0,i.kt)("li",{parentName:"ul"},"Character limit of Body is 1024."),(0,i.kt)("li",{parentName:"ul"},"Character limit of Footer is 60."),(0,i.kt)("li",{parentName:"ul"},"Character limit of Button Text and Response is 24."),(0,i.kt)("li",{parentName:"ul"},"Section Title and List Headers are optional.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"}," Click the tools icon and configure the node. For more details, see ","[Nodes]","(",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes"},"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes"),". ")),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Configure text displayed on the AI-agent")),(0,i.kt)("p",null,"To beautify the text you enter in the field -",(0,i.kt)("strong",{parentName:"p"},"bot says")," you can add the following. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'1. Web (use HTML tags)\n\n  - Bold: <strong> baggage </strong> \n  - Italics: <i> italics </i> \n  - Hyperlink: <a href="google.com"> Google </a> \n\n2. Whatsapp \n\n  - Bold: Message *- \n  - Italics: _ Message _ \n')),(0,i.kt)("h2",{id:"9-whatsapp-product-message"},"9. WhatsApp product message"),(0,i.kt)("p",null,"This section helps you create a WhatsApp product messaging journey with a sample use case."),(0,i.kt)("p",null,"  ",(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/2VbCAhb.png",alt:null})),(0,i.kt)("p",null,"For example, craft personalized product messaging journeys on WhatsApp, such as sending automated order confirmations, shipment updates, and post-purchase feedback requests, enhancing customer experience and streamlining communication channels."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Prerequisites")," "),(0,i.kt)("p",null,"The following are the prerequisites to create a catalog flow:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://business.facebook.com/commerce/catalogs/930872404988098/products"},"Add the Catalog with required details"),"."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://www.craft.me/s/0loidngTNNAzkK/b/2AF9F5B2-431A-4361-801B-535519A98047/Catalog-Linked-with-the-WABA"},"Connect the catalog to the WABA"),"."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/studio/database#create"},"Create a table")," and ",(0,i.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/studio/database#-3-import-data-into-table"},"add the products")," from the Facebook catalogue to Yellow's database to use them while sending SPM/ MPM. Note that this step can be skipped. You can add the product IDs manually in the SPM/MPM node if your catalogue size is small.")),(0,i.kt)("p",null,"To create a catalog journey, follow these steps - "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Use the same CSV used in the Catalog Manager to fill the AI-agent DB. You can create a DB table with the same headers as the Data feed sheet and use it to upload all the products to the DB.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"There is one limitation on Cloud DB Table creation which does not let you create a table column name with the header as ID due to the min character required for a header. You have to keep a copy of the original Feed sheet with the header as IDS and use it to upload to DB.")),(0,i.kt)("p",null,"Here is the screenshot of a sample CSV file."),(0,i.kt)("p",null,"   ",(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfktJE4vn1LWBNwk843DQAoyX1b6zG3iRFcoKmicwyKhFt1ekgEaMrkaTWAXFfALWGfdaVc3RHujJEMAZswM7v231h1CtXDz5og5MwALtz2PEug4xqgEXABuDQBkFdghct2jVP2ZoMuCcoS3e5ZWefUqfTsG/Image.jpg",alt:null})),(0,i.kt)("p",null,"It appears in the Database as shown here."),(0,i.kt)("p",null,"  ",(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfkf7c28AhauJGr4SMiysKKMeabHngvRHjiass3eBGBTccSx3Z1jcAjG1RyZCEjZbMfwp6wg9EheTLkn6tAzm2Y8Gf2NwmMZg9vHk7TS6WNbSz9i9GUcyhf6poQsK9DmRi6RLnJJVEH6k6HaGkz5BnFhA3Vo/Image.jpg",alt:null})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Once the DB is ready, you can query products based on the Category/Title. Using the Variable node, you can dynamically fetch the product IDS and pass them to the SPM/MPM nodes by enabling the variable option and selecting the array of products."),(0,i.kt)("img",{src:"https://i.imgur.com/xfyVLYd.png",alt:"drawing",width:"50%"}))),(0,i.kt)("p",null,"Sample variable code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'[\n  {\n    "title": "Section 1",\n    "productIds": [\n      "Product 1",\n      "Product 2",\n      "Product 3"\n    ]\n  },\n  {\n    "title": "Section 2",\n    "productIds": [\n      "Product 4",\n      "Product 5"\n    ]\n  },\n  {\n    "title": "Section 3",\n    "productIds": [\n      "Product 6"\n    ]\n  }\n]\n')),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the above step, you have seen how a product can be fetched based on different conditions and can be used in the SPM/MPM node. Alternatively, you can also pass the product IDs manually, as shown in the below screenshot:"),(0,i.kt)("img",{src:"https://i.imgur.com/z1wLBPr.png",alt:"drawing",width:"50%"}))),(0,i.kt)("p",null,"To handle Cart events when a user decides to purchase a product, follow the above steps."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Purchase flow of an end-user"),":"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"User receives the SPM on WhatsApp"),(0,i.kt)("li",{parentName:"ol"},"User views the products and decides to purchase it"),(0,i.kt)("li",{parentName:"ol"},"User clicks on Add to Cart button and selects the quantity to purchase"),(0,i.kt)("li",{parentName:"ol"},"The Product gets added with the quantity selected by the user"),(0,i.kt)("li",{parentName:"ol"},"User send the cart to the Business")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Incase of invalid or rejected ProductID or ContentID passed on the node the message/product will not be sent to the user.")),(0,i.kt)("p",null,"Once the user sends the cart, the products from the users Cart will be removed and will be sent to the Business as an events on the AI-agent. to recieve the Cart Event its required to enable it from the Event Hub"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfkxJeooqj886spjGBpqA68UNcEvVx5FXGCYb2wp7dxtbG9m3Dgpgmzy9GudbTXK8uA1JXm16jKTDE6jaix5pBZftNZ3Pvh3oPhC9HkFnpLSsSHJmnvv581GuMAfUzTcmdLWpQjfros4DqqoDrGk3rRdq9qP/Image.jpg",alt:null})),(0,i.kt)("p",null,"This event will contain the below Data in the backend which can be used for further information required on the AI-agent to be processed."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n  "type": "event",\n  "event": {\n    "code": "whatsapp-cart",\n    "data": {\n      "order": {\n        "catalog_id": "619431863167996",\n        "product_items": [\n          {\n            "currency": "INR",\n            "item_price": 55,\n            "product_retailer_id": "YM012",\n            "quantity": 3\n          }\n        ],\n        "text": "I want to buy this"\n      }\n    }\n  }\n}\n')),(0,i.kt)("p",null,"You can handle this event using a journey to carry out the next steps of the buying journey for the user as shown below."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfmMZnxd9TZ5Uy82euZXsv5KEXjambLofoHEkEdFhStUQzSWirJaXLdDZ3xKuHX8cBDhN2aECxLzPrrLxVX1PoBNpBnLutzYt5vYXGsXdbaUJN37sdWjiqpbHcdbvtpjgXvG1vYPVyrhZCaDDoUDwdJPFLHh/Image.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfkbaaHAPRWZDbniK88mvqZhcRk823WjzNi31VjvC39PTK9xFqjbPAviWDLwWTe5hdtgUbQS2M5FtGX9z1cS4x3teZDpRd1cXEHttwEKjRy55BZJT6uc7YRMb7ym55BZPzZtQeFedfeLayEA2AumEHEcGDgz/Image.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfm7mos43J98Ex4czeVTuUQXZozjan4vAZQkybF5MpDPguAnsAPZ7RT23SzEpCHGMS4RR9LUHVFoFrwq2d3CPn7qoi4CwDe8GHCntRtDwEVtWWR3pm9K33Shi4VSATJiBwjF3v3DcGNdpF6tArZ8brbcvrmQ/Image.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfkztavgtCYywBACEY5HRyKAJDRzybPJj3AFqcQNMZJUVaUPYDxtv1rQsyj3LMRuVs5qaPk53bp6SE5GcSw9rAWQMwb38Wd6NzjSD2rv4TfKUoQoDtbCgGLrAYsZaKpHQ2awXHNqK1jMSEQG278bd3eBZEkD/Image.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfm4KQDAm34rkXbz1fKKaw2Y1gr3LdtKX6gGCjtTHSASgFfweBsEeVwjsSNGF5p6SR2AV9Wqw3qQPUo5wxf2A2Y7Ac4tEkqZVmj73TSoCRGDKi4M9evAGsxmBvpMtJSLspF73ib9npa8K6SVQsfqoqMhgJfw/Image.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfmHHPievXu1X8Qk2iP8HegpWun5GMj8ZqpYKLsifTBLzzqYQycjFEkHjK6uLS6KwLnHFgD8bAUmAeXAvkTKAQCKZrXKFs4kyYGy6JNKj4BXxrjCJ7M7KytztWQBcim6aHkgPSkc8fC1FkvuNV4B5CQ9aw3y/Image.jpg",alt:null})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"The Message Business option also allows for another event type to be configured. This event can be sent back to the AI-agent as a normal message, or it can be fetched as an event to provide context about the product for which the message was sent.")),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfmNJL9wfkW5hC3z4pk1oFhjAUfdeFzEtZGD3g6dxz9BRwu5iqfX594rr9uTpyguRNHGQ7iKid5FKJMFeJ6nANvncEaSMezx1XPyQhZ2dpLvpk7CCVX4QiCnSh9ZVkYYEVTcsTwrnTuKfr32Hpb6chFpvmcF/Image.jpg",alt:null})),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://secure-res.craft.do/v2/9NjLLkjfTCVmNrCRZiZ9LoawipgB9XdESAP4b83XbRAp7ZnFsoo8ohDNH64jUEEqg5USQUkWUydeWUSEcE6HwmkXom7PtwPbpwWZiNYtmLFaEcgkHCu9PHehKHfxjVNXRiemsMxbmVLeHTit9TdTcmCfkcfYd6DU4oUGwYZvCQSpDgiGJCZKoa3NmxoXdnhxu35pY9fnaACj453GPhhUu1A2p3fTkJ3NzKqAPFkhGBgvvQbw5BimA4fNfAbo7eHZ3DVQLwuGZv7D1AagypJTMwHteTwHjLjYoDZ5T2Rxfy9uSBHDpU/Image.jpg",alt:null})),(0,i.kt)("p",null,"Ideally, it is suggested to have a human agent routing available to help users with queries related to the product, which can be handled using NLP as well."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The Message Business will send both the message and the event to the AI-agent if the event is active on the Event Hub. In case the event is disabled, the message can be handled using NLP, and no event will be sent to the AI-agent for getting the context of the product query.")),(0,i.kt)("p",null,"The event will be as below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n  "type": "event",\n  "event": {\n    "code": "whatsapp-product-query",\n    "data": {\n      "context": {\n        "referred_product": {\n          "catalog_id": "619431863167996",\n          "product_retailer_id": "YM012"\n        }\n      },\n      "from": "919999999999",\n      "id": "ABEGkYcjBiJlAgo-sDGvi1C_TNRG",\n      "text": {\n        "body": "Whats the expiry date of the product?"\n      },\n      "timestamp": "1664561602",\n      "type": "text"\n    }\n  }\n}\n')),(0,i.kt)("p",null,"This completes the AI-agent flow for the SPM/MPM feature to be handled for a basic Commerce flow."),(0,i.kt)("p",null,"These flows can also be created with other complex use cases with live agent support for a better user experience when the buyer wants to get a consultation or get more information on the product before purchasing."))}m.isMDXComponent=!0}}]);