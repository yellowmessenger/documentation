"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[57932],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(96540);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}},30081:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"cookbooks/studio/dynamic-quickreplies","title":"How to create dynamic quick replies?","description":"A Fetch from field is available in the quick replies node to add the code to generate dynamic quick replies.","source":"@site/docs/cookbooks/studio/dynamic-quickreplies.md","sourceDirName":"cookbooks/studio","slug":"/cookbooks/studio/dynamic-quickreplies","permalink":"/docs/cookbooks/studio/dynamic-quickreplies","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"How to create dynamic quick replies?","sidebar_label":"Create dynamic quick replies"},"sidebar":"cookbooks","previous":{"title":"Hide input field in quick replies","permalink":"/docs/cookbooks/studio/hide-input"},"next":{"title":"Dynamically load the callout banner","permalink":"/docs/cookbooks/studio/dynamic-callout-banner"}}');var s=t(74848),i=t(28453);const r={title:"How to create dynamic quick replies?",sidebar_label:"Create dynamic quick replies"},a=void 0,l={},c=[{value:"Sample snippet to generate dynamic quick replies",id:"sample-snippet-to-generate-dynamic-quick-replies",level:3},{value:"Convert API Responses to Arrays",id:"convert-api-responses-to-arrays",level:3},{value:"Create dynamic WhatsApp list",id:"create-dynamic-whatsapp-list",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"Fetch from"})," field is available in the quick replies node to add the code to generate dynamic quick replies."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Include a ",(0,s.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/action-nodes-overview/function-node",children:"function node"})," and write the code to generate dynamic quick replies(you can also refer to the ",(0,s.jsx)(n.a,{href:"#sample-snippet-to-generate-dynamic-quick-replies",children:"sample code"})," below)."]}),"\n",(0,s.jsxs)(n.li,{children:["Store the response of that function node in a ",(0,s.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/bot-variables#21-custom-variables",children:"variable"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Use quick replies node to display this data by passing the variable in the ",(0,s.jsx)(n.strong,{children:"Fetch from"})," field(as shown below)."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/EJpq5WO.png",alt:""})}),"\n",(0,s.jsx)(n.h3,{id:"sample-snippet-to-generate-dynamic-quick-replies",children:"Sample snippet to generate dynamic quick replies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'return new Promise(resolve => {\n      // Your logic goes here\n      let title = data.variables.carsData2;\n      let options = [];\n      for (let i = 0; i < title.length; i++) {\n        options.push({title : title[i].Mfr_CommonName, text:title[i].Mfr_Name});\n      }\n      let qrObject = {\n        "title": "Here are list of cars from JAPAN",\n        "options": options\n      };\n    console.log(qrObject,"qrObject");\n    resolve(qrObject);\n  });                                               \n'})}),"\n",(0,s.jsx)(n.h3,{id:"convert-api-responses-to-arrays",children:"Convert API Responses to Arrays"}),"\n",(0,s.jsx)(n.p,{children:"To parse API responses and convert them into an array format, refer the following snippet."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'return new Promise(resolve => {\n    let apiResponse = ymLib.args.apiResponse; // fetch API response\n    let body;\n\n    if (apiResponse && apiResponse.body) {\n        body = JSON.parse(apiResponse.body) // parse API response and store it in body variable\n    }\n    console.log(body,"2w2w2w2w2")\n    let cars = body.Results\n    let carsInfo = []\n    for(let i=0;i< cars.length; i++) \n    {\n        if(cars[i].Country=="JAPAN"){\n            carsInfo.push({"Mfr_CommonName":cars[i].Mfr_CommonName,"Mfr_Name":cars[i].Mfr_Name}) // fetch PostOffice Name and store in postOfficeName array\n        }\n    }\n    resolve(carsInfo);\n});    \n'})}),"\n",(0,s.jsx)(n.h2,{id:"create-dynamic-whatsapp-list",children:"Create dynamic WhatsApp list"}),"\n",(0,s.jsx)(n.p,{children:"To create dynamic WhatsApp list, you need follow the same procedure as dynamic quick replies."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/hjPSbi8.png",alt:""})}),"\n",(0,s.jsx)(n.p,{children:"Use the snippet below to generate a dynamic Whatsapp list:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"return new Promise(resolve => {\n      // Your logic goes here\n      let title = data.variables.carsData2;\n      let options = [];\n      for (let i = 0; i < title.length; i++) {\n        options.push({title : title[i].Mfr_CommonName, text:title[i].Mfr_Name});\n      }\n      let qrObject = {\n        title: 'Please select the relevant option from below',\n        optionText: 'Options',\n        options: [\n          {\n            options: options\n          }\n        ]\n      }\n    console.log(qrObject,\"qrObject\");\n    resolve(qrObject);\n  });                                               \n"})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);