"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[54700],{603905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return g}});var a=n(667294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=a.createContext({}),p=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},m=function(t){var e=p(t.components);return a.createElement(s.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,o=t.originalType,s=t.parentName,m=i(t,["components","mdxType","originalType","parentName"]),u=p(n),c=r,g=u["".concat(s,".").concat(c)]||u[c]||d[c]||o;return n?a.createElement(g,l(l({ref:e},m),{},{components:n})):a.createElement(g,l({ref:e},m))}));function g(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var o=n.length,l=new Array(o);l[0]=c;var i={};for(var s in e)hasOwnProperty.call(e,s)&&(i[s]=e[s]);i.originalType=t,i[u]="string"==typeof t?t:r,l[1]=i;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},331298:function(t,e,n){n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return s},default:function(){return c},frontMatter:function(){return i},metadata:function(){return p},toc:function(){return u}});var a=n(487462),r=n(263366),o=(n(667294),n(603905)),l=["components"],i={title:"Instamojo integration",sidebar_label:"Instamojo"},s=void 0,p={unversionedId:"platform_concepts/appConfiguration/instamojo",id:"platform_concepts/appConfiguration/instamojo",title:"Instamojo integration",description:"Yellow.ai Integration with Instamojo Payment Gateway allows your bot to effortlessly generate payment links, monitor payment statuses, and facilitate refunds directly within the Yellow.ai platform.",source:"@site/docs/platform_concepts/appConfiguration/instamojo.md",sourceDirName:"platform_concepts/appConfiguration",slug:"/platform_concepts/appConfiguration/instamojo",permalink:"/docs/platform_concepts/appConfiguration/instamojo",draft:!1,tags:[],version:"current",frontMatter:{title:"Instamojo integration",sidebar_label:"Instamojo"},sidebar:"platform_concepts",previous:{title:"Cashfree Payment",permalink:"/docs/platform_concepts/appConfiguration/cashfree"},next:{title:"Paytm",permalink:"/docs/platform_concepts/appConfiguration/paytm"}},m={},u=[{value:"Connecting Instamojo with Yellow.ai",id:"connecting-instamojo-with-yellowai",level:2},{value:"1. Get required details from your Instamojo account",id:"1-get-required-details-from-your-instamojo-account",level:3},{value:"2. Use Instamojo details to integrate with your bot",id:"2-use-instamojo-details-to-integrate-with-your-bot",level:3},{value:"3. Enable Instamojo related events for the bot",id:"3-enable-instamojo-related-events-for-the-bot",level:3},{value:"4. Manage Instamojo actions through bot conversation",id:"4-manage-instamojo-actions-through-bot-conversation",level:3},{value:"Generate Payment link",id:"generate-payment-link",level:4},{value:"Sample Success Response",id:"sample-success-response",level:4},{value:"Create a Refund",id:"create-a-refund",level:4},{value:"Valid values for different type",id:"valid-values-for-different-type",level:4}],d={toc:u};function c(t){var e=t.components,n=(0,r.Z)(t,l);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Yellow.ai Integration with Instamojo Payment Gateway allows your bot to effortlessly generate payment links, monitor payment statuses, and facilitate refunds directly within the Yellow.ai platform. "),(0,o.kt)("h2",{id:"connecting-instamojo-with-yellowai"},"Connecting Instamojo with Yellow.ai"),(0,o.kt)("p",null,"Follow these steps to begin integrating:"),(0,o.kt)("h3",{id:"1-get-required-details-from-your-instamojo-account"},"1. Get required details from your Instamojo account"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Sign up on Instamojo."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Test Mode:")," This mode is intended for testing purposes and for developers who are just beginning their integration with Instamojo. Test Mode is completely free of charge but requires completion of KYC (Know Your Customer) verification. No actual charges will be incurred, even if valid card details are provided on the ",(0,o.kt)("a",{parentName:"li",href:"https://test.instamojo.com/"},"Instamojo test environment")," for sign-up."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Live mode"),": In Live Mode, transactions occur in real-time, and actual charges apply. To operate in Live Mode, users must provide their bank account information and complete the KYC (Know Your Customer) process. This ensures compliance with regulatory requirements and enables seamless processing of payments. To get started with Live Mode, visit ",(0,o.kt)("a",{parentName:"li",href:"https://www.instamojo.com/"},"Instamojo's website")," and sign up for an account."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"After signing up, log in to the Instamojo account and go to ",(0,o.kt)("strong",{parentName:"p"},"Dashboard")," > Go to",(0,o.kt)("strong",{parentName:"p"}," API & Plugins")," > ",(0,o.kt)("strong",{parentName:"p"},"Generate Credentials")," > Select ",(0,o.kt)("strong",{parentName:"p"},"Direct Rest API Integration"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.yellowmessenger.com/QMOhzge5GSgd1665990761659.png",alt:"alt_text",title:"image_tooltip"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Copy the ",(0,o.kt)("strong",{parentName:"p"},"Client ID")," and ",(0,o.kt)("strong",{parentName:"p"},"Client Secret"),"."))),(0,o.kt)("h3",{id:"2-use-instamojo-details-to-integrate-with-your-bot"},"2. Use Instamojo details to integrate with your bot"),(0,o.kt)("p",null,"In a two-tier environment, you can connect an integration app in the Development environment. In a three-tier environment, you can connect the integration app either in Staging or Sandbox. All connected integrations are available in the live environment."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("a",{parentName:"li",href:"https://cloud.yellow.a"},"Cloud platform"),", Navigate to the Development/Staging environment and click ",(0,o.kt)("strong",{parentName:"li"},"Extensions")," > ",(0,o.kt)("strong",{parentName:"li"},"Integrations")," > ",(0,o.kt)("strong",{parentName:"li"},"Payment")," > ",(0,o.kt)("strong",{parentName:"li"},"Instamojo"),"."),(0,o.kt)("li",{parentName:"ol"},"In G",(0,o.kt)("strong",{parentName:"li"},"ive account name,")," enter a unique name for the integration. You can use only lowercase alphanumeric characters and underscores (_)."),(0,o.kt)("li",{parentName:"ol"},"Enter the ",(0,o.kt)("strong",{parentName:"li"},"Client ID")," and ",(0,o.kt)("em",{parentName:"li"},"C"),"lient Secret** that was captured using the previous section."),(0,o.kt)("li",{parentName:"ol"},"For sandbox environment use ",(0,o.kt)("inlineCode",{parentName:"li"},"https://test.instamojo.com")," as baseUrl and for production env use ",(0,o.kt)("inlineCode",{parentName:"li"},"https://api.instamojo.com")," as baseUrl"),(0,o.kt)("li",{parentName:"ol"},"To add multiple accounts, click ",(0,o.kt)("strong",{parentName:"li"},"*+ Add account")," and follow the above mentioned steps. You can add a maximum of 5 merchant accounts.")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"3-enable-instamojo-related-events-for-the-bot"},"3. Enable Instamojo related events for the bot"),(0,o.kt)("p",null,"Instamojo payment status event: Indicates an update in the payment status. Each payment undergoes different status such as Pending,Processing, Completed, Failed, Refunded, or Cancelled."),(0,o.kt)("p",null,"To activate an event, refer to ",(0,o.kt)("a",{parentName:"p",href:"/docs/platform_concepts/appConfiguration/overview#step-3-configure-webhook-url"},"this section"),"."),(0,o.kt)("p",null,"To trigger a bot flow using the activated event, click ",(0,o.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/appConfiguration/overview#step-5-trigger-bot-flows-with-integration-events"},"here"),"."),(0,o.kt)("h3",{id:"4-manage-instamojo-actions-through-bot-conversation"},"4. Manage Instamojo actions through bot conversation"),(0,o.kt)("p",null,"This integration enables the bot to perform the following Instamojo actions:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Generate payment link"),(0,o.kt)("li",{parentName:"ul"},"Create refund")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to Development/Staging environment and navigate to ",(0,o.kt)("strong",{parentName:"p"},"Automation")," > ",(0,o.kt)("strong",{parentName:"p"},"Build")," > Select the flow where you want to add the Generate payment link node.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Add node")," > ",(0,o.kt)("strong",{parentName:"p"},"Integrations")," > ",(0,o.kt)("strong",{parentName:"p"},"Instamojo"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/NAS0u0k.png",alt:null})))),(0,o.kt)("h4",{id:"generate-payment-link"},"Generate Payment link"),(0,o.kt)("p",null,"This action allows you to generate payment link at any point in a conversation."),(0,o.kt)("p",null,"   ",(0,o.kt)("img",{parentName:"p",src:"https://cdn.yellowmessenger.com/Iwuif7lVqcdR1665990538864.png",alt:"alt_text",title:"image_tooltip"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Node Input Params")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"),(0,o.kt)("th",{parentName:"tr",align:null},"Sample Input"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Amount")),(0,o.kt)("td",{parentName:"tr",align:null},"The amount for the request. The minimum amount is 9. The maximum is 200000"),(0,o.kt)("td",{parentName:"tr",align:null},"200")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Customer Name")),(0,o.kt)("td",{parentName:"tr",align:null},"Name of payer"),(0,o.kt)("td",{parentName:"tr",align:null},"John")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Customer Email")),(0,o.kt)("td",{parentName:"tr",align:null},"Email of payer"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("a",{parentName:"td",href:"mailto:John@test.com"},"John@test.com"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Customer Mobile Number")),(0,o.kt)("td",{parentName:"tr",align:null},"Mobile no. of payer"),(0,o.kt)("td",{parentName:"tr",align:null},"9999999999")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Purpose")),(0,o.kt)("td",{parentName:"tr",align:null},"Purpose of the payment request"),(0,o.kt)("td",{parentName:"tr",align:null},"Iphone")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Send Email")),(0,o.kt)("td",{parentName:"tr",align:null},"Flag to send request link via email. If send_email is true, a request email will be sent to the email supplied. If send_email is true but no email is supplied, request creation will throw an error"),(0,o.kt)("td",{parentName:"tr",align:null},"False")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Send SMS")),(0,o.kt)("td",{parentName:"tr",align:null},"Flag to send request link via SMS. If send_sms is true, a request SMS will be sent to the phone number supplied. If send_sms is true but no phone number is supplied, request creation will throw an error"),(0,o.kt)("td",{parentName:"tr",align:null},"False")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"StatusCallbackUrl")),(0,o.kt)("td",{parentName:"tr",align:null},"Copy Webhook URL from the Instamojo card at the integration page.Example: ",(0,o.kt)("a",{parentName:"td",href:"https://dummyurl.yellowmessenger.com/integrations/genericIntegration/instamojo/x16450274?id=l%2B%2FD1yhpida7KtXeCEVUofPRsNBY%3D"},"https://dummyurl.yellowmessenger.com/integrations/genericIntegration/instamojo/x16450274?id=l%2B%2FD1yhpida7KtXeCEVUofPRsNBY%3D")),(0,o.kt)("td",{parentName:"tr",align:null})))),(0,o.kt)("hr",null),(0,o.kt)("h4",{id:"sample-success-response"},"Sample Success Response"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "05f317448ad84649aa1a9c7328edb015",\n  "user": "https://api.instamojo.com/v2/users/90f01dfdacbe4fe7892fc27dbdc30906/",\n  "phone": "+919999999999",\n  "email": "foo@example.com",\n  "buyer_name": "John Doe",\n  "amount": "2500",\n  "purpose": "FIFA 16",\n  "status": "Pending",\n  "payments": [],\n  "send_sms": true,\n  "send_email": true,\n  "sms_status": "Pending",\n  "email_status": "Pending",\n  "shorturl": null,\n  "longurl": "https://www.instamojo.com/@foo/05f317448ad84649aa1a9c7328edb015",\n  "redirect_url": "http://www.example.com/redirect/",\n  "webhook": "http://www.example.com/webhook/",\n  "created_at": "2016-05-09T16:10:13.786Z",\n  "modified_at": "2016-05-09T16:10:13.786Z",\n  "resource_uri": "https://api.instamojo.com/v2/payment_requests/05f317448ad84649aa1a9c7328edb015/",\n  "allow_repeated_payments": false,\n  "mark_fulfilled": true\n}\n')),(0,o.kt)("h4",{id:"create-a-refund"},"Create a Refund"),(0,o.kt)("p",null,"This will refund a payment made on Instamojo."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Node Input Params")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"),(0,o.kt)("th",{parentName:"tr",align:null},"Sample Input"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Refund Amount"),(0,o.kt)("td",{parentName:"tr",align:null},"This field can be used to specify the refund amount. For instance, you may want to issue a refund for an amount lesser than what was paid."),(0,o.kt)("td",{parentName:"tr",align:null},"200")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Unique Transaction ID"),(0,o.kt)("td",{parentName:"tr",align:null},"Mandatory parameter in the body from the second case creation onwards for the payment to prevent duplicate case creations due to replay of APIs"),(0,o.kt)("td",{parentName:"tr",align:null},"C5c0751269")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Issue Type"),(0,o.kt)("td",{parentName:"tr",align:null},"A three-letter short code identifying the reason for this case. Please refer to the below table for this field's value"),(0,o.kt)("td",{parentName:"tr",align:null},"QFL")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Description"),(0,o.kt)("td",{parentName:"tr",align:null},"Additional text explaining the refund"),(0,o.kt)("td",{parentName:"tr",align:null},"Product is not good")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Payment Id"),(0,o.kt)("td",{parentName:"tr",align:null},"Payment Id received in create payment link node. store in database for further use"),(0,o.kt)("td",{parentName:"tr",align:null},"MOJO5c04000J30502939")))),(0,o.kt)("h4",{id:"valid-values-for-different-type"},"Valid values for different type"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Type"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"RFD"),(0,o.kt)("td",{parentName:"tr",align:null})),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"TNR"),(0,o.kt)("td",{parentName:"tr",align:null},"Product/service no longer available.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"QFL"),(0,o.kt)("td",{parentName:"tr",align:null},"Customer not satisfied.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"QNR"),(0,o.kt)("td",{parentName:"tr",align:null},"Product lost/damaged.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"EWN"),(0,o.kt)("td",{parentName:"tr",align:null},"Digital download issue.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"TAN"),(0,o.kt)("td",{parentName:"tr",align:null},"Event was canceled/changed.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"PTH"),(0,o.kt)("td",{parentName:"tr",align:null},"Problem not described above.")))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "refund": {\n    "id": "C5c0751269",\n    "payment_id": "MOJO5c04000J30502939",\n    "status": "Refunded",\n    "type": "QFL",\n    "body": "Customer isn\'t satisfied with the quality",\n    "refund_amount": "100",\n    "total_amount": "100.00",\n    "created_at": "2015-12-07T11:01:37.640Z"\n  },\n  "success": true\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Reference")),(0,o.kt)("p",null,"For more information about the action nodes you use here, refer to ",(0,o.kt)("a",{parentName:"p",href:"https://docs.instamojo.com/reference/create-a-payment-request-1"},"Create Payment"),", ",(0,o.kt)("a",{parentName:"p",href:"https://docs.instamojo.com/reference/what-is-a-webhook"},"webhooks"),"."))}c.isMDXComponent=!0}}]);