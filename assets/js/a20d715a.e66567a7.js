"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[86192],{603905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return k}});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=s(a),c=r,k=d["".concat(p,".").concat(c)]||d[c]||u[c]||l;return a?n.createElement(k,i(i({ref:t},m),{},{components:a})):n.createElement(k,i({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[d]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},122665:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return d}});var n=a(487462),r=a(263366),l=(a(667294),a(603905)),i=["components"],o={title:"SFTP",sidebar_label:"SFTP"},p=void 0,s={unversionedId:"platform_concepts/appConfiguration/sftp",id:"platform_concepts/appConfiguration/sftp",title:"SFTP",description:"Yellow.ai's integration with SFTP enables managing data from different sources seamlessly such as fetching remote files, creating directories, deleting directories, uploading files to the remote server, and checking the existence of files. You can connect multiple SFTP servers.",source:"@site/docs/platform_concepts/appConfiguration/sftp.md",sourceDirName:"platform_concepts/appConfiguration",slug:"/platform_concepts/appConfiguration/sftp",permalink:"/docs/platform_concepts/appConfiguration/sftp",draft:!1,tags:[],version:"current",frontMatter:{title:"SFTP",sidebar_label:"SFTP"},sidebar:"platform_concepts",previous:{title:"MS Outlook Calendar",permalink:"/docs/platform_concepts/appConfiguration/outlook-calendar"},next:{title:"Twilio Verify",permalink:"/docs/platform_concepts/appConfiguration/twilio-verify"}},m={},d=[{value:"SFTP integration",id:"sftp-integration",level:2},{value:"Features enabled on SFTP integration",id:"features-enabled-on-sftp-integration",level:2},{value:"1. SFTP File Transfer",id:"1-sftp-file-transfer",level:3},{value:"2. SFTP Get File",id:"2-sftp-get-file",level:3},{value:"3. SFTP Make Directory",id:"3-sftp-make-directory",level:3},{value:"4. SFTP Delete Directory",id:"4-sftp-delete-directory",level:3},{value:"5. SFTP Delete Files",id:"5-sftp-delete-files",level:3},{value:"6. SFTP Data Append",id:"6-sftp-data-append",level:3},{value:"7. SFTP List",id:"7-sftp-list",level:3},{value:"8. SFTP Exists",id:"8-sftp-exists",level:3},{value:"9. SFTP Chmod",id:"9-sftp-chmod",level:3}],u={toc:d};function c(e){var t=e.components,a=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Yellow.ai's integration with SFTP enables managing data from different sources seamlessly such as fetching remote files, creating directories, deleting directories, uploading files to the remote server, and checking the existence of files. You can connect multiple SFTP servers."),(0,l.kt)("p",null,"You can also ",(0,l.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/engagement/cdp/user_data/sync_users"},"schedule regular synchronization of user data")," directly from connected SFTP servers to User 360. This enhances data management capabilities, improves data accuracy, and enables more informed decision-making based on real-time user insights. s or not."),(0,l.kt)("h2",{id:"sftp-integration"},"SFTP integration"),(0,l.kt)("p",null,"Configuring the integration with SFTP is straightforward. Follow the steps defined below to start integrating:"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"To integrate SFTP with your bot on the platform:")),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Go to Integration section")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Seach and select ",(0,l.kt)("strong",{parentName:"p"},"SFTP"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Enter ",(0,l.kt)("strong",{parentName:"p"},"Give account name"),", ",(0,l.kt)("strong",{parentName:"p"},"Host"),", ",(0,l.kt)("strong",{parentName:"p"},"Port"),", ",(0,l.kt)("strong",{parentName:"p"},"username"),", ",(0,l.kt)("strong",{parentName:"p"},"Password"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Click ",(0,l.kt)("strong",{parentName:"p"},"Connect")),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/vl7ZP9q.png",alt:null}))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"If you do not want to upload your SFTP account password, enable ",(0,l.kt)("strong",{parentName:"p"},"public key based authentication"),". Reach out to our team at ",(0,l.kt)("inlineCode",{parentName:"p"},"L2support@yellow.ai")," for the public key. Once you recieve it,  whitelist the key at the SFTP's end to set up a connection between Yellow.ai and SFTP without the password."),(0,l.kt)("p",{parentName:"li"}," To whitelist our public key in your remote SFTP server, follow the below mentioned commands:"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"\u2014 on remote system \u2014\u2014\n\nmkdir -p .ssh\nnano .ssh/authorized_keys\n\u2014- add the public key generated on your Mac \u2014\n\nchmod 600 .ssh/authorized_keys\nchmod 700 .ssh\n\n"))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Once the integration is done successfully, You can find an Integration option available in addition to the existing nodes.")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Store SFTP response in Object type variable in action-node."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/KCWAcMf.png",alt:null}))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"If you have multiple accounts, follow the above mentioned steps to add each of them."))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("ol",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ol"},"Enter a unique name for each account to easily identify them within the yellow.ai platform. It is recommended to use a name that aligns with its purpose for better usability. "),(0,l.kt)("li",{parentName:"ol"},"You can add a maximum of 5 merchant accounts."),(0,l.kt)("li",{parentName:"ol"},"In a two-tier environment, such as bots with only Development/Live environments, you can add account names only in the development mode. Once added and flows have been built, in the Live mode, you can only choose the account names and not edit them."),(0,l.kt)("li",{parentName:"ol"},"In a three-tier environment, such as bots with Staging/Sandbox/Production modes, in Staging and Sandbox modes, you can add and edit new accounts. However, in Production, only the account details added in Staging will be available. You can only map in the production environment."))),(0,l.kt)("h2",{id:"features-enabled-on-sftp-integration"},"Features enabled on SFTP integration"),(0,l.kt)("p",null,"Once the SFTP connection is established, you can execute the following operations related to managing data between the bot and SFTP seamlessly:"),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"When multiple accounts are added, select the appropriate account for each node, allowing you to leverage the unique functionalities of each account for their intended purposes.")),(0,l.kt)("h3",{id:"1-sftp-file-transfer"},"1. SFTP File Transfer"),(0,l.kt)("p",null,"From this method you can easily upload files to a remote server."),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"}," Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"fileCdnUrl*"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://cdn.pixabay.com/photo/2017/01/03/02/07/vine-1948358__340.png"},"https://cdn.pixabay.com/photo/2017/01/03/02/07/vine-1948358__340.png")),(0,l.kt)("td",{parentName:"tr",align:null},"Data source for data to copy to the remote server.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remoteFilePath*"),(0,l.kt)("td",{parentName:"tr",align:null},"/uploads/directoryPath/demo.png"),(0,l.kt)("td",{parentName:"tr",align:null},"Path to the remote file to be created on the server with file name.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"appendTimeInfilePath*"),(0,l.kt)("td",{parentName:"tr",align:null},"True or false"),(0,l.kt)("td",{parentName:"tr",align:null},"If true then It will append timestamp in file name otherwise same name from remote file path.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"recursive"),(0,l.kt)("td",{parentName:"tr",align:null},"true/false"),(0,l.kt)("td",{parentName:"tr",align:null},"If the recursive flag is set to true, the method will create any directories in the path which do not already exist. Recursive flag defaults to false")))),(0,l.kt)("h3",{id:"2-sftp-get-file"},"2. SFTP Get File"),(0,l.kt)("p",null,"Retrieve a file from a remote SFTP server"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"}," Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remoteFilePath*"),(0,l.kt)("td",{parentName:"tr",align:null},"/Directory/filename.ext"),(0,l.kt)("td",{parentName:"tr",align:null},"Path to the remote file to download")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"secureupload"),(0,l.kt)("td",{parentName:"tr",align:null},"true/false"),(0,l.kt)("td",{parentName:"tr",align:null},"If true then It will give minio directory path otherwise it will give CDN url of files")))),(0,l.kt)("h3",{id:"3-sftp-make-directory"},"3. SFTP Make Directory"),(0,l.kt)("p",null,"Create a new directory. If the recursive flag is set to true, the method will create any directories in the path which do not already exist. Recursive flag defaults to false."),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"}," Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remoteDirPath*"),(0,l.kt)("td",{parentName:"tr",align:null},"/DirectoryPath"),(0,l.kt)("td",{parentName:"tr",align:null},"Path to directory with new dir name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"recursive"),(0,l.kt)("td",{parentName:"tr",align:null},"true/false"),(0,l.kt)("td",{parentName:"tr",align:null},"If true then the method will create any directories in the path which do not already exist")))),(0,l.kt)("h3",{id:"4-sftp-delete-directory"},"4. SFTP Delete Directory"),(0,l.kt)("p",null,"Remove a directory. If removing a directory and recursive flag is set to ",(0,l.kt)("inlineCode",{parentName:"p"},"true"),", the specified directory and all sub-directories and files will be deleted. If set to false and the directory has sub-directories or files, the action will fail. "),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"}," Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remoteDirPath*"),(0,l.kt)("td",{parentName:"tr",align:null},"/DirectoryPath"),(0,l.kt)("td",{parentName:"tr",align:null},"Path to directory")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"recursive"),(0,l.kt)("td",{parentName:"tr",align:null},"true/false"),(0,l.kt)("td",{parentName:"tr",align:null},"recursive flag is set to true, the specified directory and all sub-directories and files will be deleted.")))),(0,l.kt)("h3",{id:"5-sftp-delete-files"},"5. SFTP Delete Files"),(0,l.kt)("p",null,"Delete a file on the remote server."),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"}," Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remotefilePath*"),(0,l.kt)("td",{parentName:"tr",align:null},"/DirectoryPath/filename.txt"),(0,l.kt)("td",{parentName:"tr",align:null},"string. Path to remote file to be deleted.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"noErrorOk*"),(0,l.kt)("td",{parentName:"tr",align:null},"true/false"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean. If true, no error is raised when you try to delete a non-existent file. Default is false.")))),(0,l.kt)("h3",{id:"6-sftp-data-append"},"6. SFTP Data Append"),(0,l.kt)("p",null,"Append the ",(0,l.kt)("inlineCode",{parentName:"p"},"input")," data to an existing remote file. There is no integrity checking performed apart from normal writeStream checks. This function simply opens a writeStream on the remote file in append mode and writes the data passed in to the file."),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"}," Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"fileCdnUrl*"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://www.w3.org/TR/PNG/iso_8859-1.txt"},"https://www.w3.org/TR/PNG/iso_8859-1.txt")),(0,l.kt)("td",{parentName:"tr",align:null},"CDN url for Data to append to remote file")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remoteFilePath*"),(0,l.kt)("td",{parentName:"tr",align:null},"/DirectoryPath/filename.txt"),(0,l.kt)("td",{parentName:"tr",align:null},"Path to remote file if files do not exist then It will auto create.")))),(0,l.kt)("h3",{id:"7-sftp-list"},"7. SFTP List"),(0,l.kt)("p",null,"Retrieves a directory listing"),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"Node Input Params:-"),"                        "),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Field Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Sample Input"),(0,l.kt)("th",{parentName:"tr",align:null},"Remarks"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"remoteDir*"),(0,l.kt)("td",{parentName:"tr",align:null},"/DirectoryPath"),(0,l.kt)("td",{parentName:"tr",align:null},"remote directory path")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pattern"),(0,l.kt)("td",{parentName:"tr",align:null},"*"),(0,l.kt)("td",{parentName:"tr",align:null},"{string")))),(0,l.kt)("h3",{id:"8-sftp-exists"},"8. SFTP Exists"),(0,l.kt)("p",null," Tests to see if a remote file or directory exists. Returns type of remote object if it exists or false if it does not"),(0,l.kt)("h3",{id:"9-sftp-chmod"},"9. SFTP Chmod"),(0,l.kt)("p",null,"Change the mode (read, write or execute permissions) of a remote file or directory."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"remotePath: string. Path to the remote file or directory"),(0,l.kt)("li",{parentName:"ul"},"newmode: octal. New mode to set for the remote file or directory")))}c.isMDXComponent=!0}}]);