"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[10312],{603905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var r=n(667294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),g=a,h=u["".concat(s,".").concat(g)]||u[g]||m[g]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},73642:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var r=n(487462),a=n(263366),o=(n(667294),n(603905)),i=["components"],l={title:"Orchestrator LLM",sidebar_label:"Orchestrator LLM"},s=void 0,p={unversionedId:"platform_concepts/studio/train/orchllm",id:"platform_concepts/studio/train/orchllm",title:"Orchestrator LLM",description:"OrchLLM overview",source:"@site/docs/platform_concepts/studio/train/orchllm.md",sourceDirName:"platform_concepts/studio/train",slug:"/platform_concepts/studio/train/orchllm",permalink:"/docs/platform_concepts/studio/train/orchllm",draft:!1,tags:[],version:"current",frontMatter:{title:"Orchestrator LLM",sidebar_label:"Orchestrator LLM"},sidebar:"platform_concepts",previous:{title:"Tools & settings",permalink:"/docs/platform_concepts/studio/tools"},next:{title:"AI-agent logs",permalink:"/docs/platform_concepts/studio/test-and-publish-bot/bot-logs"}},c={},u=[{value:"OrchLLM overview",id:"orchllm-overview",level:2},{value:"Key features of Orchestrator LLM:",id:"key-features-of-orchestrator-llm",level:3},{value:"How does Orchestrator LLM work?",id:"how-does-orchestrator-llm-work",level:3},{value:"Limitations of OrchLLM",id:"limitations-of-orchllm",level:3},{value:"Setup Orchestrator LLM",id:"setup-orchestrator-llm",level:2},{value:"Key considerations for building an OrchLLM AI-agent:",id:"key-considerations-for-building-an-orchllm-ai-agent",level:3},{value:"Configure Orchestrator LLM AI-agent",id:"configure-orchestrator-llm-ai-agent",level:3},{value:"Triggers description guidelines",id:"triggers-description-guidelines",level:2},{value:"Testing OrchLLM AI-agent",id:"testing-orchllm-ai-agent",level:2}],m={toc:u};function g(e){var t=e.components,l=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"orchllm-overview"},"OrchLLM overview"),(0,o.kt)("p",null,"Orchestrator LLM (Large Language Model), our in-house fine-tuned advanced conversational AI model, that enhances the capability of AI-agents to orchestrate multiple goals within a single conversation."),(0,o.kt)("p",null,"Orchestrator LLM understands user queries, retains context throughout the conversation, and triggers appropriate flows or responses based on the context. It maintains the entire user context history and can dynamically switch between multiple user goals while guiding users towards goal completion."),(0,o.kt)("h3",{id:"key-features-of-orchestrator-llm"},"Key features of Orchestrator LLM:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Zero training"),": Orchestrator LLM eliminates the need for training AI-agents with specific utterances and intents, as it intelligently understands and responds to user queries without requiring extensive training data."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Context retention"),": Orchestrator LLM effectively maintains context within conversations, allowing AI-agents to understand and retain the context of user queries throughout the conversation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Context switching"),": It seamlessly handles context switching, enabling AI-agents to switch between multiple queries within a single conversation without losing continuity."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Flow Orchestration"),": Orchestrator LLM efficiently organizes and oversees multiple flows within a single AI-agent. It ensures that the right flow is triggered based on the user's current context and conversation history."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Handles small talk and off-topic inquiries"),": Orchestrator LLM has the capability to generate small talk and off-topic inquiries, allowing AI-agents to engage users in conversation during idle moments or context switching.")),(0,o.kt)("h3",{id:"how-does-orchestrator-llm-work"},"How does Orchestrator LLM work?"),(0,o.kt)("p",null,"Let's see how Orchestrator LLM manages context switching and guides conversations towards the primary goal of the user."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/UNHrxID.png",alt:null})),(0,o.kt)("p",null,"In the below example, let's see how an Orchestrator LLM helps users achieve their primary goal (apply for a credit card) and how it handles context switching and triggers relevant flows."),(0,o.kt)("p",null,"Here's the conversation between AI-agent and user, along with how Orchestrator LLM handles each conversation:"),(0,o.kt)("p",null,"AI-agent: Hi, how can I help you? "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM understands the user's inquiry.")),(0,o.kt)("p",null,"User: I wanted to check how to apply for a credit card?"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM recognizes the user's main goal of applying for a credit card.")),(0,o.kt)("p",null,"AI-agent: Sure I can help you with that. You can go to the website and apply for it. Here is the process:",(0,o.kt)("br",null),"Step 1 : Xyz",(0,o.kt)("br",null),"Step 2: Abc "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM provides guidance on how to apply for the credit card.")),(0,o.kt)("p",null,"User: But I tried that already it was asking for my account ID. How can I find that?"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM understands the ",(0,o.kt)("strong",{parentName:"p"},"context switch")," and prepares to assist with finding the account ID.")),(0,o.kt)("p",null,"AI-agent: Sure. I can help you with that. Please tell me your registered email ID."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM triggers the  specific flow to check account id and prompts the user for necessary information to retrieve the account ID.")),(0,o.kt)("p",null,"User: ",(0,o.kt)("a",{parentName:"p",href:"mailto:rio@gmail.com"},"rio@gmail.com"),"\t"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM retrieves the account ID (1234ABCD) and provides it to the user.")),(0,o.kt)("p",null,"AI-agent: Hi Rio, your account ID is 1234ABCD. You can use that to proceed on the website and apply for the credit card."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM confirms the account ID and encourages the user to continue with the credit card application process.")),(0,o.kt)("p",null,"User: Thanks. Before that, can you please tell me if there are any application charges? "),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM recognizes the new question (",(0,o.kt)("strong",{parentName:"p"},"switched context"),") and prepares to fetch relevant information from the ",(0,o.kt)("strong",{parentName:"p"},"Knowledge base"),".")),(0,o.kt)("p",null,"AI-agent: There are no application charges for credit card. Go ahead and apply for credit card."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Orchestrator LLM provides the user with information regarding application charges for the credit card.")),(0,o.kt)("p",null,"Throughout the conversation, Orchestrator LLM retains the context that the user's main goal is to apply for the  credit card."),(0,o.kt)("h3",{id:"limitations-of-orchllm"},"Limitations of OrchLLM"),(0,o.kt)("p",null,"Here\u2019s a refined version of the known limitations for V1 (GPT-4o/4/3.5) and V2:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Limitations of V1 (GPT-4o/4/3.5)"),":"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Negation of Intents"),': Negation of intents will not function unless specified in the prompt (e.g., "I don\u2019t want a demo").'),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Contextual Responses"),': Contextual questions (example, "Why do you need my email?") will default to fallback responses instead of being addressed by Orch.'),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Disambiguation"),": The system does not support disambiguation."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Conversation History"),": Clicking the home button will clear the conversation history. By default, conversation history is cleared after 24 hours.")),(0,o.kt)("admonition",{parentName:"li",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The limitations identified for V1 are actively being addressed and enhancements are planned for future versions. We are committed to continuous improvement to enhance user experience."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Limitations specific to OrchLLM"),":"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Node Functionality"),":"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Inputs for comment nodes will not be considered for switching."),(0,o.kt)("li",{parentName:"ol"},"QR button clicks will not trigger switching if an outward connection from the button is available."),(0,o.kt)("li",{parentName:"ol"},"Goal nodes are excluded from switching."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Architecture Compatibility"),": OrchLLM does not support mother-child AI-agent architecture.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Language Availability"),": Currently, OrchLLM is only available in English."))))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"setup-orchestrator-llm"},"Setup Orchestrator LLM"),(0,o.kt)("h3",{id:"key-considerations-for-building-an-orchllm-ai-agent"},"Key considerations for building an OrchLLM AI-agent:"),(0,o.kt)("p",null,"These are the things to consider to build tailored conversations:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Define the AI-agent persona"),": Clearly outline the AI-agent's capabilities and limitations."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Manage FAQs effectively"),": Move FAQs into a knowledge base and avoid inputting a large number directly into the Orch prompt."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Aim for accuracy"),": Limit triggers and flows to 20-30 to improve performance."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Summarize intents"),": Condense existing intent-based AI-agents into clear, concise descriptions when transitioning to OrchLLM."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Consider Sandbox environment limitations"),": Be aware that enabling OrchLLM in a sandbox will lead to publishing in higher environments.")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"configure-orchestrator-llm-ai-agent"},"Configure Orchestrator LLM AI-agent"),(0,o.kt)("p",null,"To configure Orchestrator LLM for a flow:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("strong",{parentName:"p"},"Automation")," > ",(0,o.kt)("strong",{parentName:"p"},"Build")," > ",(0,o.kt)("strong",{parentName:"p"},"Flow")," > ",(0,o.kt)("strong",{parentName:"p"},"Create flow"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/2OodRrj.png",alt:null}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To create a flow from scratch, click ",(0,o.kt)("strong",{parentName:"p"},"+ Create flow"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/gT5aZAZ.png",alt:null}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on ",(0,o.kt)("strong",{parentName:"p"},"Start")," trigger, enter the ",(0,o.kt)("strong",{parentName:"p"},"Trigger name")," and ",(0,o.kt)("strong",{parentName:"p"},"Description"),", and then click ",(0,o.kt)("strong",{parentName:"p"},"Add"),". Note that you need to provide an accurate description as Orch LLM will use this information to trigger the appropriate flow based on the provided description. Learn more about ",(0,o.kt)("a",{parentName:"p",href:"#triggers-description-guidelines"},"guidelines for trigger descriptions"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/joK3Bx5.png",alt:null})))),(0,o.kt)("p",null,"Following are the sample descriptions:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Trigger name"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Promocode"),(0,o.kt)("td",{parentName:"tr",align:null},'When a user specifically asks questions related to "promo codes"')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Payment related query"),(0,o.kt)("td",{parentName:"tr",align:null},'When a user explicitly requires assistance with making payment for their reservation. You need to include user queries, for example: "Can you help me in making payment?", "Charge me on my credit card", or "Need assistance in making payment".')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Cancel booking"),(0,o.kt)("td",{parentName:"tr",align:null},'When a user explicitly requires assistance in cancelling their booking or reservation. You need to include user queries, for example, "Cancel my reservation for me" or "Could you cancel it for me?".')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"FAQs"),(0,o.kt)("td",{parentName:"tr",align:null},'When a user has generic queries related to payments for reservations, without requiring direct assistance in making the payment. For example, "How do I complete payment?", "How can I make payment for my reservation?".')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Add travel companion"),(0,o.kt)("td",{parentName:"tr",align:null},'When a user explicitly requests to connect two or more reservations, for instance: "Link my reservation".')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"FAQs about cancellation"),(0,o.kt)("td",{parentName:"tr",align:null},"A user seeks information about the process of canceling a reservation. They are not looking for assistance with the actual cancellation.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Newyork tour details"),(0,o.kt)("td",{parentName:"tr",align:null},"When user asks travel related questions that are specific to Newyork only.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Age restriction for renting car"),(0,o.kt)("td",{parentName:"tr",align:null},'When a user specifically asks about "age restrictions" for vehicles.')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Tipping guidelines"),(0,o.kt)("td",{parentName:"tr",align:null},"When user wants to know about the tipping guidelines that are in place for travellers.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Visa requirements"),(0,o.kt)("td",{parentName:"tr",align:null},"When user needs information regarding visa requirements.")))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/joK3Bx5.png",alt:null})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Preview")," > ",(0,o.kt)("strong",{parentName:"p"},"Preview current flow")," to test the AI-agent."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"Orch LLM gif",src:n(233693).Z,width:"1920",height:"1080"})))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"triggers-description-guidelines"},"Triggers description guidelines"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Conciseness"),": Write descriptions that are neither too long nor too short; aim for clarity.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Avoid example utterances"),": Do not include example utterances; focus solely on the descriptions. If necessary, you can add one or two exceptional utterances.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Trigger conditions"),": Clearly specify when to trigger and when not to trigger.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Clarity over completeness"),": No need of listing all keywords, but ensure the description is clear.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"No unused triggers"),": Avoid leaving unused triggers, as they unnecessarily increase prompt length and associated costs."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/aGL7bHs.png",alt:"img"})))),(0,o.kt)("h2",{id:"testing-orchllm-ai-agent"},"Testing OrchLLM AI-agent"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Review logs"),": Examine logs when the AI-agent provides unexpected responses.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Assess reasoning"),": Check the reasoning provided in the output and adjust the description or prompt as needed.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Report hallucinations"),": Note that log outputs may hallucinate; however, report any occurrences that happen repeatedly."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/R3snGEp.png",alt:"img"})))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Example log output"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "tools": ["compensation change"],\n  "reasoning": "The user request is about changing the compensation of an employee, which aligns with the tool \'compensation change.\'",\n  "response": ""\n}\n')),(0,o.kt)("p",null,"   ",(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/rsFb8Bz.png",alt:"img"})),(0,o.kt)("hr",null))}g.isMDXComponent=!0},233693:function(e,t,n){t.Z=n.p+"assets/images/orchllm-71ccf896b60ce709a7255d4dc2d12456.gif"}}]);