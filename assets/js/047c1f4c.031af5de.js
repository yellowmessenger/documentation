"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[58215],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var o=s(96540);const i={},t=o.createContext(i);function r(e){const n=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(t.Provider,{value:n},e.children)}},63224:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>l,default:()=>a,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"cookbooks/Gen-AI-Advanced-Level/genai-bottroubleshooting","title":"Troubleshooting Gen AI bots","description":"The key to troubleshooting bots is identifying the issue. Once identified, you can either retrain the bot with new input or adjust its existing text and parameters for improvement.","source":"@site/docs/cookbooks/Gen-AI-Advanced-Level/genai-bottroubleshooting.md","sourceDirName":"cookbooks/Gen-AI-Advanced-Level","slug":"/cookbooks/Gen-AI-Advanced-Level/genai-bottroubleshooting","permalink":"/docs/cookbooks/Gen-AI-Advanced-Level/genai-bottroubleshooting","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Troubleshooting Gen AI bots","sidebar_label":"Troubleshooting Gen AI bots"},"sidebar":"cookbooks","previous":{"title":"Best practices & effective testing","permalink":"/docs/cookbooks/Gen-AI-Advanced-Level/bestpractices"},"next":{"title":"Contact yellow.ai support","permalink":"/docs/cookbooks/yellowaisupport"}}');var i=s(74848),t=s(28453);const r={title:"Troubleshooting Gen AI bots",sidebar_label:"Troubleshooting Gen AI bots"},l=void 0,h={},c=[{value:"Navigate to platform logs",id:"navigate-to-platform-logs",level:2},{value:"Troubleshooting OrchLLM issues",id:"troubleshooting-orchllm-issues",level:2},{value:"Troubleshooting KB issues",id:"troubleshooting-kb-issues",level:2},{value:"Identify if it\u2019s a KB issue",id:"identify-if-its-a-kb-issue",level:3},{value:"Components to check",id:"components-to-check",level:3},{value:"Input",id:"input",level:4},{value:"Search",id:"search",level:4},{value:"Response",id:"response",level:4}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The key to troubleshooting bots is identifying the issue. Once identified, you can either retrain the bot with new input or adjust its existing text and parameters for improvement."}),"\n",(0,i.jsx)(n.h2,{id:"navigate-to-platform-logs",children:"Navigate to platform logs"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open ",(0,i.jsx)(n.strong,{children:"Automation > Build"})," and ",(0,i.jsx)(n.strong,{children:"Preview"})," the bot."]}),"\n",(0,i.jsx)(n.li,{children:"Click the debugger icon to open the console logs."}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:"Refresh"})," to view real-time logs."]}),"\n",(0,i.jsx)(n.li,{children:"Review all logs. Click the logs icon to read the log files."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://imgur.com/z2tVf17.png",alt:"image"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-orchllm-issues",children:"Troubleshooting OrchLLM issues"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verify inputs to the OrchLLM"}),": Access this log from [OpenAI] Request details."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check if the correct user history is passed to the model under messages."}),"\n",(0,i.jsx)(n.li,{children:"Verify that model parameters are correct, such as setting a lower temperature for more contained responses."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verify the response from the model"}),": Access this log from [Yellow LLM Agent] Model output."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tools"}),": Identify the model's prediction."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reasoning"}),": Evaluate why the model chose a particular tool."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),": Check the final response generated by the model for small talk and general queries."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-kb-issues",children:"Troubleshooting KB issues"}),"\n",(0,i.jsx)(n.p,{children:"Common Knowledgebase(KB) issues include:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"A query like \u201cxyz\u201d has information in a file/webpage, but it\u2019s not getting answered."}),"\n",(0,i.jsx)(n.li,{children:"A query like \u201cxyz\u201d was answered previously but is not being answered now, indicating an intermittent error."}),"\n",(0,i.jsx)(n.li,{children:"After publishing, the KB is not working as expected."}),"\n",(0,i.jsx)(n.li,{children:"The sandbox KB response differs from the staging KB response."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For further evaluation, consider the following:"}),"\n",(0,i.jsx)(n.h3,{id:"identify-if-its-a-kb-issue",children:"Identify if it\u2019s a KB issue"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check Conversation Logs"}),": Look for the KB Response node."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://imgur.com/RBrGD9W.png",alt:"image"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Verify Query Reach"}),": Visit ",(0,i.jsx)(n.strong,{children:"Data Explorer > Knowledge Base report"})," 30-45 seconds after the query. If the query has reached the KB, you should see a row with the query, search results, and response."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"components-to-check",children:"Components to check"}),"\n",(0,i.jsx)(n.p,{children:"You must check the input, the search results generated by the KB, and the final response."}),"\n",(0,i.jsx)(n.h4,{id:"input",children:"Input"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Query"}),"\n",(0,i.jsx)(n.li,{children:"Conversation history (rephrase query)"}),"\n",(0,i.jsx)(n.li,{children:"Site key (optional, for Bing search websites)"}),"\n",(0,i.jsx)(n.li,{children:"Tags (optional, for file tags)"}),"\n",(0,i.jsx)(n.li,{children:"Search confidence (default is 0.5)"}),"\n",(0,i.jsx)(n.li,{children:"Model type (optional, with InHouse LLM) source"}),"\n",(0,i.jsx)(n.li,{children:"Knowledge version"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://imgur.com/ZTb7CwG.png",alt:"image"})}),"\n",(0,i.jsx)(n.h4,{id:"search",children:"Search"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Does the answer exist in the KB index?"}),"\n",(0,i.jsx)(n.li,{children:"Is the relevant paragraph among the top 20 results for that query (check the KB report)?"}),"\n",(0,i.jsx)(n.li,{children:"Is the paragraph LLM-friendly (e.g., does it contain table data)?"}),"\n",(0,i.jsx)(n.li,{children:"What is the position of the knowledge?"}),"\n",(0,i.jsx)(n.li,{children:"Has the knowledge version changed?"}),"\n",(0,i.jsx)(n.li,{children:"Are there conflicting or similar results?"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://imgur.com/U5P25kV.png",alt:"image"})}),"\n",(0,i.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The final output from the response model is shown as the answer."}),"\n",(0,i.jsx)(n.li,{children:"Depending on use-cases, you can change the background model and prompt it to follow custom rules. Note: This has implications for cost and hallucination."}),"\n",(0,i.jsx)(n.li,{children:"Rules cannot be defined here; it\u2019s a prompt that requires iterations."}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Refer to ",(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/kb/confgure-response",children:"this document"})," for details."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lh7-rt.googleusercontent.com/slidesz/AGV_vUdEzth0xdg0iHgS7SKdpPLmLfW0mWdUAFpg_SR0no-eiycQ9k9W_ftgYEKfx98IOcKV9-mgPYKgmPL4l2CglE05-Xp3dcwCIvQ2f1mGeMNao5nNPuT0pF-cJbg4_3FQk_vQRlBtAxeiYV2S7fl52ixbi_0JjQ2e=s2048?key=wWuR_3hPrJamKUizdrJUXw",alt:"Reference"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Troubleshooting Reference Docs"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/cookbooks/insights/kbdebugging",children:"How to use KB report"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/kb/confgure-response",children:"How to write KB prompts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.semrush.com/blog/website-sitemap/",children:"What is a sitemap.xml"})}),"\n"]})]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);