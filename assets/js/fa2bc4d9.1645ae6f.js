"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[47179],{603905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var o=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=o.createContext({}),s=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=s(e.components);return o.createElement(c.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(n),d=r,m=p["".concat(c,".").concat(d)]||p[d]||h[d]||i;return n?o.createElement(m,a(a({ref:t},u),{},{components:n})):o.createElement(m,a({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[p]="string"==typeof e?e:r,a[1]=l;for(var s=2;s<i;s++)a[s]=n[s];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},551563:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return p}});var o=n(487462),r=n(263366),i=(n(667294),n(603905)),a=["components"],l={title:"Secure Authentication Workflow for Mobile SDK",sidebar_label:"Secure Authentication Workflow for Mobile SDK"},c=void 0,s={unversionedId:"platform_concepts/mobile/chatbot/secure-ymauth",id:"platform_concepts/mobile/chatbot/secure-ymauth",title:"Secure Authentication Workflow for Mobile SDK",description:'The "ymAuthenticationToken" is a unique token that is used to connect the user\'s identity with the chatbot to fetch chat history (conversations between users and the bot). The chat history includes details such as user\u2019s input, bot responses, and the date and time of the conversation.',source:"@site/docs/platform_concepts/mobile/chatbot/secure-ymauth.md",sourceDirName:"platform_concepts/mobile/chatbot",slug:"/platform_concepts/mobile/chatbot/secure-ymauth",permalink:"/docs/platform_concepts/mobile/chatbot/secure-ymauth",draft:!1,tags:[],version:"current",frontMatter:{title:"Secure Authentication Workflow for Mobile SDK",sidebar_label:"Secure Authentication Workflow for Mobile SDK"},sidebar:"platform_concepts",previous:{title:"Xamarin",permalink:"/docs/platform_concepts/mobile/chatbot/xamarin"},next:{title:"Send event to bot workflow",permalink:"/docs/platform_concepts/mobile/chatbot/send-event-workflow"}},u={},p=[{value:"Bot session validation upon launch",id:"bot-session-validation-upon-launch",level:4},{value:"Revalidating a loaded bot session when it expires",id:"revalidating-a-loaded-bot-session-when-it-expires",level:4}],h={toc:p};function d(e){var t=e.components,n=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,'The "ymAuthenticationToken" is a unique token that is used to connect the user\'s identity with the chatbot to fetch chat history (conversations between users and the bot). The chat history includes details such as user\u2019s input, bot responses, and the date and time of the conversation. '),(0,i.kt)("p",null,'To enhance security and protect the "ymAuthenticationToken" from unauthorized access, you can use the "secure YMAuthentication". This authentication provide additional security to your bot conversations.'),(0,i.kt)("p",null,"The following are the steps involved in setting up secure YMAuthentication: "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Enable secure YMAuthentication"),":",(0,i.kt)("br",null)," Set ",(0,i.kt)("inlineCode",{parentName:"li"},"config.useSecureYmAuth")," to ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," in your bot configuration to activate secure YMAuthentication."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Obtain encrypted ymAuthenticationToken"),":",(0,i.kt)("br",null)," Initiate an API request to acquire an encrypted ",(0,i.kt)("strong",{parentName:"li"},"ymAuthenticationToken"),"."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Set ymAuthenticationToken"),":",(0,i.kt)("br",null)," During bot initialization, set the obtained ymAuthenticationToken to ",(0,i.kt)("inlineCode",{parentName:"li"},"config.ymAuthenticationToken"),"."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Handle token expiry"),":",(0,i.kt)("br",null)," When the token expires, you will receive an event with the code ",(0,i.kt)("inlineCode",{parentName:"li"},"ym-revalidate-token"),", containing data in the form of ",(0,i.kt)("inlineCode",{parentName:"li"},'{ "refreshSession": true|false }'),"."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Retrieve a new token"),":",(0,i.kt)("br",null)," Create another API request to retrieve a new encrypted ymAuthenticationToken."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Update configuration"),":",(0,i.kt)("br",null)," Once you receive the new token, update the configuration\u2019s ymAuthenticationToken with a new value."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Revalidate the token"),":",(0,i.kt)("br",null),' Pass this updated token, along with the "refreshSession" value (obtained earlier), by invoking the revalidateToken function from the Chatbot SDK. This action revalidates the token and refreshes the chat session.'),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Handling invalid tokens"),":",(0,i.kt)("br",null)," If the token is found to be invalid, you will receive another ",(0,i.kt)("inlineCode",{parentName:"li"},"ym-revalidate-token")," event (up to 3 incorrect attempts). Follow the above steps to revalidate the token. After three unsuccessful attempts, if the token remains invalid, you will be directed to an error page with a ",(0,i.kt)("em",{parentName:"li"},"Try again")," option.")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"For detailed steps, refer ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/Getting%20Started/security-auth/ymauth"},"this guide"),".")),(0,i.kt)("h4",{id:"bot-session-validation-upon-launch"},"Bot session validation upon launch"),(0,i.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/bIErYWamE-c",title:"YouTube video player",frameborder:"0",allow:"autoplay; clipboard-write; picture-in-picture",allowfullscreen:!0}),(0,i.kt)("h4",{id:"revalidating-a-loaded-bot-session-when-it-expires"},"Revalidating a loaded bot session when it expires"),(0,i.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/Oc_lLxStjNo",title:"YouTube video player",frameborder:"0",allow:"autoplay; clipboard-write; picture-in-picture",allowfullscreen:!0}))}d.isMDXComponent=!0}}]);