"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[62248],{603905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return g}});var a=n(667294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),d=i,g=u["".concat(s,".").concat(d)]||u[d]||m[d]||r;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},620077:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=n(487462),i=n(263366),r=(n(667294),n(603905)),o=["components"],l={title:"Testing Voice agents using WebRTC feature",sidebar_label:"WebRTC for voice agents testing"},s=void 0,c={unversionedId:"cookbooks/voice-as-channel/WebrtcTesting",id:"cookbooks/voice-as-channel/WebrtcTesting",title:"Testing Voice agents using WebRTC feature",description:"This document is intended for bot developers for the purpose of testing voice agents.",source:"@site/docs/cookbooks/voice-as-channel/WebrtcTesting.md",sourceDirName:"cookbooks/voice-as-channel",slug:"/cookbooks/voice-as-channel/WebrtcTesting",permalink:"/docs/cookbooks/voice-as-channel/WebrtcTesting",draft:!1,tags:[],version:"current",frontMatter:{title:"Testing Voice agents using WebRTC feature",sidebar_label:"WebRTC for voice agents testing"},sidebar:"platform_concepts",previous:{title:"Best practices",permalink:"/docs/platform_concepts/VoiceX/Best_Practices"},next:{title:"Voice FAQs",permalink:"/docs/cookbooks/voice-as-channel/voicefaqs"}},p={},u=[{value:"Testing a voice agent using WebRTC",id:"testing-a-voice-agent-using-webrtc",level:2},{value:"Feature overview",id:"feature-overview",level:2},{value:"Environment availability",id:"environment-availability",level:3},{value:"Cost",id:"cost",level:3},{value:"Audio quality",id:"audio-quality",level:3},{value:"DTMF input handling",id:"dtmf-input-handling",level:3},{value:"Network monitoring &amp; feedback",id:"network-monitoring--feedback",level:3},{value:"Agent transfer during testing",id:"agent-transfer-during-testing",level:3}],m={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This document is intended for ",(0,r.kt)("strong",{parentName:"p"},"bot developers")," for the purpose of testing voice agents."),(0,r.kt)("p",null,"While testing voice agents and previewing their output for customers outside India (using international numbers such as US, UK, or UAE), traditional methods have proven limiting:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Skype Enterprise plans")," are expensive and not scalable for routine testing.  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Google Meet")," supports only US & Canada numbers and can cause compatibility issues with voice agent functionalities.  "),(0,r.kt)("li",{parentName:"ul"},"Using multiple ",(0,r.kt)("strong",{parentName:"li"},"DID")," (Direct Inward Dialing) numbers for each country and manually switching between them is both time-consuming and costly.")),(0,r.kt)("p",null,"To address these challenges, Yellow.ai now offers a ",(0,r.kt)("strong",{parentName:"p"},"WebRTC")," (Web Real-Time Communication) calling feature for voice agents. This enables browser-based calls directly from the platform\u2014allowing you to test and experience agent interactions with Indian/non-Indian numbers without relying on external telephony systems."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"WebRTC testing is enabled by default for the following regions: ",(0,r.kt)("strong",{parentName:"p"},"R0, R2, R3, R4, and R5"),".  To enable it for regions ",(0,r.kt)("strong",{parentName:"p"},"R1, R6, or R7"),", please contact the support team at ",(0,r.kt)("a",{parentName:"p",href:"mailto:support@yellow.ai"},"support@yellow.ai"),".")),(0,r.kt)("h2",{id:"testing-a-voice-agent-using-webrtc"},"Testing a voice agent using WebRTC"),(0,r.kt)("p",null,"To test a voice agent using the WebRTC feature, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Open the Preview Mode"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Navigate to ",(0,r.kt)("strong",{parentName:"li"},"Automation > Flows > Preview"),".  "),(0,r.kt)("li",{parentName:"ul"},"Select ",(0,r.kt)("strong",{parentName:"li"},"Voice")," from the dropdown.  ")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://hackmd.io/_uploads/HkpsjukVlx.png",alt:"Voice Preview Screenshot"})),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"You cannot preview an individual flow for voice agents. When you click ",(0,r.kt)("strong",{parentName:"p"},"Preview"),", the entire agent is launched starting from the Welcome/Start flow.  Switching between flows during the session will disconnect the call."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"(Optional) Set a Caller Line Identity (CLI)"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"To display a test-friendly number instead of your personal/voice agent number, go to any ",(0,r.kt)("strong",{parentName:"li"},"Node > Settings > Channels > Voice"),".  "),(0,r.kt)("li",{parentName:"ul"},"Under the ",(0,r.kt)("strong",{parentName:"li"},"Caller Line Identity")," field, enter the phone number you want to appear as the caller ID for the end user and ",(0,r.kt)("strong",{parentName:"li"},"Save"),".  ")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://hackmd.io/_uploads/ryylMKJ4el.png",alt:"CLI Screenshot"}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Start the Call"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If not already granted, allow microphone access."),(0,r.kt)("li",{parentName:"ul"},"Click on the ",(0,r.kt)("strong",{parentName:"li"},"Start Call")," button.  "),(0,r.kt)("li",{parentName:"ul"},"Enter the phone number you want to call (ideally your own or a end user\u2019s number that you have access to).")),(0,r.kt)("img",{src:"https://hackmd.io/_uploads/By7ThdJElx.png",alt:"Phone Number Input",width:"40%"})," ",(0,r.kt)("img",{src:"https://hackmd.io/_uploads/SknwkFy4le.png",alt:"Call Screen",width:"35%"})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Answer and Test"),"  "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Answer the call on the entered number/device.  "),(0,r.kt)("li",{parentName:"ul"},"Begin interacting with the voice agents to test its flows, inputs (DTMF), and behaviors.")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"feature-overview"},"Feature overview"),(0,r.kt)("h3",{id:"environment-availability"},"Environment availability"),(0,r.kt)("p",null,"WebRTC testing is only available in the following environments:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sandbox"),(0,r.kt)("li",{parentName:"ul"},"Staging"),(0,r.kt)("li",{parentName:"ul"},"Development")),(0,r.kt)("h3",{id:"cost"},"Cost"),(0,r.kt)("p",null,"No additional cost is involved in using WebRTC-based voice testing."),(0,r.kt)("h3",{id:"audio-quality"},"Audio quality"),(0,r.kt)("p",null,"Calls made using WebRTC will use 8kHz audio quality, matching standard telephony to help maintain parity between testing and production environments."),(0,r.kt)("h3",{id:"dtmf-input-handling"},"DTMF input handling"),(0,r.kt)("p",null,"WebRTC calls support DTMF INFO-based input transmission instead of audio tone detection."),(0,r.kt)("h3",{id:"network-monitoring--feedback"},"Network monitoring & feedback"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("strong",{parentName:"li"},"internet connectivity")," drops or either party disconnects: The UI will display feedback indicating disconnection."),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("strong",{parentName:"li"},"packet loss or jitter")," exceeds acceptable thresholds: Visual warnings will be shown to notify the developer."),(0,r.kt)("li",{parentName:"ul"},"When making calls to numbers in different regions, you may experience latency, with the Round Trip Time (",(0,r.kt)("strong",{parentName:"li"},"RTT"),") displayed. However, RTT isn't a direct indicator of connection quality. For example, a call from Region 0 to a voice agent hosted in Region 4 might show around 300ms RTT, even with excellent connectivity.")),(0,r.kt)("h3",{id:"agent-transfer-during-testing"},"Agent transfer during testing"),(0,r.kt)("p",null,"When encountered with the ",(0,r.kt)("strong",{parentName:"p"},"agent transfer")," case during voice agent testing, calls will be allowed to continue for up to ",(0,r.kt)("strong",{parentName:"p"},"2 minutes")," before automatic termination by the system."),(0,r.kt)("p",null,"Before disconnection voice agent ",(0,r.kt)("strong",{parentName:"p"},"developers must validate"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"That the call is being successfully transferred or assigned to an agent."),(0,r.kt)("li",{parentName:"ul"},"That relevant metadata (e.g., email, name, transcript) is passed correctly to the agent.")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Two testing scenarios")),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Staging agent access available"),": Developers can use staging agent credentials to log in and test full agent transfer flow."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"No staging agent access"),': Calls are routed to production agents, who will answer, announce "Yellow.ai Delivery Team is testing", and then disconnect.'))))}d.isMDXComponent=!0}}]);