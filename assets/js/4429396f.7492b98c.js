"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[76493],{603905:function(t,e,n){n.d(e,{Zo:function(){return m},kt:function(){return g}});var a=n(667294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var p=a.createContext({}),s=function(t){var e=a.useContext(p),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},m=function(t){var e=s(t.components);return a.createElement(p.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,p=t.parentName,m=l(t,["components","mdxType","originalType","parentName"]),u=s(n),c=r,g=u["".concat(p,".").concat(c)]||u[c]||d[c]||i;return n?a.createElement(g,o(o({ref:e},m),{},{components:n})):a.createElement(g,o({ref:e},m))}));function g(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=c;var l={};for(var p in e)hasOwnProperty.call(e,p)&&(l[p]=e[p]);l.originalType=t,l[u]="string"==typeof t?t:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},303536:function(t,e,n){n.r(e),n.d(e,{assets:function(){return m},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return u}});var a=n(487462),r=n(263366),i=(n(667294),n(603905)),o=["components"],l={title:"PayU Business",sidebar_label:"PayU Business"},p=void 0,s={unversionedId:"platform_concepts/appConfiguration/payuBiz",id:"platform_concepts/appConfiguration/payuBiz",title:"PayU Business",description:"PayU Business integration enables your bot to receive PayU payments from your users. You can generate payment links, UPI intents for whatsapp pay and receive notifications on the success/failure of the payments.",source:"@site/docs/platform_concepts/appConfiguration/payuBiz.md",sourceDirName:"platform_concepts/appConfiguration",slug:"/platform_concepts/appConfiguration/payuBiz",permalink:"/docs/platform_concepts/appConfiguration/payuBiz",draft:!1,tags:[],version:"current",frontMatter:{title:"PayU Business",sidebar_label:"PayU Business"},sidebar:"platform_concepts",previous:{title:"Paytm",permalink:"/docs/platform_concepts/appConfiguration/paytm"},next:{title:"Razorpay",permalink:"/docs/platform_concepts/appConfiguration/razorpay"}},m={},u=[{value:"Integrating PayU with Yellow.ai",id:"integrating-payu-with-yellowai",level:2},{value:"1.1 Get keys required for your PayU account integration",id:"11-get-keys-required-for-your-payu-account-integration",level:3},{value:"1.2 Connect PayU Business to yellow.ai",id:"12-connect-payu-business-to-yellowai",level:3},{value:"1.3 Configure webhook URL",id:"13-configure-webhook-url",level:3},{value:"1.4 Enable PayU event to receive event in bot",id:"14-enable-payu-event-to-receive-event-in-bot",level:3},{value:"Manage PayU payments from AI Agent conversations",id:"manage-payu-payments-from-ai-agent-conversations",level:2},{value:"2.1 Generate payment link",id:"21-generate-payment-link",level:3},{value:"2.1 Generate UPI intent",id:"21-generate-upi-intent",level:3}],d={toc:u};function c(t){var e=t.components,n=(0,r.Z)(t,o);return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://payu.in/about-us?_ga=2.219146714.274874686.1677657469-282964387.1677657469"},"PayU Business integration")," enables your bot to receive PayU payments from your users. You can generate payment links, UPI intents for whatsapp pay and receive notifications on the success/failure of the payments."),(0,i.kt)("h2",{id:"integrating-payu-with-yellowai"},"Integrating PayU with Yellow.ai"),(0,i.kt)("p",null,"To connect your PayU account with yellow.ai, follow these steps:"),(0,i.kt)("h3",{id:"11-get-keys-required-for-your-payu-account-integration"},"1.1 Get keys required for your PayU account integration"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Login to ",(0,i.kt)("a",{parentName:"li",href:"https://onboarding.payu.in/app/account"},"PayU Dashboard")),(0,i.kt)("li",{parentName:"ol"},"Switch to ",(0,i.kt)("strong",{parentName:"li"},"Live Mode")," from the toggle option on the menu bar."),(0,i.kt)("li",{parentName:"ol"},"Select ",(0,i.kt)("strong",{parentName:"li"},"Developer")," from the menu on the left-pane and select the ",(0,i.kt)("strong",{parentName:"li"},"API Details")," tab if required. Here ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Key"),": The API key required for all payment requests.  "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Salt (32-bit)"),": A 32-character string (v1) used to generate a hash. Any one hash codes is required along with the other parameters when submitting a payment request to PayU.  "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Salt (256-bit)"),": A more secure, 256-bit string (v2) used for hash generation. Any one hash codes is required along with the other parameters when submitting a payment request to PayU.  ")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Alternatively, you can  write to ",(0,i.kt)("a",{parentName:"li",href:"mailto:integration@payu.in"},"PayUBiz team")," for the API keys. They will provide the keys for both the modes."),(0,i.kt)("li",{parentName:"ul"},"For comprehensive guide to ",(0,i.kt)("a",{parentName:"li",href:"https://docs.payu.in/docs/generate-merchant-key-and-salt-on-payu-dashboard"},"PayU Dashboard, see here")))),(0,i.kt)("h3",{id:"12-connect-payu-business-to-yellowai"},"1.2 Connect PayU Business to yellow.ai"),(0,i.kt)("p",null,"In a two-tier environment, you can connect an integration app in the Development environment. In a three-tier environment, you can connect the integration app either in Staging or Sandbox. All connected integrations are available in the live environment."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Navigate to the Development/Staging environment and go to\xa0",(0,i.kt)("strong",{parentName:"p"},"Extensions"),"\xa0>\xa0",(0,i.kt)("strong",{parentName:"p"},"Integrations"),"\xa0>\xa0",(0,i.kt)("strong",{parentName:"p"},"Payment")," \xa0> ",(0,i.kt)("strong",{parentName:"p"},"PayU Business"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/WOrjMUu.png",alt:null})))),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Give account name"),", enter a unique name for the integration. You can use only lowercase alphanumeric characters and underscores (_)."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/lhhX7rr.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Salt value"),", enter the unique hash for each transaction, which is then used to verify the authenticity of the transaction. The Salt Value is provided by PayU and should be kept confidential.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Enter the ",(0,i.kt)("strong",{parentName:"p"},"Client ID"),", enter your PayU account's client ID.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Payu base URL"),", enter the base URL to send API requests to the PayU payment gateway for payment processing.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Payu UPI base URL"),", enter the base URL of the PayU UPI to send API requests to the PayU UPI payment gateway for UPI payment processing."))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Payu base URL and and Payu UPI base URL will differ for test and live modes.\nExample:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"Test mode - ",(0,i.kt)("a",{parentName:"li",href:"https://test.payu.in"},"https://test.payu.in")),(0,i.kt)("li",{parentName:"ul"},"Live mode - ",(0,i.kt)("a",{parentName:"li",href:"https://info.payu.in"},"https://info.payu.in")))),(0,i.kt)("ol",{start:7},(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Connect")," when you're done."),(0,i.kt)("li",{parentName:"ol"},"To add another account, click\xa0",(0,i.kt)("strong",{parentName:"li"},"+ Add account"),"\xa0and proceed with the previous steps. You can add a maximum of 15 accounts.")),(0,i.kt)("h3",{id:"13-configure-webhook-url"},"1.3 Configure webhook URL"),(0,i.kt)("p",null,"To receive real-time notifications about payment status updates, you need to set up a webhook URL "),(0,i.kt)("p",null,"Copy the webhook URL and the API key mentioned in the ",(0,i.kt)("strong",{parentName:"p"},"Instructions")," section of the PayUBiz Integration section in the yellow.ai platform."),(0,i.kt)("p",null,"   ",(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/2cyhP5e.png",alt:null})),(0,i.kt)("p",null,"Use the webhook URL specific to your region -  ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.yellow.ai/integrations/genericIntegration/payu-payment-gateway/x1668670622130?id=VVKB60XTmBsVV3sALdpMw0Z3rzXHJ2MTA5cOtiHEzRs%3D"},"India"),", ",(0,i.kt)("a",{parentName:"p",href:"https://r1.cloud.yellow.ai/integrations/genericIntegration/payu-payment-gateway/x1668670622130?id=VVKB60XTmBsVV3sALdpMw0Z3rzXHJ2MTA5cOtiHEzRs%3D"},"MEA"),", ",(0,i.kt)("a",{parentName:"p",href:"https://r2.cloud.yellow.ai/integrations/genericIntegration/payu-payment-gateway/x1668670622130?id=VVKB60XTmBsVV3sALdpMw0Z3rzXHJ2MTA5cOtiHEzRs%3D"},"Jakarta"),", ",(0,i.kt)("a",{parentName:"p",href:"https://r3.cloud.yellow.ai/integrations/genericIntegration/payu-payment-gateway/x1668670622130?id=VVKB60XTmBsVV3sALdpMw0Z3rzXHJ2MTA5cOtiHEzRs%3D"},"Singapore"),",",(0,i.kt)("a",{parentName:"p",href:"https://r4.cloud.yellow.ai/integrations/genericIntegration/payu-payment-gateway/x1668670622130?id=VVKB60XTmBsVV3sALdpMw0Z3rzXHJ2MTA5cOtiHEzRs%3D"}," USA"),", and ",(0,i.kt)("a",{parentName:"p",href:"https://r5.cloud.yellow.ai/integrations/genericIntegration/payu-payment-gateway/x1668670622130?id=VVKB60XTmBsVV3sALdpMw0Z3rzXHJ2MTA5cOtiHEzRs%3D"},"Europe"),"."),(0,i.kt)("p",null,"To ensure secure communication and enable PayU Business to send payment status updates, you must get the webhook URL whitelisted. Contact the ",(0,i.kt)("a",{parentName:"p",href:"mailto:integration@payu.in"},"PayU Integration team")," for assistance."),(0,i.kt)("p",null,"PayUBiz will whitelist the webhook URL provided by the merchant in their systems. You also need to get the webhook URL whitelisted from the can write to the ",(0,i.kt)("a",{parentName:"p",href:"mailto:integration@payu.in"},"PayU Integration team")," for more information."),(0,i.kt)("h3",{id:"14-enable-payu-event-to-receive-event-in-bot"},"1.4 Enable PayU event to receive event in bot"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.yellow.ai"},"Cloud Platform")," go to Staging/Development environment.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left navigation bar, click ",(0,i.kt)("strong",{parentName:"p"},"Automation")," > ",(0,i.kt)("strong",{parentName:"p"},"Event")," > ",(0,i.kt)("strong",{parentName:"p"},"Integrations")," and search for ",(0,i.kt)("inlineCode",{parentName:"p"},"Payu Biz Payment Status"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/vI6zufl.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on the more options icon and select ",(0,i.kt)("strong",{parentName:"p"},"Activate"),". If you have connected multiple accounts, you need to enable the event for each account.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Once the event is activated, you can create a flow in the ",(0,i.kt)("strong",{parentName:"p"},"Automation")," > ",(0,i.kt)("strong",{parentName:"p"},"Build")," and use the event at the start of the flow to trigger a specific action, such as displaying a message indicating that the payment is completed."),(0,i.kt)("img",{src:"https://i.imgur.com/hFfvxaR.png",width:"70%"}))),(0,i.kt)("h2",{id:"manage-payu-payments-from-ai-agent-conversations"},"Manage PayU payments from AI Agent conversations"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"If there are multiple accounts, you can select from which account you want to perform the action.")),(0,i.kt)("h3",{id:"21-generate-payment-link"},"2.1 Generate payment link"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"When building ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/journeys"},"Conversation flows"),", add an ",(0,i.kt)("strong",{parentName:"p"},"Integration action node")," and select ",(0,i.kt)("strong",{parentName:"p"},"PayU Business")," from the list of enabled integrations."),(0,i.kt)("img",{src:"https://i.imgur.com/gOTE1zk.png",alt:"drawing",width:"60%"}))),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"When you click the node, you will see a drop-down with supported actions in this integration. Select ",(0,i.kt)("strong",{parentName:"p"},"Generate Payment Link"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/saWr4er.png",alt:null})))),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Fill in the fields based on the details provided in the following table. "),(0,i.kt)("table",{parentName:"li"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field name"),(0,i.kt)("th",{parentName:"tr",align:null},"Sample value"),(0,i.kt)("th",{parentName:"tr",align:null},"Data type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Amount"),(0,i.kt)("td",{parentName:"tr",align:null},"100"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Amount to be paid using the payment link.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"ProductInfo"),(0,i.kt)("td",{parentName:"tr",align:null},"Iphone"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Name of the product the user wants to purchase.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Description"),(0,i.kt)("td",{parentName:"tr",align:null},"Test"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Description of the product.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerName"),(0,i.kt)("td",{parentName:"tr",align:null},"Manish"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Name of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerEmail"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"mailto:test@test.com"},"test@test.com")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Email address of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerMobileNumber"),(0,i.kt)("td",{parentName:"tr",align:null},"9999933344"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Contact number of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"txnID"),(0,i.kt)("td",{parentName:"tr",align:null},"Order123"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"The unique transaction ID that is generated dynamically.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerAddress"),(0,i.kt)("td",{parentName:"tr",align:null},"Ashoka Road, Mysore, Karnataka"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Address of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerCity"),(0,i.kt)("td",{parentName:"tr",align:null},"New york"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"City of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerResidentState"),(0,i.kt)("td",{parentName:"tr",align:null},"Karnataka"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"State of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerZipcode"),(0,i.kt)("td",{parentName:"tr",align:null},"845309"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Pincode of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Send Email"),(0,i.kt)("td",{parentName:"tr",align:null},"false"),(0,i.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,i.kt)("td",{parentName:"tr",align:null},"The email address of the customer to send the invoice.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Time Unit"),(0,i.kt)("td",{parentName:"tr",align:null},"h"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Frequency(in days, hours, minutes) at which a recurring payment will be charged.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"UDF"),(0,i.kt)("td",{parentName:"tr",align:null},"Shipping Method"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"User defined field - used to store any information corresponding to a particular transaction.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Validation Period"),(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:null},"Number"),(0,i.kt)("td",{parentName:"tr",align:null},"Determines how long PayU will continue trying to charge the customer if the initial payment fails.")))))),(0,i.kt)("p",null,"To use this Integration Action Node in an app.yellow.ai bot, refer the following example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'app.executeIntegrationAction({\n    "integrationName": "payu-payment-gateway",\n    "action": "Generate Payment Link",\n    "dynamicParams": {\n        "amount": "1",\n        "productInfo": "testProduct",\n        "customerFirstName": "Test Customer",\n        "customerEmail": "test@test.com",\n        "customerMobileNumber": "9999999999",\n        "txnid": "123456789"\n    }\n}).then((res)=>{\n    console.log("response from action node", res);\n    app.log(res, \'||Response from action node||\')\n}).catch((err)=>{\n    console.log("Error in action node",err);\n    app.log(err, \'||Error in action node||\')\n})\n')),(0,i.kt)("h3",{id:"21-generate-upi-intent"},"2.1 Generate UPI intent"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"From the PayU Business node, select ",(0,i.kt)("em",{parentName:"p"},"Create UPI intent"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/gkeqscs.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Provide the necessary inputs by selecting the relevant variable for each parameter. Below is a table containing sample values, data types, and descriptions for each of these fields."),(0,i.kt)("table",{parentName:"li"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Field name"),(0,i.kt)("th",{parentName:"tr",align:null},"Sample value"),(0,i.kt)("th",{parentName:"tr",align:null},"Data type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Amount"),(0,i.kt)("td",{parentName:"tr",align:null},"100"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Amount to be paid using the payment link.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerEmail"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"mailto:test@test.com"},"test@test.com")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Email address of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerPhoneNumber"),(0,i.kt)("td",{parentName:"tr",align:null},"9999933344"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Contact number of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"CustomerName"),(0,i.kt)("td",{parentName:"tr",align:null},"Manish"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Name of the customer.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Fail URL"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://alpha6.yellowmessenger.com/"},"https://alpha6.yellowmessenger.com/")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"The redirection URL in case there's a payment failure.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Success URL"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"https://alpha6.yellowmessenger.com/"},"https://alpha6.yellowmessenger.com/")),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"The redirection URL in case of successful payment."),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null})),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"TXN S2S flow"),(0,i.kt)("td",{parentName:"tr",align:null},"4"),(0,i.kt)("td",{parentName:"tr",align:null},"number"),(0,i.kt)("td",{parentName:"tr",align:null},"Txn S2S flow.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Transaction ID"),(0,i.kt)("td",{parentName:"tr",align:null},"Order123"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"The unique transaction ID that is generated dynamically.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Product Info"),(0,i.kt)("td",{parentName:"tr",align:null},"Iphone"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"Description of the product.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"UDF"),(0,i.kt)("td",{parentName:"tr",align:null},"CustomField"),(0,i.kt)("td",{parentName:"tr",align:null},"String"),(0,i.kt)("td",{parentName:"tr",align:null},"User defined Field - used to store any information corresponding to a particular transaction."))))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The ",(0,i.kt)("strong",{parentName:"p"},"Generate UPI intenrt Integration Action Node")," has two outcomes, ",(0,i.kt)("strong",{parentName:"p"},"success")," or ",(0,i.kt)("strong",{parentName:"p"},"failure"),". If the payment link is generated successfully, the ",(0,i.kt)("strong",{parentName:"p"},"Integration Action Node")," returns a ",(0,i.kt)("strong",{parentName:"p"},"Success")," response code as shown below:"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n       "metaData": {\n         "message": null,\n         "referenceId": "af65159e8566652849bc12a3450a8fca",\n         "statusCode": null,\n         "txnId": "wa5iy6b82pvquxcd1vby",\n         "txnStatus": "pending",\n         "unmappedStatus": "pending"\n       },\n       "result": {\n         "paymentId": 15961819086,\n         "merchantName": "wwwmerchantnamecom",\n         "merchantVpa": "payumoney@hdfcbank",\n         "amount": "1.00",\n         "intentURIData": "pa=payumoney@hdfcbank&pn=Gaurav Dua&tr=15961819086&tid=wa5iy6b82pvquxcd1vby&am=1.00&cu=INR&tn=UPI Transaction for wa5iy6b82pvquxcd1vby",\n         "acsTemplate": "PGh0bWw+PGJvZHk+PGZvcm0gbmFt"\n       }\n     }\n\n')),(0,i.kt)("p",null,"If generating UPI intent fails, the ",(0,i.kt)("strong",{parentName:"p"},"Integration Action Node")," returns a Failure response code as shown below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "message": "[INTG ERROR] Node API Execution failed for payu-payment-gateway_Create UPI Intent in bot x1645073590274: 4xx or 5xx series code encountered",\n  "name": "IntegrationNodeAPIError",\n  "apiResponseBody": {\n    "result": null,\n    "status": "failed",\n    "error": "EX117",\n    "message": "Invalid amount #~#Please ensure that you send all mandatory parameters in the transaction request to PayU.<br><div style=\'font-size: 13px;padding: 0 150px; padding: 0 150px; line-height: 18px;\'>Mandatory parameters which must be sent in the transaction are: <br><b>key, txnid, amount, productinfo, firstname, email, phone, surl, furl, hash</b></div>.<br><div style=\'font-size: 13px;padding: 0 150px; line-height: 18px;\'>The parameters which you have actually sent in the transaction are: <br><b> key, txnid, amount, productinfo, surl, hash, firstname, email, phone</b>.</div><br><div style=\'font-size: 13px;padding: 0 150px; line-height: 18px;\'>Mandatory parameter missing from your transaction request are: <br><b></b>.</div><br><div style=\'font-size: 13px;padding: 0 150px; line-height: 18px;\'>Please re-initiate the transaction with all the mandatory parameters.</div></p> "\n  },\n  "apiResponseStatusCode": 500\n}\n')),(0,i.kt)("p",null,"To use this ",(0,i.kt)("strong",{parentName:"p"},"Integration Action Node")," in an app.yellow.ai bot, refer the following example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'\napp.executeIntegrationAction({\n    "integrationName": "payu-payment-gateway",\n    "action": "Create UPI Intent",\n    "dynamicParams": {\n        "amount": "1",\n        "customerName": "farhan",\n        "customerEmail": "farhan.jafri2011a@gmail.com",\n        "customerMobileNumber": "9643999539",\n        "productInfo": "test",\n        "txnid":"wa5iy6b82pvquxcd1vby",\n        "successUrl":"https://staging.yellow.ai",\n        "failUrl":"https://staging.yellow.ai",\n        "txnFlow": 4\n    }\n}).then((res)=>{\n    console.log("response from action node", res);\n    app.log(res, \'||Response from action node||\')\n}).catch((err)=>{\n    console.log("Error in action node",err);\n    app.log(err, \'||Error in action node||\')\n})\n')))}c.isMDXComponent=!0}}]);