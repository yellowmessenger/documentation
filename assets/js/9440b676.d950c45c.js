"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[84767],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var a=t(96540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}},52350:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"cookbooks/studio/dynamic-callout-banner","title":"Dynamically load the callout banner in chatbot","description":"You can dynamically load the callout banner in the bot by updating the relevant data in the database. This allows for real-time changes and customization of the banner content based on specific needs.","source":"@site/docs/cookbooks/studio/dynamic-callout-banner.md","sourceDirName":"cookbooks/studio","slug":"/cookbooks/studio/dynamic-callout-banner","permalink":"/docs/cookbooks/studio/dynamic-callout-banner","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Dynamically load the callout banner in chatbot","sidebar_label":"Dynamically load the callout banner"},"sidebar":"cookbooks","previous":{"title":"Create dynamic quick replies","permalink":"/docs/cookbooks/studio/dynamic-quickreplies"},"next":{"title":"Disable callout banner","permalink":"/docs/cookbooks/studio/disable-callout-banner"}}');var s=t(74848),i=t(28453);const r={title:"Dynamically load the callout banner in chatbot",sidebar_label:"Dynamically load the callout banner"},l=void 0,o={},d=[{value:"Prerequisite",id:"prerequisite",level:4},{value:"Loading callout banner dynamically",id:"loading-callout-banner-dynamically",level:4}];function c(e){const n={a:"a",code:"code",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"You can dynamically load the callout banner in the bot by updating the relevant data in the database. This allows for real-time changes and customization of the banner content based on specific needs."}),"\n",(0,s.jsx)("center",{children:(0,s.jsx)("img",{src:"https://i.imgur.com/BJgdGNZ.png",alt:"drawing",width:"30%"})}),"\n",(0,s.jsx)(n.p,{children:"Consider an e-commerce bot where you want to display promotional offers based on data in the database columns like date, start time, and end time. By configuring the database appropriately, the e-commerce bot will display and update promotional banners dynamically."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Scenario"}),": For an e-commerce platform, display a Christmas promotion from December 20th to December 25th."]}),"\n",(0,s.jsx)(n.p,{children:"Sample database entries:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"date"}),(0,s.jsx)(n.th,{children:"start_time"}),(0,s.jsx)(n.th,{children:"end_time"}),(0,s.jsx)(n.th,{children:"banner_data"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"20-12-2024"}),(0,s.jsx)(n.td,{children:"00:00"}),(0,s.jsx)(n.td,{children:"23:59"}),(0,s.jsx)(n.td,{children:'"Christmas sale starts now! 30% Off!"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"21-12-2024"}),(0,s.jsx)(n.td,{children:"00:00"}),(0,s.jsx)(n.td,{children:"23:59"}),(0,s.jsx)(n.td,{children:'"Exclusive christmas offers!"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"22-12-2024"}),(0,s.jsx)(n.td,{children:"00:00"}),(0,s.jsx)(n.td,{children:"23:59"}),(0,s.jsx)(n.td,{children:'"Last minute christmas deals!"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"23-12-2024"}),(0,s.jsx)(n.td,{children:"00:00"}),(0,s.jsx)(n.td,{children:"23:59"}),(0,s.jsx)(n.td,{children:'"Hurry! Christmas sale ending soon!"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"24-12-2024"}),(0,s.jsx)(n.td,{children:"00:00"}),(0,s.jsx)(n.td,{children:"23:59"}),(0,s.jsx)(n.td,{children:'"Christmas eve specials!"'})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"25-12-2024"}),(0,s.jsx)(n.td,{children:"00:00"}),(0,s.jsx)(n.td,{children:"23:59"}),(0,s.jsx)(n.td,{children:'"Merry Christmas! final day of sales!"'})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Outcome"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'On 20 December, the bot will display: "Christmas sale starts now! 30% Off!"'}),"\n",(0,s.jsx)(n.li,{children:'On 21 December, the banner updates to: "Exclusive Christmas offers!"'}),"\n",(0,s.jsx)(n.li,{children:"This process continues dynamically, displaying the relevant banner data until the end of 25 December."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If you do not want the banner to be displayed, you can set the entire Date in the DD-MM-YYYY format and modify the logic accordingly in the flow to work."}),"\n",(0,s.jsx)(n.h4,{id:"prerequisite",children:"Prerequisite"}),"\n",(0,s.jsx)(n.p,{children:"To load the callout banner dynamically, consider the following prerequisites:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database setup"}),": Create a database with the relevant columns based on the banner requirement. For more information, click ",(0,s.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/database#create-database-table",children:"here"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/action-nodes-overview/send-event-node",children:"send event"})," node:  Use this node to call the event ",(0,s.jsx)(n.code,{children:"ui-event-update-promotion"}),". When this event is triggered, the bot fetches the details from the database and displays them in a callout banner format."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"loading-callout-banner-dynamically",children:"Loading callout banner dynamically"}),"\n",(0,s.jsx)(n.p,{children:"To load the callout banner dynamically, follow these steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a flow to trigger the event. For more information, click ",(0,s.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/configureflow#trigger-flow-using-event",children:"here"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Based on the date specified in the database it searches the info and passes the response to the send event node."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/EhPbfwm.png",alt:""})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Inside the send event node configure the custom data.\nSelect the event type as ",(0,s.jsx)(n.strong,{children:"Custom"})," and inside the data field pass the below code as per your requirement."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/2mmbcV6.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Below is the sample code:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'{\n    "banners": [\n        {\n            "title": "{{{variables.dbbanner_data.records.0.banner_message}}}",\n            "options": [\n                {\n                    "title": "Devrev",\n                    "url":"{{{variables.dbbanner_data.records.0.banner_but1}}}"\n                },\n                {\n                    "title": "Google",\n                    "url": "{{{variables.dbbanner_data.records.0.banner_but2}}} "\n                }\n            ],\n            "type": "text"\n        },\n        {\n            "type": "image",\n            "imageURL": "{{{variables.dbbanner_data.records.0.banner_image}}} ",\n            "linkType": "url",\n            "linkURL": "{{{variables.dbbanner_data.records.0.banner_urlimage}}} "\n        }\n    ],\n    "bannerSettings": {\n        "state": "close",\n        "textOnMinimise": "Hello this is banner minimize text"\n    }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);