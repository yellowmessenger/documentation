"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[77858],{603905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return b}});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,b=u["".concat(s,".").concat(m)]||u[m]||p[m]||l;return n?a.createElement(b,o(o({ref:t},d),{},{components:n})):a.createElement(b,o({ref:t},d))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},435663:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return u}});var a=n(487462),r=n(263366),l=(n(667294),n(603905)),o=["components"],i={title:"Dynamically load the callout banner in chatbot",sidebar_label:"Dynamically load the callout banner"},s=void 0,c={unversionedId:"cookbooks/studio/dynamic-callout-banner",id:"cookbooks/studio/dynamic-callout-banner",title:"Dynamically load the callout banner in chatbot",description:"You can dynamically load the callout banner in the bot by updating the relevant data in the database. This allows for real-time changes and customization of the banner content based on specific needs.",source:"@site/docs/cookbooks/studio/dynamic-callout-banner.md",sourceDirName:"cookbooks/studio",slug:"/cookbooks/studio/dynamic-callout-banner",permalink:"/docs/cookbooks/studio/dynamic-callout-banner",draft:!1,tags:[],version:"current",frontMatter:{title:"Dynamically load the callout banner in chatbot",sidebar_label:"Dynamically load the callout banner"},sidebar:"cookbooks",previous:{title:"Create dynamic quick replies",permalink:"/docs/cookbooks/studio/dynamic-quickreplies"},next:{title:"Display images for different languages",permalink:"/docs/cookbooks/studio/images-languages"}},d={},u=[{value:"Prerequisite",id:"prerequisite",level:4},{value:"Loading callout banner dynamically",id:"loading-callout-banner-dynamically",level:4}],p={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"You can dynamically load the callout banner in the bot by updating the relevant data in the database. This allows for real-time changes and customization of the banner content based on specific needs. "),(0,l.kt)("center",null,(0,l.kt)("img",{src:"https://i.imgur.com/BJgdGNZ.png",alt:"drawing",width:"30%"})),(0,l.kt)("p",null,"Consider an e-commerce bot where you want to display promotional offers based on data in the database columns like date, start time, and end time. By configuring the database appropriately, the e-commerce bot will display and update promotional banners dynamically."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Scenario"),": For an e-commerce platform, display a Christmas promotion from December 20th to December 25th."),(0,l.kt)("p",null,"Sample database entries:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"date"),(0,l.kt)("th",{parentName:"tr",align:null},"start_time"),(0,l.kt)("th",{parentName:"tr",align:null},"end_time"),(0,l.kt)("th",{parentName:"tr",align:null},"banner_data"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"20-12-2024"),(0,l.kt)("td",{parentName:"tr",align:null},"00:00"),(0,l.kt)("td",{parentName:"tr",align:null},"23:59"),(0,l.kt)("td",{parentName:"tr",align:null},'"Christmas sale starts now! 30% Off!"')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"21-12-2024"),(0,l.kt)("td",{parentName:"tr",align:null},"00:00"),(0,l.kt)("td",{parentName:"tr",align:null},"23:59"),(0,l.kt)("td",{parentName:"tr",align:null},'"Exclusive christmas offers!"')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"22-12-2024"),(0,l.kt)("td",{parentName:"tr",align:null},"00:00"),(0,l.kt)("td",{parentName:"tr",align:null},"23:59"),(0,l.kt)("td",{parentName:"tr",align:null},'"Last minute christmas deals!"')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"23-12-2024"),(0,l.kt)("td",{parentName:"tr",align:null},"00:00"),(0,l.kt)("td",{parentName:"tr",align:null},"23:59"),(0,l.kt)("td",{parentName:"tr",align:null},'"Hurry! Christmas sale ending soon!"')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"24-12-2024"),(0,l.kt)("td",{parentName:"tr",align:null},"00:00"),(0,l.kt)("td",{parentName:"tr",align:null},"23:59"),(0,l.kt)("td",{parentName:"tr",align:null},'"Christmas eve specials!"')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"25-12-2024"),(0,l.kt)("td",{parentName:"tr",align:null},"00:00"),(0,l.kt)("td",{parentName:"tr",align:null},"23:59"),(0,l.kt)("td",{parentName:"tr",align:null},'"Merry Christmas! final day of sales!"')))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Outcome"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},'On 20 December, the bot will display: "Christmas sale starts now! 30% Off!"'),(0,l.kt)("li",{parentName:"ul"},'On 21 December, the banner updates to: "Exclusive Christmas offers!"'),(0,l.kt)("li",{parentName:"ul"},"This process continues dynamically, displaying the relevant banner data until the end of 25 December.")),(0,l.kt)("p",null,"If you do not want the banner to be displayed, you can set the entire Date in the DD-MM-YYYY format and modify the logic accordingly in the flow to work."),(0,l.kt)("h4",{id:"prerequisite"},"Prerequisite"),(0,l.kt)("p",null,"To load the callout banner dynamically, consider the following prerequisites:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Database setup"),": Create a database with the relevant columns based on the banner requirement. For more information, click ",(0,l.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/studio/database#create-database-table"},"here"),"."),(0,l.kt)("li",{parentName:"ul"},"Use ",(0,l.kt)("a",{parentName:"li",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/action-nodes#11-send-event"},"send event")," node:  Use this node to call the event ",(0,l.kt)("inlineCode",{parentName:"li"},"ui-event-update-promotion"),". When this event is triggered, the bot fetches the details from the database and displays them in a callout banner format.")),(0,l.kt)("h4",{id:"loading-callout-banner-dynamically"},"Loading callout banner dynamically"),(0,l.kt)("p",null,"To load the callout banner dynamically, follow these steps:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Create a flow to trigger the event. For more information, click ",(0,l.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/configureflow#trigger-flow-using-event"},"here"),".")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Based on the date specified in the database it searches the info and passes the response to the send event node."),(0,l.kt)("p",{parentName:"li"},(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/EhPbfwm.png",alt:null}))),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("p",{parentName:"li"},"Inside the send event node configure the custom data.\nSelect the event type as ",(0,l.kt)("strong",{parentName:"p"},"Custom")," and inside the data field pass the below code as per your requirement."),(0,l.kt)("p",{parentName:"li"},"   ",(0,l.kt)("img",{parentName:"p",src:"https://i.imgur.com/2mmbcV6.png",alt:null}),"\n"))),(0,l.kt)("p",null,"Below is the sample code:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n    "banners": [\n        {\n            "title": "{{{variables.dbbanner_data.records.0.banner_message}}}",\n            "options": [\n                {\n                    "title": "Devrev",\n                    "url":"{{{variables.dbbanner_data.records.0.banner_but1}}}"\n                },\n                {\n                    "title": "Google",\n                    "url": "{{{variables.dbbanner_data.records.0.banner_but2}}} "\n                }\n            ],\n            "type": "text"\n        },\n        {\n            "type": "image",\n            "imageURL": "{{{variables.dbbanner_data.records.0.banner_image}}} ",\n            "linkType": "url",\n            "linkURL": "{{{variables.dbbanner_data.records.0.banner_urlimage}}} "\n        }\n    ],\n    "bannerSettings": {\n        "state": "close",\n        "textOnMinimise": "Hello this is banner minimize text"\n    }\n}\n')))}m.isMDXComponent=!0}}]);