"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[53397],{603905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return k}});var n=a(667294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),d=s(a),c=r,k=d["".concat(p,".").concat(c)]||d[c]||u[c]||i;return a?n.createElement(k,o(o({ref:t},m),{},{components:a})):n.createElement(k,o({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=c;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},758260:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return p},default:function(){return c},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return d}});var n=a(487462),r=a(263366),i=(a(667294),a(603905)),o=["components"],l={title:"Add or import APIs",sidebar_label:"Add APIs via Automation's API module"},p=void 0,s={unversionedId:"platform_concepts/studio/api/add-api",id:"platform_concepts/studio/api/add-api",title:"Add or import APIs",description:"In addition to the various integrations supported by Yellow.ai, you can seamlessly integrate any third-party APIs with your AI-agent. This comprehensive guide provides step-by-step instructions on connecting your AI-agent to external APIs, enabling real-time data storage and retrieval for creating a personalized user experience.",source:"@site/docs/platform_concepts/studio/api/add-api.md",sourceDirName:"platform_concepts/studio/api",slug:"/platform_concepts/studio/api/add-api",permalink:"/docs/platform_concepts/studio/api/add-api",draft:!1,tags:[],version:"current",frontMatter:{title:"Add or import APIs",sidebar_label:"Add APIs via Automation's API module"},sidebar:"platform_concepts",previous:{title:"Product catalogue",permalink:"/docs/platform_concepts/studio/product-catalogue"},next:{title:"Add APIs via API node",permalink:"/docs/platform_concepts/studio/api/add-api-apinode"}},m={},d=[{value:"Add a new API",id:"add-a-new-api",level:2},{value:"Add API manually",id:"add-api-manually",level:3},{value:"Add request components for APIs",id:"add-request-components-for-apis",level:4},{value:"Add query params",id:"add-query-params",level:4},{value:"Add request headers",id:"add-request-headers",level:4},{value:"Add body",id:"add-body",level:4},{value:"Configuration",id:"configuration",level:4},{value:"Import APIs (CURL/JSON)",id:"import-apis-curljson",level:3},{value:"Import API from CURL",id:"import-api-from-curl",level:4},{value:"Import API(s) from a JSON file",id:"import-apis-from-a-json-file",level:4},{value:"Configure environment variables",id:"configure-environment-variables",level:2},{value:"Test the API",id:"test-the-api",level:2},{value:"Configure MTLS authentication",id:"configure-mtls-authentication",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Configuring MTLS authentication",id:"configuring-mtls-authentication",level:3},{value:"Troubleshooting errors when saving certificate",id:"troubleshooting-errors-when-saving-certificate",level:3},{value:"Export APIs",id:"export-apis",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"API is not working, or the module is not showing any response",id:"api-is-not-working-or-the-module-is-not-showing-any-response",level:4},{value:"API works in Postman and API management but gives a blank response when tested in Node.",id:"api-works-in-postman-and-api-management-but-gives-a-blank-response-when-tested-in-node",level:4},{value:"API working correctly in Postman but returns a 403 error when integrated into the Automation API section",id:"api-working-correctly-in-postman-but-returns-a-403-error-when-integrated-into-the-automation-api-section",level:4}],u={toc:d};function c(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In addition to the various integrations supported by Yellow.ai, you can seamlessly integrate any third-party APIs with your AI-agent. This comprehensive guide provides step-by-step instructions on connecting your AI-agent to external APIs, enabling real-time data storage and retrieval for creating a personalized user experience."),(0,i.kt)("h2",{id:"add-a-new-api"},"Add a new API"),(0,i.kt)("p",null,"There are two ways by which you can add API:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#add-api-manually"},"Add API manually")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#import-apis-from-a-json-file"},"Import APIs"))),(0,i.kt)("h3",{id:"add-api-manually"},"Add API manually"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Automation")," > ",(0,i.kt)("strong",{parentName:"p"},"API")," > ",(0,i.kt)("strong",{parentName:"p"},"+ Add new API"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/UvHbKT1.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the pop-up screen, specify the ",(0,i.kt)("strong",{parentName:"p"},"API name"),", HTTP ",(0,i.kt)("strong",{parentName:"p"},"Method"),", and the request ",(0,i.kt)("strong",{parentName:"p"},"URL")," along with the query parameters. "),(0,i.kt)("img",{src:"https://i.imgur.com/csYrfGc.png",alt:"drawing",width:"60%"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Add new API")," to save the details."))),(0,i.kt)("h4",{id:"add-request-components-for-apis"},"Add request components for APIs"),(0,i.kt)("p",null,"To use an API, you need to include parameters for requesting information, incorporate headers to notify the third party about the data being sent, and add a body when transmitting data to the API. Our platform also provides the option to modify settings related to an API."),(0,i.kt)("h4",{id:"add-query-params"},"Add query params"),(0,i.kt)("p",null,"API parameters are essential components used when making requests to an API. They serve as specific instructions or information that you include with your request, helping the API understand and fulfill your requirements accurately."),(0,i.kt)("p",null,"To add params:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the API details page, under ",(0,i.kt)("strong",{parentName:"p"},"PARAMS"),", click ",(0,i.kt)("strong",{parentName:"p"},"+ Add Params")," "),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/fkAvdiN.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Enter params in key-value pairs and click ",(0,i.kt)("strong",{parentName:"p"},"Add"),". "),(0,i.kt)("img",{src:"https://i.imgur.com/le1BjnP.png",alt:"drawing",width:"70%"}))),(0,i.kt)("p",null,"Below are examples of key-value pairs for static and dynamic parameters:\n",(0,i.kt)("strong",{parentName:"p"},"Static parameter"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Key: botId"),(0,i.kt)("li",{parentName:"ul"},"Value: x766543323dwe_34")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Dynamic parameter"),":"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Key: city"),(0,i.kt)("li",{parentName:"ul"},'Value: {{{city}}}\nIn these examples:\nThe botId key has a static value (it remains constant).\nThe "city" key has a dynamic value represented as {{{city}}}, indicating that the value will be dynamically replaced with the actual value of the "city" parameter during runtime. ')),(0,i.kt)("h4",{id:"add-request-headers"},"Add request headers"),(0,i.kt)("p",null,"Headers in API requests are additional pieces of information sent alongside the main request. "),(0,i.kt)("p",null,"To add headers:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the API details page, under ",(0,i.kt)("strong",{parentName:"p"},"HEADERS")," click ",(0,i.kt)("strong",{parentName:"p"},"+ Add headers")," "),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/Rg762S0.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Enter headers in key-value pairs and click ",(0,i.kt)("strong",{parentName:"p"},"Add"),". For example, if you have are authenticating an API, set the ",(0,i.kt)("strong",{parentName:"p"},"Key")," as ",(0,i.kt)("strong",{parentName:"p"},"Authorization")," and the Value as the API key."),(0,i.kt)("img",{src:"https://i.imgur.com/qtHkgS9.png",alt:"drawing",width:"70%"}))),(0,i.kt)("h4",{id:"add-body"},"Add body"),(0,i.kt)("p",null,"The body in an API is the main content of the request containing data or information that should be sent to the third-party server. For POST, PUT, or DELETE methods, you can add request body under the Body section."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Multipart/form-data is not supported.")),(0,i.kt)("p",null,"To add a body:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the API details page, under ",(0,i.kt)("strong",{parentName:"p"},"BODY"),", choose the format of the request body. The supported formats are ",(0,i.kt)("strong",{parentName:"p"},"x-www-form-urlencoded"),", ",(0,i.kt)("strong",{parentName:"p"},"JSON"),", ",(0,i.kt)("strong",{parentName:"p"},"XML"),", ",(0,i.kt)("strong",{parentName:"p"},"GRAPHQL"),", ",(0,i.kt)("strong",{parentName:"p"},"form-data")," and ",(0,i.kt)("strong",{parentName:"p"},"raw"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"For ",(0,i.kt)("strong",{parentName:"p"},"JSON"),", ",(0,i.kt)("strong",{parentName:"p"},"XML"),", ",(0,i.kt)("strong",{parentName:"p"},"GRAPHQLform-data")," or ",(0,i.kt)("strong",{parentName:"p"},"raw")," body, type or paste the request body the available box."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/OM4nrDc.png",alt:null})),(0,i.kt)("p",{parentName:"li"},"For other formats, click ",(0,i.kt)("strong",{parentName:"p"},"+ Add body")," and provide body params in key-value pairs."),(0,i.kt)("img",{src:"https://i.imgur.com/WE3eVOS.png",alt:"drawing",width:"70%"}),(0,i.kt)("img",{src:"https://i.imgur.com/hP7ay5l.png",alt:"drawing",width:"70%"}))),(0,i.kt)("p",null,'To send dynamic data over body use "{{{value}}}".'),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"You can pass the access key or auth token in the way that the API is designed. You could pass it in the request URL, body, or headers. You can ignore this for APIs where no authentication is required."))),(0,i.kt)("h4",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"You can modify the API settings for optimal performance and security. This lets you manage timeout, retry strategies, and SSL enforcement, enhancing your control over communication for a more resilient and secure API integration.    "),(0,i.kt)("img",{src:"https://i.imgur.com/JlERIHD.png",alt:"drawing",width:"70%"}),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Configuration"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Timeout"),(0,i.kt)("td",{parentName:"tr",align:null},"Maximum time allowed for API response")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Retry on failure (5xx)"),(0,i.kt)("td",{parentName:"tr",align:null},"Number of attempts to retry in case of server errors")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Follow redirect(s)"),(0,i.kt)("td",{parentName:"tr",align:null},"Determines if API should automatically follow redirects")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Encoding"),(0,i.kt)("td",{parentName:"tr",align:null},"Method used to encode data (e.g., JSON, XML)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Use strictSSL"),(0,i.kt)("td",{parentName:"tr",align:null},"Enforces strict SSL certificate validation. You might not get response if this is enabled and there is some problem with SSL certificate.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"API alerts on"),(0,i.kt)("td",{parentName:"tr",align:null},"Events triggering alerts (e.g., errors, high traffic)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Default message on invoking API"),(0,i.kt)("td",{parentName:"tr",align:null},"Default response or action when API is invoked")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"API failure message (4/5xx code)"),(0,i.kt)("td",{parentName:"tr",align:null},"Message displayed upon API failure with specific codes")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"enableMutualTLS"),(0,i.kt)("td",{parentName:"tr",align:null},"Enables mutual TLS authentication for enhanced security")))),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The ",(0,i.kt)("strong",{parentName:"p"},"Configure environment")," option is disabled in the ",(0,i.kt)("strong",{parentName:"p"},"Live/Production")," environment.")),(0,i.kt)("h3",{id:"import-apis-curljson"},"Import APIs (CURL/JSON)"),(0,i.kt)("p",null,"If you have a CURL script, JSON file, or collection URL, you can conveniently import it to yellow.ai."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Automation")," > ",(0,i.kt)("strong",{parentName:"p"},"API"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the arrow icon next to API management and select ",(0,i.kt)("strong",{parentName:"p"},"Import")," ."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/Mx7D6DA.png",alt:null})))),(0,i.kt)("h4",{id:"import-api-from-curl"},"Import API from CURL"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Type"),", choose Curl ."),(0,i.kt)("img",{src:"https://i.imgur.com/5BJSXRa.png",alt:"drawing",width:"55%"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"API name")," enter a unique name for the API. Use alpha-numeric characters without space."),(0,i.kt)("img",{src:"https://cdn.yellowmessenger.com/SkWOLKxwJxyI1623865511502.png",alt:"drawing",width:"60%"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Import curl"),", copy past the CURL script and click ",(0,i.kt)("strong",{parentName:"p"},"Import"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The imported API will be available under ",(0,i.kt)("strong",{parentName:"p"},"API Management"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/j8kcrXB.png",alt:null})))),(0,i.kt)("h4",{id:"import-apis-from-a-json-file"},"Import API(s) from a JSON file"),(0,i.kt)("p",null,"If you have one or more APIs, save your collection in a JSON file and import them as mentioned in the following steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Choose ",(0,i.kt)("strong",{parentName:"p"},"Type")," as ",(0,i.kt)("strong",{parentName:"p"},"Collection")," or ",(0,i.kt)("strong",{parentName:"p"},"JSON")," depending on the file you want to import")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Drag & drop the file in ",(0,i.kt)("strong",{parentName:"p"},"Import JSON")," or use the ",(0,i.kt)("strong",{parentName:"p"},"Upload file")," button to upload the file."),(0,i.kt)("img",{src:"https://i.imgur.com/7N6NdRM.png",alt:"drawing",width:"65%"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Import"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The imported API will be available under ",(0,i.kt)("strong",{parentName:"p"},"API Management"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/4wiM0R9.png",alt:null})))),(0,i.kt)("h2",{id:"configure-environment-variables"},"Configure environment variables"),(0,i.kt)("p",null,"Streamline API configuration across environments by using the ",(0,i.kt)("strong",{parentName:"p"},"Configure Environment Variable")," option. Instead of manually inputting endpoint or parameter values for each environment, this option allows you to define and manage values uniquely for each environment."),(0,i.kt)("p",null,"To add environment variables:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Automation")," > ",(0,i.kt)("strong",{parentName:"p"},"API")," > ",(0,i.kt)("strong",{parentName:"p"},"Configure environment"),"."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/equrJi4.png",alt:null})))),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Enter the key, for example ",(0,i.kt)("strong",{parentName:"p"},"endpoint")," and enter the respective values for each environment. Click ",(0,i.kt)("strong",{parentName:"p"},"Save"),"."),(0,i.kt)("img",{src:"https://i.imgur.com/jRh5tRe.png",alt:"drawing",width:"80%"}))),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Include the key in API URL in the following format: {{{env.variablename}}} for example, {{{env.endpoint}}}"),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/ViCCnE9.png",alt:null})))),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Choose the environment and click ",(0,i.kt)("strong",{parentName:"p"},"Send")," to test the API. A ",(0,i.kt)("strong",{parentName:"p"},"2xx")," response indicates that the API works successfully."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/mBpQ2vl.png",alt:null})))),(0,i.kt)("h2",{id:"test-the-api"},"Test the API"),(0,i.kt)("p",null,"To verify the proper functioning of the added API, input all API details and select the ",(0,i.kt)("strong",{parentName:"p"},"SEND")," button adjacent to the API. A sample response will be visible if the API works properly."),(0,i.kt)("p",null,"   ",(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/cU30hAy.png",alt:"API Response"})),(0,i.kt)("p",null,"Confirm the expected functionality of the API and click ",(0,i.kt)("strong",{parentName:"p"},"Save")," to save the API settings."),(0,i.kt)("p",null,"   ",(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/2elxb3K.png",alt:null})),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"API response has a size limit of 250kb. You will get an error if the response exceeds the limit.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Before testing the API, choose the respective environment from the drop-down."),(0,i.kt)("p",{parentName:"li"}," ",(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/OiDGZu7.png",alt:null}))))),(0,i.kt)("h2",{id:"configure-mtls-authentication"},"Configure MTLS authentication"),(0,i.kt)("p",null,"MTLS, or Mutual Transport Layer Security, is an essential part of keeping APIs safe and secure. It works by verifying the identity of both the client and server, ensuring that messages exchanged between them are authentic and haven't been tampered with. "),(0,i.kt)("p",null,"This method establishes a trusted communication channel, safeguarding sensitive information from unauthorized access or modifications during transmission. Additionally, MTLS enhances the overall security posture of applications and systems by providing robust encryption and authentication mechanisms."),(0,i.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"To configure MTLS, you'll need specific information from the system where the API is hosted. Here's what you'll need:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Domain"),": The domain name of the system hosting the API."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Certificate"),': A digital certificate used for encryption and authentication. This should be provided in the file format with the ".cert" extension.'),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Key"),': The private key associated with the certificate, used for encryption and decryption. It should be provided in the file format with the ".key" extension.'),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Certificate Authority (CA)"),": The entity that issues and verifies the digital certificates. You'll need information about the Certificate Authority responsible for issuing the certificate used by the API.")),(0,i.kt)("h3",{id:"configuring-mtls-authentication"},"Configuring MTLS authentication"),(0,i.kt)("p",null," Only Super Admin can add a new certificate."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("strong",{parentName:"p"},"Developer"),", ",(0,i.kt)("strong",{parentName:"p"},"Admin")," and ",(0,i.kt)("strong",{parentName:"p"},"Super admin")," roles can view this feature but only the ",(0,i.kt)("strong",{parentName:"p"},"Super Admin")," can make changes such as add a new certificate, delete the existing certificate, etc. Only the ",(0,i.kt)("strong",{parentName:"p"},"Super Admin")," can view the ",(0,i.kt)("strong",{parentName:"p"},"key"),".")),(0,i.kt)("p",null,"Here are the steps to configure MTLS authentication:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Gather the required information mentioned above: Domain, Certificate, Key, and Certificate Authority.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Navigate to the AI-agent environment where you want to configure MTLS.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.yellow.ai"},"cloud platform"),", go to ",(0,i.kt)("strong",{parentName:"p"},"Automation"),", then API.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'On the right side, you\'ll see a lock icon labeled "Configure MTLS authentication." Click on it.'),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/A9nIR0Y.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Enter the ",(0,i.kt)("strong",{parentName:"p"},"Domain")," name.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Upload the ",(0,i.kt)("strong",{parentName:"p"},"Certificate")," file.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Upload the ",(0,i.kt)("strong",{parentName:"p"},"Key")," file.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Upload the ",(0,i.kt)("strong",{parentName:"p"},"Certificate Authority")," file.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on ",(0,i.kt)("strong",{parentName:"p"},"Save")," to apply the configuration."),(0,i.kt)("img",{src:"https://imgur.com/J5in3iw.png",width:"60%"}))),(0,i.kt)("h3",{id:"troubleshooting-errors-when-saving-certificate"},"Troubleshooting errors when saving certificate"),(0,i.kt)("p",null,"If you encounter any errors while saving the certificate, follow these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open the Inspect tool of your browser."),(0,i.kt)("li",{parentName:"ol"},"Navigate to the network tab."),(0,i.kt)("li",{parentName:"ol"},"Try saving the details again."),(0,i.kt)("li",{parentName:"ol"},"Look for the name ",(0,i.kt)("strong",{parentName:"li"},"saveApiCertificates")," and click on it."),(0,i.kt)("li",{parentName:"ol"},"If you see an error message like ",(0,i.kt)("em",{parentName:"li"},"host is invalid"),', check the host entry URL. If it starts directly with the domain (e.g., app.yellow.ai), try adding "https://" or "http://" before the domain (e.g., ',(0,i.kt)("a",{parentName:"li",href:"https://app.yellow.ai"},"https://app.yellow.ai"),"). This should resolve the issue.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "success": true,\n    "message": "Success",\n    "data": {\n        "inserted": [],\n        "updated": [],\n        "invalid": [\n            {\n                "host": "apihmo-mtls.brb.com.br",\n                "error": "Error: Host is invalid\\n    at /app/dist/controllers/apiCertificates.js:83:27\\n    at step (/app/dist/controllers/apiCertificates.js:33:23)\\n    at Object.next (/app/dist/controllers/apiCertificates.js:14:53)\\n    at /app/dist/controllers/apiCertificates.js:8:71\\n    at new Promise (<anonymous>)\\n    at __awaiter (/app/dist/controllers/apiCertificates.js:4:12)\\n    at validateCertData (/app/dist/controllers/apiCertificates.js:71:49)\\n    at /app/dist/controllers/apiCertificates.js:164:42\\n    at step (/app/dist/controllers/apiCertificates.js:33:23)\\n    at Object.next (/app/dist/controllers/apiCertificates.js:14:53)\\n    at /app/dist/controllers/apiCertificates.js:8:71\\n    at new Promise (<anonymous>)\\n    at __awaiter (/app/dist/controllers/apiCertificates.js:4:12)\\n    at processCertificates (/app/dist/controllers/apiCertificates.js:146:12)\\n    at /app/dist/controllers/apiCertificates.js:215:42\\n    at step (/app/dist/controllers/apiCertificates.js:33:23)"\n            }\n        ]\n    }\n}\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'If you encounter any other error, such as "Certificate is invalid", please* check it internally and provide the correct certificate.')),(0,i.kt)("h2",{id:"export-apis"},"Export APIs"),(0,i.kt)("p",null,"Exporting APIs involves capturing their configuration settings, allowing for seamless sharing, backup, or replication. Follow these steps to export APIs:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Go to ",(0,i.kt)("strong",{parentName:"p"},"Automation")," > ",(0,i.kt)("strong",{parentName:"p"},"API"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the arrow icon next to API management and select ",(0,i.kt)("strong",{parentName:"p"},"Export")," ."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{parentName:"p",src:"https://imgur.com/7l9lCMf.png",alt:null}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Select the APIs to be exported, you can also select Select all APIs at the left bottom to select all the APIs in one go"),(0,i.kt)("img",{src:"https://i.imgur.com/2Vzla2Q.png",alt:"drawing",width:"80%"})),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Export"),". "))),(0,i.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,i.kt)("h4",{id:"api-is-not-working-or-the-module-is-not-showing-any-response"},"API is not working, or the module is not showing any response"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Disabling ",(0,i.kt)("strong",{parentName:"li"},"Use Strict SSL")," can sometimes resolve connectivity issues, especially if there are problems with SSL certificates. Ensure that you're aware of the security implications before making changes to SSL settings.")),(0,i.kt)("h4",{id:"api-works-in-postman-and-api-management-but-gives-a-blank-response-when-tested-in-node"},"API works in Postman and API management but gives a blank response when tested in Node."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Check your dynamic environment variables. Ensure you pass the variables in triple braces - ",(0,i.kt)("inlineCode",{parentName:"p"},"{{{env.variable}}}"),"."),(0,i.kt)("p",{parentName:"li"},"In Postman, it would be in double braces - ",(0,i.kt)("inlineCode",{parentName:"p"},"{{env.name}}"),". ")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"For cRUL requests, instead of creating the API separately, ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api#import-apis-curljson"},"import the cURL request")," to prevent errors in the cloud. "))),(0,i.kt)("h4",{id:"api-working-correctly-in-postman-but-returns-a-403-error-when-integrated-into-the-automation-api-section"},"API working correctly in Postman but returns a 403 error when integrated into the Automation API section"),(0,i.kt)("p",null,"The issue may stem from region-specific URLs being blocked. This could be because the region specific URLs are gettings bloxked, it is recommended to ",(0,i.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/channelConfiguration/domain-whitelisting#whitelist-domains-to-deploy-chat-widget"},"Whitelist your region specific URL"),". For instance, ",(0,i.kt)("a",{parentName:"p",href:"https://r1.cloud.yellow.ai"},"https://r1.cloud.yellow.ai"),"."))}c.isMDXComponent=!0}}]);