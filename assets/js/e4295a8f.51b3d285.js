"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[90457],{603905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(667294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),d=r,h=m["".concat(l,".").concat(d)]||m[d]||u[d]||o;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},286339:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var a=n(487462),r=n(263366),o=(n(667294),n(603905)),i=["components"],s={title:"Design smart conversations",sidebar_label:"Customise conversations"},l=void 0,p={unversionedId:"platform_concepts/AIAgent/conversations",id:"platform_concepts/AIAgent/conversations",title:"Design smart conversations",description:"On the Conversations page, you can design the bot's interactions with users by writing prompts that define skills (dynamic flows). These prompts, along with fine-tuned responses, enable the bot to understand user inputs and provide appropriate outputs, eliminating the need for traditional NLP training.",source:"@site/docs/platform_concepts/AIAgent/conversations.md",sourceDirName:"platform_concepts/AIAgent",slug:"/platform_concepts/AIAgent/conversations",permalink:"/docs/platform_concepts/AIAgent/conversations",draft:!1,tags:[],version:"current",frontMatter:{title:"Design smart conversations",sidebar_label:"Customise conversations"},sidebar:"platform_concepts",previous:{title:"Define AI agent persona",permalink:"/docs/platform_concepts/AIAgent/agentpersona"},next:{title:"Workflows",permalink:"/docs/platform_concepts/studio/build/workflows"}},c={},m=[{value:"Create new conversations",id:"create-new-conversations",level:2},{value:"Configure conversations",id:"configure-conversations",level:2},{value:"Add inputs",id:"add-inputs",level:3},{value:"Add skills",id:"add-skills",level:3},{value:"Failure settings",id:"failure-settings",level:2},{value:"Manage conversations",id:"manage-conversations",level:2}],u={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"On the ",(0,o.kt)("strong",{parentName:"p"},"Conversations")," page, you can design the bot's interactions with users by writing prompts that define skills (dynamic flows). These prompts, along with fine-tuned responses, enable the bot to understand user inputs and provide appropriate outputs, eliminating the need for traditional NLP training."),(0,o.kt)("p",null,"With ",(0,o.kt)("strong",{parentName:"p"},"OrchLLM"),", intent is identified, allowing for context-based conversations and seamless flow switching. A well-designed bot should manage multiple conversations, such as a banking bot handling loan applications, checking account balances, or creating bank accounts. Structuring these distinct flows ensures the bot can deliver accurate, context-aware responses for various requests."),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"create-new-conversations"},"Create new conversations"),(0,o.kt)("p",null,"To create new conversations, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"+New conversation"),".  "),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/5OcY2GO.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Add basic introduction"),":"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"What does the user say to start this goal?"),': Add the keywords or messages (separated by commas) that will trigger this conversation. For example, if the user wants to apply for a loan, keywords like "needs a loan" or "financial needs" should trigger the goal.'),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Start message"),': Write the message that will be displayed once the conversation is triggered, within 200 words. For example: "I\'m glad you decided to take the first step towards your financial needs. What can I call you?"  ')),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/rt2nTRw.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Goal setup"),": Define how the conversation will proceed and what the bot must do."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Steps to follow to achieve the goal"),": In 2000 words, describe how the conversation should flow. For instance, in a loan application conversation:",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"1. After the user shares their name, ask for their mobile number (mandatory for loan processing).\n2. Check if there's an existing loan associated with the phone number. If so, show loan details and ask the user to contact support@yellow.ai for further assistance, as only one loan is allowed per user.\n3. If no loan exists, ask for the loan amount and repayment tenure. The tenure must be between 6 months and 5 years. Provide 5 options for both the amount and the tenure.\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Rules to follow during the conversation"),": Define rules for the bot to follow, such as addressing the user by name. You can add rules by clicking ",(0,o.kt)("strong",{parentName:"li"},"+ Add rule")," and remove them by clicking the delete icon.  ")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/q1jeIa9.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Handle user queries"),": Set instructions on how the bot should handle user responses."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Custom instructions"),": Enable custom instructions if you want the bot to recognize specific user questions and provide predefined responses. You can list these custom instructions within 500 words. For example: When asked about interest rates, respond that they are competitive, based on credit score, loan amount, and term."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Handling out-of-scope queries"),": Provide guidelines (within 500 words) on how the bot should respond when the user asks questions outside the scope of the conversation. ")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/ImuxdFX.png",alt:"image"})))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"configure-conversations"},"Configure conversations"),(0,o.kt)("h3",{id:"add-inputs"},"Add inputs"),(0,o.kt)("p",null,"To capture and store user input in memory, you can configure the Agent. This is useful when you want to reuse the data later or apply it to other functions. For example, if the user's name is collected, the bot can use it in future interactions, personalizing the conversation and adding a human touch."),(0,o.kt)("p",null,"To configure input storage, follow these steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"On the ",(0,o.kt)("strong",{parentName:"p"},"Configure")," tab, click ",(0,o.kt)("strong",{parentName:"p"},"+Add Input")," to add a new input field."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/QhaeHmB.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Provide the following details:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Input description"),": Describe what needs to be captured. For example, if you're collecting a user\u2019s name, you can enter ",(0,o.kt)("em",{parentName:"li"},"User name"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Store response in"),": Select the variable where the captured input will be stored. You can create or use an existing global variable to store this response."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Validation instructions"),": Provide instructions for validating the input. For example, if capturing a name, specify that only the first part should be stored as the first name.")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/kSR96sT.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To delete an input, click the ",(0,o.kt)("strong",{parentName:"p"},"Delete")," icon."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/iVSyOQz.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"To configure additional settings, click the ",(0,o.kt)("strong",{parentName:"p"},"Settings")," icon for that input. You can define:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Mark as optional"),": This marks the input as optional, meaning the agent won\u2019t prompt the user again if they skip it."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Mask input"),": If enabled, the input will be masked for privacy (e.g., confidential information like credit card numbers). The data won\u2019t be visible to the agent or stored in the database."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Regex for validation"),": If specific patterns (like an email address) are expected, provide the required regex pattern."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Examples of expected input"),": Add sample input examples that the agent should expect based on the regex.")),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/jYFlB3R.png",alt:"image"})))),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Inputs not marked as optional are considered mandatory.")),(0,o.kt)("hr",null),(0,o.kt)("h3",{id:"add-skills"},"Add skills"),(0,o.kt)("p",null,"Skills are background processes built with Action or Logic nodes that enhance the bot by performing tasks like calling functions, executing APIs, and managing databases. They can be linked to categories and triggered within conversations."),(0,o.kt)("p",null,"To add a new skill:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("strong",{parentName:"p"},"Add Skill"),".",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/ltfEGht.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Follow the steps to create a skill from the flows page: ",(0,o.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/journeys#create-a-skill"},"Create a Skill"),". ")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Select the skill you want to add from the dropdown.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/jZYtsNC.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},'Describe when this skill should be triggered. For example, "This skill checks if the user has existing loans with Yellow Loans and fetches the details."')),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Input to skill"),": Select the variables that will pass inputs from the conversation to the skill.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Output from skill"),": Choose the variables to store outputs/responses generated by the skill.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Add the response to be displayed after the skill completes. You can add multiple text responses, and one will be picked randomly.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/pUDmvtk.png",alt:"image"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click the delete icon to remove a skill."))),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"failure-settings"},"Failure settings"),(0,o.kt)("p",null,"When a user provides an unexpected input and the bot cannot comprehend it, this is considered a failure. In such cases, specific actions must be taken. Configure the failure settings for the conversation as follows:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Enable retries"),": Allow users to retry if they input a value that is not as expected by the bot. Enabling this feature prompts users to input the correct value again."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Failure message"),": Enter a message to display when a failure occurs. You can click ",(0,o.kt)("strong",{parentName:"li"},"+Add message")," to add up to two messages. Use the delete icon to remove any entered message. "),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Configure timeout"),": Set a timeout value in seconds. If the bot is expecting a response and no input is received within the configured time, it will trigger a timeout."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Max conversation limit"),": Enter a limit for how many attempts a user can make. Once this limit is reached and the conversation is still incomplete, the node will exit into the failure branch."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Restrict ill-formatted responses"),": If enabled, the bot will handle cases where the LLM sends improperly formatted responses (e.g., containing unwanted JSON) by pushing them to the failure branch. Disabling this option allows these responses to be displayed to the user, but may result in increased failures.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/b01cZ26.png",alt:"Failure settings"})),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"manage-conversations"},"Manage conversations"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Delete a conversation"),": Click the ellipsis menu and select ",(0,o.kt)("strong",{parentName:"p"},"Delete"),".  "),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/tQXE8Q6.png",alt:"Delete conversation"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Modify workflow name"),": Click the existing workflow name to edit it. "),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/T9m2CSb.png",alt:"Modify workflow name"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Preview"),": Click the preview icon to test the bot for the selected conversation. You can adjust the rules and goals based on how the bot functions during the test. "),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/rXInEHW.png",alt:"Preview conversation"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Save workflow"),": Click ",(0,o.kt)("strong",{parentName:"p"},"Save")," to apply changes made to the workflow.  "),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://imgur.com/ZEz45zt.png",alt:"Save workflow"})))))}d.isMDXComponent=!0}}]);