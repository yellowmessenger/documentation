"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[88659],{603905:function(e,t,a){a.d(t,{Zo:function(){return l},kt:function(){return k}});var n=a(667294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=n.createContext({}),c=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},l=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=c(a),m=o,k=d["".concat(p,".").concat(m)]||d[m]||u[m]||r;return a?n.createElement(k,s(s({ref:t},l),{},{components:a})):n.createElement(k,s({ref:t},l))}));function k(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,s=new Array(r);s[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[d]="string"==typeof e?e:o,s[1]=i;for(var c=2;c<r;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},52118:function(e,t,a){a.r(t),a.d(t,{assets:function(){return l},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return d}});var n=a(487462),o=a(263366),r=(a(667294),a(603905)),s=["components"],i={title:"API keys and access tokens",sidebar_label:"Add API keys and access tokens"},p=void 0,c={unversionedId:"platform_concepts/studio/api/bearer-token",id:"platform_concepts/studio/api/bearer-token",title:"API keys and access tokens",description:"API keys and access tokens are crucial for secure communication with APIs. API keys identify applications, and access tokens authenticate and validate requests, ensuring secure data exchange between applications and APIs",source:"@site/docs/platform_concepts/studio/api/bearer-token.md",sourceDirName:"platform_concepts/studio/api",slug:"/platform_concepts/studio/api/bearer-token",permalink:"/docs/platform_concepts/studio/api/bearer-token",draft:!1,tags:[],version:"current",frontMatter:{title:"API keys and access tokens",sidebar_label:"Add API keys and access tokens"},sidebar:"platform_concepts",previous:{title:"Use APIs in AI-agent conversations",permalink:"/docs/platform_concepts/studio/api/send-receive-apiresponses"},next:{title:"Handle API errors",permalink:"/docs/platform_concepts/studio/api/api-settings"}},l={},d=[{value:"Add API key authorization",id:"add-api-key-authorization",level:2},{value:"Pass dynamic access tokens",id:"pass-dynamic-access-tokens",level:2}],u={toc:d};function m(e){var t=e.components,a=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"API keys and access tokens are crucial for secure communication with APIs. API keys identify applications, and access tokens authenticate and validate requests, ensuring secure data exchange between applications and APIs"),(0,r.kt)("h2",{id:"add-api-key-authorization"},"Add API key authorization"),(0,r.kt)("p",null,"To add an API key:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Go to ",(0,r.kt)("strong",{parentName:"p"},"Automation")," > ",(0,r.kt)("strong",{parentName:"p"},"API")," > click the particluar API > ",(0,r.kt)("strong",{parentName:"p"},"Headers")," > ",(0,r.kt)("strong",{parentName:"p"},"+ Add Headers"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://imgur.com/tKUBcP5.png",alt:null}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"In ",(0,r.kt)("strong",{parentName:"p"},"Key")," enter ",(0,r.kt)("strong",{parentName:"p"},"Authorization")," and in ",(0,r.kt)("strong",{parentName:"p"},"Value")," enter the API key. Click ",(0,r.kt)("strong",{parentName:"p"},"Add"),"."),(0,r.kt)("img",{src:"https://i.imgur.com/jmggwyO.png",alt:"drawing",width:"69%"})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click ",(0,r.kt)("strong",{parentName:"p"},"Send")," to test the API, if you recieve a 200 response the API has been authorized and works successfully."),(0,r.kt)("img",{src:"https://i.imgur.com/PzGvJ45.png",alt:"drawing",width:"100%"})),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/journeys"},"Build a flow")," for your use case and include the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode"},"API node")," wherever you want the flow to hit the API. ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode#use-existing-api"},"Fetch this API")," in the node and build the rest of the flow."))),(0,r.kt)("h2",{id:"pass-dynamic-access-tokens"},"Pass dynamic access tokens"),(0,r.kt)("p",null,"To fetch a dynamic access token:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api"},"Add the API"),".  In ",(0,r.kt)("strong",{parentName:"p"},"Key")," enter ",(0,r.kt)("strong",{parentName:"p"},"Authorization")," and in ",(0,r.kt)("strong",{parentName:"p"},"Value")," enter the variable name in {{{}}} format, for example {{{auth_token}}}."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://imgur.com/8jcJzHd.png",alt:null}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/code"},"Functions")," and ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/code#create-a-functionhttps://docs.yellow.ai/docs/platform_concepts/studio/build/code#create-a-functionhttps://docs.yellow.ai/docs/platform_concepts/studio/build/code#create-a-function"},"create a new function")," that filters out the access token from the response."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sample code:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'let { apiResponse } = ymLib.args; // retrieve API response\nlet  token = JSON.parse(apiResponse.body);\n\nconsole.log(token);\n\nreturn  token.token_type + " " + token.access_token;\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/journeys"},"Build a flow")," for your use case and include the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode"},"API node")," wherever you want the flow to hit the API. "),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/cgIJgK1.png",alt:null}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode#store-the-api-response"},"Store the response of that API node in a variable"),"."),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/qSX9VG4.png",alt:null}))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Scroll down to ",(0,r.kt)("strong",{parentName:"p"},"Parse using function")," and add the following:"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{parentName:"p",src:"https://i.imgur.com/KY3qGe8.png",alt:null})))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Select variable"),": Create/choose the variable in which you want to store the parsed response. Here the variable would be auth_token."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Add function"),": Choose the function created in step ")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Include another ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode"},"API node")," and ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode#create-new-api"},"add"),"/or ",(0,r.kt)("a",{parentName:"p",href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api-apinode#use-existing-api"},"fetch the API")," (created in step 1). In the ",(0,r.kt)("strong",{parentName:"p"},"Dynamic variable"),", fetch the auth_token variable (created in step 5)."),(0,r.kt)("img",{src:"https://i.imgur.com/vX3vb7O.png",alt:"drawing",width:"80%"}))),(0,r.kt)("p",null,"By this way you can authenticate the API and use the dynamic access token throughout the flow to authenticate different APIs from the same server."))}m.isMDXComponent=!0}}]);