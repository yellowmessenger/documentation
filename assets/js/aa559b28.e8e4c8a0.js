"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[58916],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var o=t(96540);const i={},s=o.createContext(i);function a(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:n},e.children)}},36325:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"platform_concepts/mobile/chatbot/sdk-faq-worflows/mobile-sdk-faq","title":"Mobile SDK FAQs","description":"1. How to change the colour of the bot\'s close button?","source":"@site/docs/platform_concepts/mobile/chatbot/sdk-faq-worflows/mobile-sdk-faq.md","sourceDirName":"platform_concepts/mobile/chatbot/sdk-faq-worflows","slug":"/platform_concepts/mobile/chatbot/sdk-faq-worflows/mobile-sdk-faq","permalink":"/docs/platform_concepts/mobile/chatbot/sdk-faq-worflows/mobile-sdk-faq","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Mobile SDK FAQs","sidebar_label":"Mobile SDK FAQs"},"sidebar":"platform_concepts","previous":{"title":"React Native","permalink":"/docs/platform_concepts/mobile/chatbot/react-native"},"next":{"title":"Secure Authentication Workflow for Mobile SDK","permalink":"/docs/platform_concepts/mobile/chatbot/sdk-faq-worflows/secure-ymauth"}}');var i=t(74848),s=t(28453);const a={title:"Mobile SDK FAQs",sidebar_label:"Mobile SDK FAQs"},r=void 0,l={},c=[{value:"1. Verify in demo app",id:"1-verify-in-demo-app",level:4},{value:"2. Verify using firebase test notifications",id:"2-verify-using-firebase-test-notifications",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"1. How to change the colour of the bot's close button?"})}),"\n",(0,i.jsxs)(n.p,{children:["You can change the colour of the close button in ym config. To know more about Close bot, click ",(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android#close-bot",children:"here"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"2. How to change the colour of the status bar?"})}),"\n",(0,i.jsxs)(n.p,{children:["You can change the colour of the status bar in ym config. To know more about Status bar, click ",(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android#use-lite-version",children:"here"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"3. How to send bot events to the user?"})}),"\n",(0,i.jsx)(n.p,{children:"Use the following code snippet to send an event from bot code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'app.sendEvent({\n   code: \'sendIOSEvent\',\n   data: {\n      code: `user_logged_out`,\n      data: JSON.stringify({"actionType": "login"})\n   }\n})\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"4. Where can I find the documentation on Mobile SDK??"})}),"\n",(0,i.jsx)(n.p,{children:"Refer to the following documentation links for mobile SDK documentation:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/ios",children:"IOS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android",children:"Android"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/cordova",children:"Cordova"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/react-native",children:"React Native"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/flutter",children:"Flutter"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"5. The push notifications are not working as expected. How to resolve this issue?"})}),"\n",(0,i.jsx)(n.p,{children:"There are two ways to debug push notifications:\xa0"}),"\n",(0,i.jsx)(n.h4,{id:"1-verify-in-demo-app",children:"1. Verify in demo app"}),"\n",(0,i.jsxs)(n.p,{children:["You must download our demo app for iOS or Android and see if they are able to receive push notifications for these apps. Here are links to demo apps for ",(0,i.jsx)(n.a,{href:"https://github.com/yellowmessenger/YMChatbot-iOS-DemoApp",children:"iOS"})," and ",(0,i.jsx)(n.a,{href:"https://github.com/yellowmessenger/YmChatBot-Android-DemoApp",children:"android"}),".\nIf notifications are working as expected on a demo app, then  you have not configured the app properly to receive push notifications. You must refer to the code of the demo app to configure the push notifications.\nIf notifications are not displaying in the demo app, then you must follow these steps:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure that you have enabled push notifications in the Firebase console."}),"\n",(0,i.jsx)(n.li,{children:"Ensure that you have shared the service key and it is properly configured."}),"\n",(0,i.jsx)(n.li,{children:"Ensure the device token is being passed from the SDK. A lot of times, an empty string gets passed from the SDK."}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"2-verify-using-firebase-test-notifications",children:"2. Verify using firebase test notifications"}),"\n",(0,i.jsxs)(n.p,{children:["You must see if they are able to receive notifications in their own app from the Firebase notification testing system. This will ensure notifications are properly configured on the app side. ",(0,i.jsx)(n.a,{href:"https://firebase.google.com/docs/cloud-messaging/ios/first-message",children:"https://firebase.google.com/docs/cloud-messaging/ios/first-message"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"6. How to map Firebase Server JSON to a Bot ID?"})}),"\n",(0,i.jsx)(n.p,{children:"Copy the following code and import to Postman. Enter the service key in the JSON body, replace your BotId in the request, and add an access token in the header against x-auth-token."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"curl --location --request POST 'https://cloud.yellow.ai/api/data/vault/saveBotConfig?bot=x1640006213013' \\\n--header 'x-auth-token: access-token-of-bot-admin ' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n\t\"notification\": {\n    \t\"firebaseConfig\": {\n        \t\"serviceAccount\": {}// Your Firebase Server json\n    \t}\n\t}\n }\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"7. In Android, can we add a left-to-right view transition/animation or any animation?"})}),"\n",(0,i.jsxs)(n.p,{children:["Yes, it is possible to add left-to-right view transition/animation. You need to override the activity style by adding the following lines to the ",(0,i.jsx)(n.strong,{children:"themes.xml"})," or ",(0,i.jsx)(n.strong,{children:"styles.xml"})," files."]}),"\n",(0,i.jsx)(n.p,{children:"This is an example of adding slide in left and slide out right transition. You can add your own animation based on your business needs."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'<style name="YmAppTheme.NoActionBar">\n<item name="windowActionBar">false</item>\n<item name="windowNoTitle">true</item>\n<item name="snackbarTextViewStyle">@style/YmSnackbarText</item>\n<item name="android:windowAnimationStyle">@style/WindowAnimationStyle</item>\n</style>\n\n\n<style name="WindowAnimationStyle">\n\n\xa0\xa0\xa0\xa0 <item name="android:activityOpenEnterAnimation">@android:anim/slide_in_left</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:activityOpenExitAnimation">@android:anim/slide_out_right</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:activityCloseEnterAnimation">@android:anim/slide_in_left</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:activityCloseExitAnimation">@android:anim/slide_out_right</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:windowEnterAnimation">@android:anim/slide_in_left</item>\n\n\xa0\xa0\xa0\xa0 <item name="android:windowExitAnimation">@android:anim/slide_out_right</item>\n\n</style>\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["8. How to access the payload in v2 chatbots built on ",(0,i.jsx)(n.a,{href:"https://cloud.yellow.ai",children:"cloud.yellow.ai"})]}),"?"]}),"\n",(0,i.jsx)(n.p,{children:"When payload is sent from mobile SDK, it is always a string of JSON. Ensure that you parse it before accessing the values.\nFollow the steps below:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add a function node and code to parse the payload."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The following is a sample code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'return new Promise(resolve => {\n          let payload = data.profile.payload\n          if (typeof (payload) == "string") {\n            payload = JSON.parse(payload)\n          }\n          resolve(payload)\n        });\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Save the resolved value from the function node to a variable of type ",(0,i.jsx)(n.code,{children:"Object"})," (for example, ",(0,i.jsx)(n.code,{children:"payload"})," )"]}),"\n",(0,i.jsxs)(n.li,{children:["Then, you can access the values of the variable ( For example, ",(0,i.jsx)(n.code,{children:"{{{variables.payload.name}}}"})," )"]}),"\n"]}),"\n",(0,i.jsx)("img",{src:"https://i.imgur.com/3fmiI63.png",alt:"drawing",width:"60%"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"9. What is the file size of Mobile SDKs?"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"iOS SDK (Native): 158 KB"}),"\n",(0,i.jsx)(n.li,{children:"Android SDK (Native): 80.7KB"}),"\n",(0,i.jsx)(n.li,{children:"React Native: 39.2 KB"}),"\n",(0,i.jsx)(n.li,{children:"Cordova SDK: 47.4 KB"}),"\n",(0,i.jsx)(n.li,{children:"Flutter SDK: 156 KB"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"10. Why are TTS and STT features not supported on Mobile SDK?"})}),"\n",(0,i.jsxs)(n.p,{children:['Mobile SDK uses a web view with the Webkit browser, which lacks the necessary capabilities for STT. To enable STT, native OS capabilities are required, implemented through a custom mic button. Disabling the "enableSpeech" flag can temporarily disable STT.  For further assistance, contact our ',(0,i.jsx)(n.a,{href:"mailto:support@yellow.ai",children:"support team"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"11. What is the maximum length of the YM auth token?"})}),"\n",(0,i.jsx)(n.p,{children:"The YM auth token can have a maximum length of 40 characters."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"12. What is the character set used to create the YM auth token?"})}),"\n",(0,i.jsxs)(n.p,{children:["The character set comprises ",(0,i.jsx)(n.code,{children:"A-Z a-z 0-9 _ -"})," including English uppercase and lowercase letters, numbers 0-9, underscore (_), and dash (-)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"13. How to handle notifications in the foreground when the bot is closed?"})}),"\n",(0,i.jsx)(n.p,{children:"Use the following code snippet to handle the notifications you receive when the app is open in the foreground."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'import android.util.Log\nimport com.google.firebase.messaging.FirebaseMessagingService\nimport com.google.firebase.messaging.RemoteMessage\n\nclass MyFirebaseMessagingService: FirebaseMessagingService() {\n    final\n    var TAG: String = "YMLog"\n    override fun onMessageReceived(remoteMessage: RemoteMessage) {\n        Log.i(TAG + " Remote message", remoteMessage.toString())\n        Log.i(TAG + " Remote message", remoteMessage.data.toString())\n        super.onMessageReceived(remoteMessage)\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.admonition,{type:"info",children:[(0,i.jsx)(n.p,{children:"For more details regarding the integration, see"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://docs.yellow.ai/docs/platform_concepts/mobile/chatbot/android",children:"Android SDK documentation"}),"."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/yellowmessenger/YmChatBot-Android-DemoApp",children:"Test app with Android SDK and Firebase integration"})}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"14. How to trigger a specific bot flow when the user clicks on the notification?"})}),"\n",(0,i.jsx)(n.p,{children:"Use the following code snippet to open the bot and trigger a specific bot flow when the user clicks on the notification."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'if (payloadData.get("botId") != null) {\n    String botId = (String) payloadData.get("botId");\n    YMChat ymChat = YMChat.getInstance();\n\n    ymChat.config = new YMConfig(botId);\n    ymChat.config.version = 2;\n    ymChat.config.ymAuthenticationToken = "2gs20emoof1666164936076";\n\n    if (payloadData.get("journeySlug") != null) {\n        String journeySlug = (String) payloadData.get("journeySlug");\n        botPayloadData.put("JourneySlug", journeySlug);\n        ymChat.config.payload = botPayloadData;\n    }\n\n    try {\n        ymChat.startChatbot(this);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"15",children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"How to deploy the bot for mobile SDK in the URL of a specific region?"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'To deploy the bot for the mobile SDK in a specific region using a custom base URL, replace "rx" in the below URL with the specific region identifier (r1, r2, r3...) where you want to deploy the bot. Here rx = r1, r2, r3, r4, r5.'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'ymChat.config.customBaseUrl = "https://rx.cloud.yellow.ai";\n'})}),"\n",(0,i.jsx)(n.p,{children:"This configuration ensures that the bot is deployed in the specified region on the Yellow.ai cloud."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);