"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[59757],{28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>l});var o=n(96540);const t={},i=o.createContext(t);function r(e){const s=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(i.Provider,{value:s},e.children)}},55283:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"cookbooks/Voice/voicebottroubleshooting","title":"Troubleshooting Voice Bots","description":"Ensure the proper functioning of voice bots by identifying and resolving common issues such as connectivity problems, voice recognition errors, and response issues.","source":"@site/docs/cookbooks/Voice/voicebottroubleshooting.md","sourceDirName":"cookbooks/Voice","slug":"/cookbooks/Voice/voicebottroubleshooting","permalink":"/docs/cookbooks/Voice/voicebottroubleshooting","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Troubleshooting Voice Bots","sidebar_label":"Troubleshooting voice bots"},"sidebar":"cookbooks","previous":{"title":"Custom Apps with YApps","permalink":"/docs/cookbooks/customapps"},"next":{"title":"UIFN number","permalink":"/docs/cookbooks/Voice/uifn"}}');var t=n(74848),i=n(28453);const r={title:"Troubleshooting Voice Bots",sidebar_label:"Troubleshooting voice bots"},l=void 0,c={},d=[{value:"Initial Assessment",id:"initial-assessment",level:2},{value:"Connectivity Issues",id:"connectivity-issues",level:2},{value:"Symptoms",id:"symptoms",level:3},{value:"Steps to Troubleshoot",id:"steps-to-troubleshoot",level:3},{value:"Solutions",id:"solutions",level:3},{value:"Voice Recognition Errors",id:"voice-recognition-errors",level:2},{value:"Symptoms",id:"symptoms-1",level:3},{value:"Steps to Troubleshoot",id:"steps-to-troubleshoot-1",level:3},{value:"Solutions",id:"solutions-1",level:3},{value:"Response Issues",id:"response-issues",level:2},{value:"Symptoms",id:"symptoms-2",level:3},{value:"Steps to Troubleshoot",id:"steps-to-troubleshoot-2",level:3},{value:"Solutions",id:"solutions-2",level:3},{value:"Engage Flows \u2013 Calls, WA, and SMS Triggers",id:"engage-flows--calls-wa-and-sms-triggers",level:2},{value:"Symptoms",id:"symptoms-3",level:3},{value:"Steps to Troubleshoot",id:"steps-to-troubleshoot-3",level:3},{value:"Solutions",id:"solutions-3",level:3},{value:"Error HTTP Codes and Messages",id:"error-http-codes-and-messages",level:2},{value:"Log Analysis",id:"log-analysis",level:2},{value:"Detailed steps to access logs from Analyze module",id:"detailed-steps-to-access-logs-from-analyze-module",level:3},{value:"Frequently Asked Questions (FAQ)",id:"frequently-asked-questions-faq",level:2}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"Ensure the proper functioning of voice bots by identifying and resolving common issues such as connectivity problems, voice recognition errors, and response issues."}),"\n",(0,t.jsxs)(s.admonition,{type:"note",children:[(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Prerequisites"})}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Familiarity with voice bot tables and logs (e.g., callbackstatus_details, call_details_report, api_logs, CDR, notifications report)."}),"\n",(0,t.jsxs)(s.li,{children:["Ability to interpret SSML (Speech Synthesis Markup Language) using tools like MS TTS Studio or ",(0,t.jsx)(s.a,{href:"https://xmlgrid.net/",children:"https://xmlgrid.net/"}),"."]}),"\n",(0,t.jsx)(s.li,{children:"Access to customer API logs."}),"\n"]})]}),"\n",(0,t.jsx)(s.h2,{id:"initial-assessment",children:"Initial Assessment"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Reproduce the issue"}),": Try to recreate the reported issue.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Document the steps taken to replicate the problem."}),"\n",(0,t.jsx)(s.li,{children:"Collect screenshots or recordings if possible."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Analyze affected records"}),": Review recordings, chat transcripts, and logs."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Check primary bot tables"}),": Review ",(0,t.jsx)(s.code,{children:"callbackstatus_details, call_details_report, api_logs"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Data Explorer tables"}),": Check call details reports (CDR), notifications reports, and analytics."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Validate SSML"}),": Ensure Speech Synthesis Markup Language (SSML) is valid using tools like MS TTS Studio."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Patch or upgrade"}),": Check for recent updates or patches to the voice bot system."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Debug logs:"})," Use the customer\u2019s phone number to analyze production logs and API logs."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Node verification"}),": Ensure prompt/question nodes are not empty (except in Inbound Hangup cases)."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Documentation"}),": Note down affected SIDs and key observations."]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"connectivity-issues",children:"Connectivity Issues"}),"\n",(0,t.jsx)(s.h3,{id:"symptoms",children:"Symptoms"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"The bot does not play the welcome prompt."}),"\n",(0,t.jsx)(s.li,{children:"API calls fail to reach the server."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"steps-to-troubleshoot",children:"Steps to Troubleshoot"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Check platform and voice server connectivity."}),"\n",(0,t.jsx)(s.li,{children:"Verify that the client API endpoint is accessible."}),"\n",(0,t.jsx)(s.li,{children:"Review network logs for disconnections or timeouts."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"solutions",children:"Solutions"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Ensure strong connectivity between the voice server and platform."}),"\n",(0,t.jsx)(s.li,{children:"Check for API endpoint changes (e.g., URL or request/response structure)."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"voice-recognition-errors",children:"Voice Recognition Errors"}),"\n",(0,t.jsx)(s.h3,{id:"symptoms-1",children:"Symptoms"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"The bot misunderstands user input."}),"\n",(0,t.jsx)(s.li,{children:"Low accuracy in recognizing voice commands."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"steps-to-troubleshoot-1",children:"Steps to Troubleshoot"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Review call recordings in the callbackstatus_details table."}),"\n",(0,t.jsx)(s.li,{children:"Analyze recent voice logs for recognition issues."}),"\n",(0,t.jsx)(s.li,{children:"Ensure correct language settings and codes are in place."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"solutions-1",children:"Solutions"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Repeat unclear prompts."}),"\n",(0,t.jsx)(s.li,{children:"Update the bot\u2019s training data by refining intents and entities."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"response-issues",children:"Response Issues"}),"\n",(0,t.jsx)(s.h3,{id:"symptoms-2",children:"Symptoms"}),"\n",(0,t.jsx)(s.p,{children:"Delayed or no response from the bot."}),"\n",(0,t.jsx)(s.h3,{id:"steps-to-troubleshoot-2",children:"Steps to Troubleshoot"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Check server load and the bot\u2019s attached numbers."}),"\n",(0,t.jsx)(s.li,{children:"Test the response time of the client API."}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"solutions-2",children:"Solutions"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Optimize server performance by adjusting the number of channels."}),"\n",(0,t.jsx)(s.li,{children:"Ask the client to check for API issues using logs from the api_response table."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"engage-flows--calls-wa-and-sms-triggers",children:"Engage Flows \u2013 Calls, WA, and SMS Triggers"}),"\n",(0,t.jsx)(s.h3,{id:"symptoms-3",children:"Symptoms"}),"\n",(0,t.jsx)(s.p,{children:"Users did not receive a call, WhatsApp, or SMS notification."}),"\n",(0,t.jsx)(s.h3,{id:"steps-to-troubleshoot-3",children:"Steps to Troubleshoot"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Analyze the target Engage flow analytics (use flow ID from the URL: e.g., ",(0,t.jsx)(s.a,{href:"https://cloud.yellow.ai/bot/botID/engagement/flows/661cbd4c8c383c6621230a41/analytics",children:"https://cloud.yellow.ai/bot/botID/engagement/flows/661cbd4c8c383c6621230a41/analytics"}),")."]}),"\n",(0,t.jsx)(s.li,{children:"Check the Notifications report for issues with CampaignID."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.img,{src:"https://lh7-rt.googleusercontent.com/docsz/AD_4nXeiISEFQOoeC_jFJQRPlvQz1IHCLdocjvKtFvADeMtnGkS9DkASuStGWqBmtjYLwcoJmizgQJpmFVGl-5iCvlTlRHgutrA1EPkJ5ro6jXpvoc1ocLktVkfYpphC0XfwxR-ngejKoEUnwr6fKCZSPIiBRlAx?key=yM6pYcXy3m07B90GFb8mvA",alt:""})})}),"\n",(0,t.jsx)(s.h3,{id:"solutions-3",children:"Solutions"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Check for telephony-level traffic congestion."}),"\n",(0,t.jsx)(s.li,{children:"Raise WA/SMS issues through a support ticket with the engage team."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"error-http-codes-and-messages",children:"Error HTTP Codes and Messages"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Error"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Solution"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"4xx Client Errors"}),(0,t.jsx)(s.td,{children:"Request contains bad syntax or cannot be fulfilled"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"5xx Server Errors"}),(0,t.jsx)(s.td,{children:"Server encountered an error and failed to fulfill the request"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"500 Status Code"}),(0,t.jsx)(s.td,{children:"Server failure"}),(0,t.jsx)(s.td,{children:"Verify the Client API/Bot API and confirm that the endpoint is correct. For Bot API issues, provide bot ID, failure duration, and logs to the support team in a ticket."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"log-analysis",children:"Log Analysis"}),"\n",(0,t.jsxs)(s.admonition,{type:"note",children:[(0,t.jsx)(s.p,{children:"Enabling Auto fallback to Enable summarized results in the Conversation settings, or within any node that invokes document search in a voice flow, will result in an error."}),(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:"https://imgur.com/rpStrjO.png",alt:""})})]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Access Logs:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Navigate to ",(0,t.jsx)(s.strong,{children:"Analysis \u2192 Conversational Logs"})," or access the relevant database for details on ",(0,t.jsx)(s.code,{children:"drop_steps"})," and ",(0,t.jsx)(s.code,{children:"dispositions"}),"."]}),"\n",(0,t.jsx)(s.li,{children:"Use log analysis tools to filter and search for specific log entries based on sender ID or profile ID."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Common Log Entries"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"API Call Logs"})}),(0,t.jsxs)(s.td,{children:["- Provide detailed information on API requests and responses stored in the database. ",(0,t.jsx)("br",{})," - Useful for diagnosing API related issues (e.g., request failures or incorrect responses)."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Voice Interaction Logs"})}),(0,t.jsxs)(s.td,{children:["- Track user interactions and bot responses, offering insights into the flow of conversation. ",(0,t.jsx)("br",{})," - These logs are found in Data Explorer or custom tables such as ",(0,t.jsx)(s.code,{children:"callbackstatus_details"}),"."]})]})]})]}),"\n",(0,t.jsxs)(s.ol,{start:"3",children:["\n",(0,t.jsx)(s.li,{children:"Steps to Analyze Logs:"}),"\n"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Locate Errors or Patterns: Look for error messages or unusual patterns in the logs, such as failed API calls or timeouts."}),"\n",(0,t.jsx)(s.li,{children:"Cross-Reference Logs with Issues: Compare logs with the specific issues reported by the user to identify potential correlations or causes."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"detailed-steps-to-access-logs-from-analyze-module",children:"Detailed steps to access logs from Analyze module"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Navigate to ",(0,t.jsx)(s.strong,{children:"Analysis \u2192 Conversational Logs"}),". Search for the logs using the customer\u2019s phone number."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.img,{src:"https://lh7-rt.googleusercontent.com/docsz/AD_4nXe9DUIgul25WZ5tRQPy7u5_-2grp4ZPjRQhSEfEmS749IuQK6XMnpteymQV0edd2DSPZdh4ySnvHHltKBuQ8Js7qfAsJDhHsSAXBGgkeFc2bETUpFIwxR8KAuB_R6M7IgCSL-qATg0A3qWIB2QDjV_njnY?key=yM6pYcXy3m07B90GFb8mvA",alt:""})})}),"\n",(0,t.jsxs)(s.ol,{start:"2",children:["\n",(0,t.jsx)(s.li,{children:"In the chat transcript displayed on the left, locate the message where the issue occurred. Click the Logs icon (debugger) next to the relevant message. Review the logs for any error messages indicating problems at that step."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.img,{src:"https://lh7-rt.googleusercontent.com/docsz/AD_4nXey3zq3aA_I4O8s9lBxxV4e2oRlE9v-HH9YpuoCmVCJcv8Qaq5CgyVJ4wjOFUeLMKS-yFWLfXi9PMyJDvK8YO2MMdRxRuAWKLpc9SsRTkV4F8Us20gGdMDtKKnfdyA3BOWgoak9Kgu-kXAUjqzhKrdLjHA?key=yM6pYcXy3m07B90GFb8mvA",alt:""})})}),"\n",(0,t.jsxs)(s.ol,{start:"3",children:["\n",(0,t.jsxs)(s.li,{children:["Check the callbackstatus event data for any instances where ",(0,t.jsx)(s.code,{children:"bot_failed = true"})," or ",(0,t.jsx)(s.code,{children:"bot_failover = true"}),". This helps identify where the bot encountered failures or fallbacks."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.img,{src:"https://lh7-rt.googleusercontent.com/docsz/AD_4nXc1Kadj4hHg1ho2Qk9IMp0Iuo63aWW9c4wC98Vo54XJU4Qn9u9mbkC0s9CsvV7Pyaxr80XcHXZh45xZxUQIkzA1iYni7eiqEkGizwK7QaRFesqjiRQq0GmaMssb4SjTqL4bgTYtulgpjAA5rSmD-HsD37eg?key=yM6pYcXy3m07B90GFb8mvA",alt:""})})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.img,{src:"https://lh7-rt.googleusercontent.com/docsz/AD_4nXfW3CPudx-SV4uyA4iQ22SQ7WQVKLVnRug5dNFtewmmZKCw5ftN2TRxMiNohD7Hkfcn8le2RjoY4J7gnHHWau5LON8rGfJWxhn4PwRdwpgFn4Sq4V1e4O5606tS6kzKM9aU2yCcaB5xl0jZB_sBhT5Zxzs?key=yM6pYcXy3m07B90GFb8mvA",alt:""})})}),"\n",(0,t.jsxs)(s.ol,{start:"4",children:["\n",(0,t.jsx)(s.li,{children:"Review the function logs at the step where the issue occurred. If a failure is detected, the function log will show error details such as:"}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:'[\n   {\n       "log": {\n           "data": "{\\"tag\\":\\"Error while executing the function\\",\\"extraInfo\\":{\\"message\\":\\"Cannot read property \'length\' of undefined\\"}}",\n           "level": "error"\n       }\n   }\n]\n'})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.img,{src:"https://lh7-rt.googleusercontent.com/docsz/AD_4nXeq6KoMXwFS5nRJ58Zt-7iuJBu-x9wUHF2bttsUUh_uzFhOR69QGBif60meZRBzTUbs63A_LWZKX7iYVnU7hH2Uogn-yLTwM7rjyeRKdOUAA9_vnWq_WysNP-4i2OJieGk0SwkwRel8bFivDULIKg43PspW?key=yM6pYcXy3m07B90GFb8mvA",alt:""})})}),"\n",(0,t.jsx)(s.p,{children:"This type of error usually points to a specific issue, such as a missing or undefined property, which can guide further troubleshooting.\nBy following the above steps, you can isolate specific log entries and errors that contribute to the problem, allowing for targeted resolution."}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"frequently-asked-questions-faq",children:"Frequently Asked Questions (FAQ)"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"What should I do if the bot is not responding?"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Place a call and check the bot logs in the analysis tab and review logs for any errors."}),"\n",(0,t.jsxs)(s.ol,{start:"2",children:["\n",(0,t.jsx)(s.li,{children:"How can I improve voice recognition accuracy?"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Update utterances in the bot's intents and entities regularly."})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);