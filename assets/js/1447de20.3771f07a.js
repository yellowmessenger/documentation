"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[44812],{28453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>l});var s=i(96540);const n={},a=s.createContext(n);function r(e){const t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(a.Provider,{value:t},e.children)}},91643:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"cookbooks/voice-as-channel/reporting/variables","title":"Access voice variables within a flow in Automation","description":"1. Types of voice variables","source":"@site/docs/cookbooks/voice-as-channel/reporting/variables.md","sourceDirName":"cookbooks/voice-as-channel/reporting","slug":"/cookbooks/voice-as-channel/reporting/variables","permalink":"/docs/cookbooks/voice-as-channel/reporting/variables","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Access voice variables within a flow in Automation","sidebar_label":"(Additional) Voice variables in Automation"},"sidebar":"platform_concepts","previous":{"title":"Call & conversational details analysis","permalink":"/docs/cookbooks/voice-as-channel/reporting/conv_cdr"},"next":{"title":"Handle voice agent data","permalink":"/docs/cookbooks/voice-as-channel/datahandling"}}');var n=i(74848),a=i(28453);const r={title:"Access voice variables within a flow in Automation",sidebar_label:"(Additional) Voice variables in Automation"},l=void 0,o={},c=[{value:"1. Types of voice variables",id:"1-types-of-voice-variables",level:2},{value:"2. Access voice variable values",id:"2-access-voice-variable-values",level:2},{value:"Variables related for ongoing calls",id:"variables-related-for-ongoing-calls",level:3},{value:"Variables related for disconnected calls",id:"variables-related-for-disconnected-calls",level:3}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"1-types-of-voice-variables",children:"1. Types of voice variables"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Voice agent variables"})," are similar to regular ",(0,n.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/bot-variables",children:"variables"}),", with the only difference being the way they are acquired. There are two types of voice variables that can be utilized in the process of building a flow in studio:"]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Bot variables"}),": These variables are automatically available to the agent at the beginning of the voice call."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"CDR variables"}),": These variables are obtained once the call is terminated and are the ",(0,n.jsx)(t.a,{href:"https://docs.yellow.ai/docs/cookbooks/voice-as-channel/reporting/cdr",children:"CDR values"})," that are created for reporting purposes."]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"2-access-voice-variable-values",children:"2. Access voice variable values"}),"\n",(0,n.jsxs)(t.p,{children:["To work with ",(0,n.jsx)(t.a,{href:"https://docs.yellow.ai/docs/cookbooks/voice-as-channel/reporting/convdata",children:"conversational details reports"})," or ",(0,n.jsx)(t.a,{href:"https://docs.yellow.ai/docs/cookbooks/voice-as-channel/reporting/conv_cdr",children:"call and conversational details reports"}),", you may require access to voice variables (default and CDR). To push the necessary values into the database node and tables, you must create variables. Follow the steps below:"]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Open the variables tab and add a variable by selecting ",(0,n.jsx)(t.em,{children:"Global variable"}),".\n",(0,n.jsx)(t.img,{src:"https://imgur.com/upynVU2.png",alt:""})]}),"\n",(0,n.jsxs)(t.li,{children:["Add a custom variable ",(0,n.jsx)(t.strong,{children:"name"})," and select the variable ",(0,n.jsx)(t.strong,{children:"data type"})," (usually a string). Add the ",(0,n.jsx)(t.strong,{children:"value"})," (you can only use the variables given in the section below) and click ",(0,n.jsx)(t.strong,{children:"Add"}),".\n",(0,n.jsx)(t.img,{src:"https://imgur.com/4q14zza.png",alt:""})]}),"\n"]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["To learn more about variables, visit ",(0,n.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/bot-variables",children:"this"})," page."]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"variables-related-for-ongoing-calls",children:"Variables related for ongoing calls"}),"\n",(0,n.jsx)(t.p,{children:"Once the call is initiated, these voice agent variables (global variables) are accessible throughout the flows in the voice agent. To retrieve these variables, use the following format:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Format"}),(0,n.jsx)(t.th,{children:"Datatype"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{{data.call_sid}}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"A unique identifier assigned to each voice call"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{{data.recording_url}}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The downloadable URL of the ongoing call"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{{data.from}}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The phone number the call was made from"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{{data.to}}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The phone number the voice agent called"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{{data.direction}}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"Inbound or outbound call"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{{data.detected_language}}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The language of the conversation that was identified (only present when auto-detect option is enabled)"})]})]})]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"variables-related-for-disconnected-calls",children:"Variables related for disconnected calls"}),"\n",(0,n.jsxs)(t.p,{children:["Additional details are only obtained after the ",(0,n.jsx)(t.a,{href:"https://docs.yellow.ai/docs/cookbooks/voice-as-channel/reporting/conv_cdr#step-2-create-a-callbackstatus-event",children:"callback event"})," is triggered, which can be retrieved by creating a new flow that executes after the call ends. To retrieve these details, use the following format:"]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Format"}),(0,n.jsx)(t.th,{children:"Datatype"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{variables.EVENT_DATA.duration}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The total duration of the call, including ring time, agent transfer, etc."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{variables.EVENT_DATA.voice_bot_duration}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The duration for which the voice agent was speaking"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{variables.EVENT_DATA.voice_bot_bill_duration}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The duration considered for billing purposes"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{variables.EVENT_DATA.disconnected_by}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The entity responsible for disconnecting the call (either Bot or User)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"{{variables.EVENT_DATA.status}}"})}),(0,n.jsx)(t.td,{children:"String"}),(0,n.jsx)(t.td,{children:"The call status (answered, not answered, or failed)"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);