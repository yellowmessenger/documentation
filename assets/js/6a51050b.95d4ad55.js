"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[2769],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(96540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}},42076:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"platform_concepts/studio/build/nodes/message-nodes1/file-node","title":"File node","description":"File node allows you to share files with users. This node supports the file formats such as JPG, PDF, MP3, MP4, CSV, DOC, DOCX, TXT, HTML, PPT, and PPTX.","source":"@site/docs/platform_concepts/studio/build/nodes/message-nodes1/file-node.md","sourceDirName":"platform_concepts/studio/build/nodes/message-nodes1","slug":"/platform_concepts/studio/build/nodes/message-nodes1/file-node","permalink":"/docs/platform_concepts/studio/build/nodes/message-nodes1/file-node","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"File node","sidebar_label":"File"},"sidebar":"platform_concepts","previous":{"title":"Video","permalink":"/docs/platform_concepts/studio/build/nodes/message-nodes1/video-node"},"next":{"title":"Quick Replies","permalink":"/docs/platform_concepts/studio/build/nodes/message-nodes1/quick-replies"}}');var t=s(74848),l=s(28453);const r={title:"File node",sidebar_label:"File"},o=void 0,a={},d=[{value:"Sharing static file through the File node",id:"sharing-static-file-through-the-file-node",level:3},{value:"Sharing dynamic file links with users using the File node",id:"sharing-dynamic-file-links-with-users-using-the-file-node",level:3},{value:"Collecting user-uploaded files",id:"collecting-user-uploaded-files",level:2},{value:"1. Sending files via multipart form-data",id:"1-sending-files-via-multipart-form-data",level:3},{value:"Request Configuration",id:"request-configuration",level:4},{value:"Example Request",id:"example-request",level:4},{value:"2. Sending Files as Raw Binary (Octet-Stream)",id:"2-sending-files-as-raw-binary-octet-stream",level:3},{value:"Request Configuration",id:"request-configuration-1",level:4},{value:"Example Request",id:"example-request-1",level:4},{value:"3. Sending files as a Base64-encoded string",id:"3-sending-files-as-a-base64-encoded-string",level:3},{value:"Request Configuration",id:"request-configuration-2",level:4},{value:"Example Request",id:"example-request-2",level:4}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"File node allows you to share files with users. This node supports the file formats such as JPG, PDF, MP3, MP4, CSV, DOC, DOCX, TXT, HTML, PPT, and PPTX."}),"\n",(0,t.jsx)(n.p,{children:"File node is used to share important documents, guides, or invoices, contracts, or promotional materials that the user can download."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Limitaion"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"File size limit is 15 MB."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"sharing-static-file-through-the-file-node",children:"Sharing static file through the File node"}),"\n",(0,t.jsx)(n.p,{children:"To configure static file format, follow these steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Drag and drop the file node in the flow editor."}),"\n",(0,t.jsx)("img",{src:"https://imgur.com/ugwN3mU.png",alt:"drawing",width:"90%"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Upload the file that you want to send to the user."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"sharing-dynamic-file-links-with-users-using-the-file-node",children:"Sharing dynamic file links with users using the File node"}),"\n",(0,t.jsx)(n.p,{children:"You can use File node to display the various file formats dynamically based on the user\u2019s selection. For instance, when a user requests a copy of their insurance policy document. The AI-agent will prompt the user for details like their policy number to display the relevant file formats dynamically."}),"\n",(0,t.jsx)(n.p,{children:"To display a dynamic file formats, follow these steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Functions"})," and add the below code to dynamically fetch the file format."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://i.imgur.com/mPADcD2.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Dynamic format"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "file": {\n        "name": "Product_Manual.pdf",\n        "url": "https://www.antennahouse.com/hubfs/xsl-fo-sample/pdf/basic-link-1.pdf",\n        "urlEncoded": true/false\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Add a Function node to the flow editor."}),"\n",(0,t.jsx)("img",{src:"https://i.imgur.com/hZoIM4I.png",alt:"drawing",width:"50%"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Select the function name and select a variable to store the response."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://i.imgur.com/67ugrSj.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Add a File node and select the variable to display the dynamic file format."}),"\n",(0,t.jsx)("img",{src:"https://i.imgur.com/xXwioa1.png",alt:"drawing",width:"50%"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Refer to the following GIF to see how the file node works."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://imgur.com/bDNsdi0.gif",alt:""})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"sending-user-uploaded-files-to-apis",children:"Sending user-uploaded files to APIs"}),"\n",(0,t.jsx)(n.p,{children:"You can integrate file uploads within a chatbot workflow to enable collecting, processing, and transfering user-submitted files seamlessly. This section outlines how to export files uploaded by users via the chatbot and send them to third-party systems using APIs."}),"\n",(0,t.jsx)(n.p,{children:"Once a user uploads a file\u2014such as a file (document, image or video), the platform generates a file URL that can be used to transfer the file in different formats based on the receiving system\u2019s requirements."}),"\n",(0,t.jsx)(n.h2,{id:"collecting-user-uploaded-files",children:"Collecting user-uploaded files"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"File Prompt Node"})," allows users to upload their files through the chatbot. Each uploaded file generates a URL that is stored in a variable, enabling subsequent processing. You can then use the file URL to send the file data to external systems using one of the supported methods:"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Method"}),(0,t.jsx)(n.th,{children:"When to use"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["1. ",(0,t.jsx)(n.strong,{children:"Multipart Form-Data"})]}),(0,t.jsx)(n.td,{children:"Best for APIs that accept file uploads in a traditional form-data format. Supports multiple files."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["2. ",(0,t.jsx)(n.strong,{children:"Raw Binary (Octet-Stream)"})]}),(0,t.jsx)(n.td,{children:"Ideal for APIs that require direct binary file input. Only supports one file per request."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["3. ",(0,t.jsx)(n.strong,{children:"Base64-Encoded String"})]}),(0,t.jsx)(n.td,{children:"Suitable for APIs requiring file data within JSON or XML structures."})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"1-sending-files-via-multipart-form-data",children:"1. Sending files via multipart form-data"}),"\n",(0,t.jsx)(n.p,{children:"The platform fetches the files from the provided URLs, downloads them, and includes their binary content in the form-data request before forwarding it to the API."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This method is commonly used in browser-based form submissions."}),"\n",(0,t.jsxs)(n.li,{children:["The file is included as part of a ",(0,t.jsx)(n.code,{children:"multipart/form-data"})," request."]}),"\n",(0,t.jsx)(n.li,{children:"Multiple files can be uploaded in a single request."}),"\n",(0,t.jsx)(n.li,{children:"Additional form fields can be added if needed."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"request-configuration",children:"Request Configuration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.code,{children:"Content-Type"})," header to ",(0,t.jsx)(n.code,{children:"multipart/form-data"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Specify the file URL(s) in the form-data section."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"example-request",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"POST hhttps://sabl.execute-api.ap-south-1.amazonaws.com/UAT/upload-multipart\n\nContent-Type: multipart/form-data\n\nfield1: value1\nfile1: {{url1}}\nfile2: {{url2}}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-sending-files-as-raw-binary-octet-stream",children:"2. Sending Files as Raw Binary (Octet-Stream)"}),"\n",(0,t.jsx)(n.p,{children:"The platform retrieves the file content from the file URL and transmits its binary data as the request body."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The file is sent as raw binary data in the request body."}),"\n",(0,t.jsx)(n.li,{children:"Suitable for APIs that accept direct binary file transfers."}),"\n",(0,t.jsx)(n.li,{children:"Supports only one file per request."}),"\n",(0,t.jsx)(n.li,{children:"Additional form fields are not supported."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"request-configuration-1",children:"Request Configuration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Set the ",(0,t.jsx)(n.code,{children:"Content-Type"})," header to ",(0,t.jsx)(n.code,{children:"application/octet-stream"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"The request body should contain the binary content of the file."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"example-request-1",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-plaintext",children:"POST https://sabl.execute-api.ap-south-1.amazonaws.com/UAT/upload-octet?filename=ss2.bin\n\nContent-Type: application/octet-stream\n\n{{file_url}}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-sending-files-as-a-base64-encoded-string",children:"3. Sending files as a Base64-encoded string"}),"\n",(0,t.jsx)(n.p,{children:"The platform fetches the file, converts it to Base64, and embeds it in the request payload before forwarding it to the API."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The file is encoded in Base64 format and sent as a string."}),"\n",(0,t.jsx)(n.li,{children:"Useful for APIs requiring file data in JSON, XML, or other structured formats."}),"\n",(0,t.jsx)(n.li,{children:"Can be embedded within JSON request bodies or form fields."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"request-configuration-2",children:"Request Configuration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use the ",(0,t.jsx)(n.code,{children:"$$toBase64()"})," function to convert the file URL into a Base64-encoded string."]}),"\n",(0,t.jsx)(n.li,{children:"Insert the encoded file string into the request body."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"example-request-2",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:"POST https://sabl.execute-api.ap-south-1.amazonaws.com/UAT/upload-multipart\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "file_name": "invoice.pdf",\n  "file_content": "$$toBase64({{file_url}})"\n}\n'})}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);