"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[4517],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},74258:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"platform_concepts/appConfiguration/razorpay","title":"Razorpay integration","description":"You can integrate your Yellow.ai platform with your Razorpay account, enabling you to accept payments from your end users. Additionally, this integration allows you to perform various other actions, including:","source":"@site/docs/platform_concepts/appConfiguration/razorpay.md","sourceDirName":"platform_concepts/appConfiguration","slug":"/platform_concepts/appConfiguration/razorpay","permalink":"/docs/platform_concepts/appConfiguration/razorpay","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Razorpay integration","sidebar_label":"Razorpay"},"sidebar":"platform_concepts","previous":{"title":"PayU Business","permalink":"/docs/platform_concepts/appConfiguration/payuBiz"},"next":{"title":"Stripe Payment","permalink":"/docs/platform_concepts/appConfiguration/stripe"}}');var s=t(74848),i=t(28453);const a={title:"Razorpay integration",sidebar_label:"Razorpay"},o=void 0,l={},c=[{value:"1. Connect Razorpay with Yellow.ai",id:"1-connect-razorpay-with-yellowai",level:2},{value:"1.1 Generate API keys on Razorpay dashboard",id:"11-generate-api-keys-on-razorpay-dashboard",level:3},{value:"1.2 Integrate Razorpay with yellow.ai platform",id:"12-integrate-razorpay-with-yellowai-platform",level:3},{value:"1.3 Configure webhook URL in Razorpay Dashboard",id:"13-configure-webhook-url-in-razorpay-dashboard",level:3},{value:"Enable Razorpay events in your bot",id:"enable-razorpay-events-in-your-bot",level:2},{value:"Generate Razorpay payment Link from bot conversation",id:"generate-razorpay-payment-link-from-bot-conversation",level:2},{value:"Event payload for Payment status",id:"event-payload-for-payment-status",level:4},{value:"Generate Payment Link for Partial Payments",id:"generate-payment-link-for-partial-payments",level:3},{value:"Intiate refund",id:"intiate-refund",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"You can integrate your Yellow.ai platform with your Razorpay account, enabling you to accept payments from your end users. Additionally, this integration allows you to perform various other actions, including:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Generate a payment link and receive the status (success/failure) of the payment."}),"\n",(0,s.jsx)(n.li,{children:"Generate a payment link to receive partial payments and receive the status (success/failure) of the payments."}),"\n",(0,s.jsx)(n.li,{children:"Initiate refund process."}),"\n",(0,s.jsx)(n.li,{children:"Check refund status."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"1-connect-razorpay-with-yellowai",children:"1. Connect Razorpay with Yellow.ai"}),"\n",(0,s.jsx)(n.p,{children:"Connect your Yellow.ai platform with your Razorpay account by following the below-mentioned steps."}),"\n",(0,s.jsx)(n.h3,{id:"11-generate-api-keys-on-razorpay-dashboard",children:"1.1 Generate API keys on Razorpay dashboard"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Log into your ",(0,s.jsx)(n.a,{href:"https://dashboard.razorpay.com/signin?screen=sign_in&utm_medium=website&utm_source=direct",children:"Razorpay account"})," and select the mode (Test/Live) for which you want to generate the API key."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/74zbT2o.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test Mode"}),": The test mode is a simulation mode in which you can test your integration flow. Your customers cannot make payments in this mode. Check out this ",(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=Xwiv6zSVVCM",children:"video"})," to know more."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Live Mode"}),": When your integration is complete, switch to ",(0,s.jsx)(n.strong,{children:"Live"})," mode and generate live mode API keys. Replace test mode keys with live mode keys in the integration to accept payments from customers.Check out this ",(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=30REpNtYSak",children:"video"})," to know more."]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To generate API keys for a specific mode**, navigate to ",(0,s.jsx)(n.strong,{children:"Settings"})," > ",(0,s.jsx)(n.strong,{children:"API Keys"})," > ",(0,s.jsx)(n.strong,{children:"Generate Key"})," to generate key for the selected mode."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/vFHopPF.png",alt:""})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Key Id"})," and ",(0,s.jsx)(n.strong,{children:"Key Secret"})," will appear on the following page. Downalod them to use in your Yellow.ai platform."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/7RPBlMe.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"12-integrate-razorpay-with-yellowai-platform",children:"1.2 Integrate Razorpay with yellow.ai platform"}),"\n",(0,s.jsx)(n.p,{children:"In a two-tier environment, you can connect an integration app in the Development environment. In a three-tier environment, you can connect the integration app either in Staging or Sandbox. All connected integrations are available in the live environment."}),"\n",(0,s.jsx)(n.p,{children:"To connect your Stripe account with Yellow.ai, follow these steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Navigate to the Development/Staging environment and go to\xa0",(0,s.jsx)(n.strong,{children:"Extensions"}),"\xa0>\xa0",(0,s.jsx)(n.strong,{children:"Integrations"}),"\xa0>\xa0",(0,s.jsx)(n.strong,{children:"Payment"})," \xa0> ",(0,s.jsx)(n.strong,{children:"Razorpay"}),". You can also search for ",(0,s.jsx)(n.strong,{children:"Razorpay"})," in the search box."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/MkSznUm.png",alt:""})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In\xa0",(0,s.jsx)(n.strong,{children:"Give account name"}),", enter a unique name for the integration. You can use only lowercase alphanumeric characters and underscores (_)."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In ",(0,s.jsx)(n.strong,{children:"Key ID"})," and ",(0,s.jsx)(n.strong,{children:"Key secret"}),", enter the respective values that you downloaded using the steps mentioned in the previous section."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["CLick ",(0,s.jsx)(n.strong,{children:"Connect"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To add another account, click\xa0",(0,s.jsx)(n.strong,{children:"+ Add account"}),"\xa0and proceed with the previous steps. You can add a maximum of 15 accounts."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"13-configure-webhook-url-in-razorpay-dashboard",children:"1.3 Configure webhook URL in Razorpay Dashboard"}),"\n",(0,s.jsx)(n.p,{children:"The Webhook URL serves as a callback URL where Razorpay can send notifications or data updates to your bot."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Copy the webhook URL and the API key mentioned in the ",(0,s.jsx)(n.strong,{children:"Instructions"})," section of the Razorpay Integration Card. Append the region of your bot to the domain of the webhook url. r1/r2/r3/r4/r5 are the regions of your bot, you can refer the following list for the same.  (r1 = MEA, r2 = Jakarta, r3 = Singapore, r4= USA, r5 = Europe)\n",(0,s.jsx)("br",{}),"For example, if the domain is ",(0,s.jsx)(n.a,{href:"https://cloud.yellow.ai",children:"https://cloud.yellow.ai"}),", you need to change it to ",(0,s.jsx)(n.a,{href:"https://r1.cloud.yellow.ai",children:"https://r1.cloud.yellow.ai"})," if the region of the bot is MEA. If the bot belongs to India, you can use origin domain itself."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Log into the ",(0,s.jsx)(n.a,{href:"https://dashboard.razorpay.com/#/access/signin",children:"Razorpay Dashboard"})," and navigate to ",(0,s.jsx)(n.strong,{children:"Settings"})," \u2192 ",(0,s.jsx)(n.strong,{children:"Webhooks"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"+ Add New Webhook"})," on the right corner."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/aE5zgwH.png",alt:""})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.strong,{children:"Webhook Setup"})," pop-up, enter the URL in which you'd like to receive the webhook payload when an event is triggered. We recommend using a ",(0,s.jsx)(n.strong,{children:"HTTPS URL"}),". Ensure you enable all the events shown in the screenshot below."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/uDShz45.png",alt:"drawing",width:"80%"}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/Zfsj8ub.png",alt:"drawing",width:"80%"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"You can set upto 10 URLs to receive Webhook notifications. Webhooks can only be delivered to public URLs. If you attempt to save a localhost endpoint as part of a webhook setup, you will encounter an error."})}),"\n",(0,s.jsxs)(n.ol,{start:"5",children:["\n",(0,s.jsxs)(n.li,{children:["Enter a ",(0,s.jsx)(n.strong,{children:"Secret"})," for the webhook endpoint. This secret will be used to validate whether the webhook is from ",(0,s.jsx)(n.strong,{children:"RazorPay"}),". Do not expose this secret publicly. Click ",(0,s.jsx)(n.a,{href:"https://razorpay.com/docs/webhooks/validate-test/",children:"here"})," to know more validating webhooks."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Alert Email"})," field, enter the email address to which the notifications should be sent in case there's a webhook failure."]}),"\n",(0,s.jsxs)(n.li,{children:["Select the required events from the list of ",(0,s.jsx)(n.strong,{children:"Active Events"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Create Webhook"}),". After you set a webhook, it appears on the list of webhooks."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["To modify the webhook further, you can select the webhook and click ",(0,s.jsx)(n.strong,{children:"Edit"}),". You can refer this ",(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=qojkh8Vbnek",children:"video"})," as well."]})}),"\n",(0,s.jsx)(n.h2,{id:"enable-razorpay-events-in-your-bot",children:"Enable Razorpay events in your bot"}),"\n",(0,s.jsx)(n.p,{children:"Enable Razorpay events in your bot to trigger flows based on event occurrences, allowing seamless integration of payment processes with bot functionalities."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["In Development/Staging environment, go to ",(0,s.jsx)(n.strong,{children:"Automation"})," > ",(0,s.jsx)(n.strong,{children:"Event"})," > ",(0,s.jsx)(n.strong,{children:"Integrations"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Activate the event, ",(0,s.jsx)(n.strong,{children:"Razorpay Payment Status"}),". Click on the more options icon and select ",(0,s.jsx)(n.em,{children:"Activate"}),". If there are multiple accounts, you need to activate for each account separately."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://i.imgur.com/RohTZsg.png",alt:""})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["A journey with its trigger point as this event should be created in ",(0,s.jsx)(n.strong,{children:"Automation"}),". Based on the received event data, an appropriate message will be displayed to the end user."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/Bs6iIH8.png",width:"80%"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"If you have added multiple accounts in your platform, enable events for each of those accounts."})}),"\n",(0,s.jsx)(n.h2,{id:"generate-razorpay-payment-link-from-bot-conversation",children:"Generate Razorpay payment Link from bot conversation"}),"\n",(0,s.jsx)(n.p,{children:"The following are the use-cases that are supported in this integration."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"When multiple accounts are added, select the appropriate account for each node, allowing you to leverage the unique functionalities of each account for their intended purposes."})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Go to Development/Staging environment and navigate to ",(0,s.jsx)(n.strong,{children:"Automation"})," > ",(0,s.jsx)(n.strong,{children:"Build"})," > Select the flow where you want to Generate payment link."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/iBzozGD.png",alt:"drawing",width:"80%"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"Add node"})," > ",(0,s.jsx)(n.strong,{children:"Integrations"})," > ",(0,s.jsx)(n.strong,{children:"Razorpay payment gateway"}),".\nIn the Automation flow builder, select the ",(0,s.jsx)(n.strong,{children:"Integrations"})," node and click ",(0,s.jsx)(n.strong,{children:"Razorpay"})," from the list of integrations that have been enabled for that bot."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the first drop-down choose ",(0,s.jsx)(n.strong,{children:"Generate Payment Link"}),"."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/wYYsSxX.png",alt:"drawing",width:"80%"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Configure all the required fields. The table below contains sample values, data types, and descriptions for these fields."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field name"}),(0,s.jsx)(n.th,{children:"Sample value"}),(0,s.jsx)(n.th,{children:"Data type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Amount"}),(0,s.jsx)(n.td,{children:"100"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"The amount that should be the payment link. This must be in the smallest unit of the currency. For example, if you want to receive a payment of \u20b9299.95, you must enter the value 29995."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Currency"}),(0,s.jsx)(n.td,{children:"INR"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsxs)(n.td,{children:["Default is ",(0,s.jsx)(n.strong,{children:"INR"}),", we also accept payments in ",(0,s.jsx)(n.a,{href:"https://razorpay.com/docs/payments/payments/international-payments/#supported-currencies",children:"international currencies"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Description"}),(0,s.jsx)(n.td,{children:"Test"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"A brief description of the payment link."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"IsUPILinkedEnabled"}),(0,s.jsx)(n.td,{children:"true"}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsxs)(n.td,{children:["Indicates if the payment link is a UPI payment link.",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"true:"})," A UPI payment link has been created.",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"false:"})," It is a standard payment link and not a UPI payment link. ",(0,s.jsx)("br",{})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["CustomerObject ",(0,s.jsx)(n.code,{children:'{ "contact": "+919999999999", "email": "gaurav.kumar@example.com", "name": "Gaurav Kumar" },'})]}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"Customer details"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Notes"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "policy_name": "Jeevan Bima" }'})}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"Set of key-value pairs that can be used to store additional information. You can enter a maximum of 15 key-value pairs, with each value having a maximum limit of 256 characters."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"NotifyOptions"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "email": true, "sms": true }'})}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"Defines who handles the payment link notifications."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CallbackUrl"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://example-callback-url.com/",children:"https://example-callback-url.com/"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"if specified it adds a redirect URL to the payment link. Once a customer completes the payment, they will be redirected to the specified URL."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CallbackMethod"}),(0,s.jsx)(n.td,{children:"get"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"If callback_url parameter is passed, callback_method must be passed with the value get."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"EnableRemindertrue"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsxs)(n.td,{children:["This is used to send reminders for the payment link. Possible values:",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"true:"})," To send reminders.",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"false:"})," To disable reminders.",(0,s.jsx)("br",{})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CustomOptions"}),(0,s.jsx)(n.td,{children:"Reference details"}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"Custom options"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Sample success response:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "accept_partial": false,\n  "amount": 1000,\n  "amount_paid": 0,\n  "callback_method": "get",\n  "callback_url": "https://example-callback-url.com/",\n  "cancelled_at": 0,\n  "created_at": 1591097057,\n  "currency": "INR",\n  "customer": {\n    "contact": "+919999999999",\n    "email": "gaurav.kumar@example.com",\n    "name": "Gaurav Kumar"\n  },\n  "description": "Payment for policy no #23456",\n  "expire_by": 1691097057,\n  "expired_at": 0,\n  "first_min_partial_amount": 100,\n  "id": "plink_ExjpAUN3gVHrPJ",\n  "notes": {\n    "policy_name": "Jeevan Bima"\n  },\n  "notify": {\n    "email": true,\n    "sms": true\n  },\n  "payments": null,\n  "reference_id": "TS1989",\n  "reminder_enable": true,\n  "reminders": [],\n  "short_url": "https://rzp.io/i/nxrHnLJ",\n  "status": "created",\n  "updated_at": 1591097057,\n  "user_id": ""\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Sample response in case of fallback:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "BAD_REQUEST_ERROR",\n    "description": "The api key provided is invalid",\n    "source": "NA",\n    "step": "NA",\n    "reason": "NA",\n    "metadata": {}\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["To use this ",(0,s.jsx)(n.strong,{children:"Integration Action Node"})," in an app.yellow.ai bot, refer the following example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.executeIntegrationAction({\n   "integrationName": "razorpay",\n   "action": "Generate Payment Link - Partial Payments\u201d,\n   "dynamicParams": {\n       "amount": "500",\n       "currency": "INR",\n       "description": "test",\n       "isUPILinkEnabled": true,\n       "customerObject": { "name": "GaurarKumar", "contact": "+919999999999", "email": "gaurav.kumar@example.com" },\n       "notes": {\n           "policy_name": "Jeevan Bima"\n       },\n       "notifyOptions": {\n           "sms": true,\n           "email": true\n       },\n       "callbackUrl": "https://example-callback-url.com/",\n       "callbackMethod": "get",\n       "enableReminder": "true",\n       "customOptions": {\n           "test":"testing"\n       }\n   }\n}).then((res) => {\n   console.log("response from action node", res);\n   app.log(res, \'||Response from action node||\')\n}).catch((err) => {\n   console.log("Error in action node", err);\n   app.log(err, \'||Error in action node||\')\n})\n'})}),"\n",(0,s.jsx)(n.h4,{id:"event-payload-for-payment-status",children:"Event payload for Payment status"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'{\n          "id": "rfnd_FS8TWyPrCsa0OB",\n          "entity": "payment",\n          "amount": 50000,\n          "currency": "INR",\n          "payment_id": "pay_FPoJKWQQ8lK13n",\n          "notes": {\n            "comment": "Customer Notes for Webhooks."\n          },\n          "receipt": null,\n          "acquirer_data": {\n            "arn": null\n          },\n          "created_at": 1597734071,\n          "batch_id": null,\n          "status": "processed",\n          "speed_processed": "normal",\n          "speed_requested": "optimum"\n        }\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"generate-payment-link-for-partial-payments",children:"Generate Payment Link for Partial Payments"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the Automation flow builder, select the ",(0,s.jsx)(n.strong,{children:"Integrations"})," node and click ",(0,s.jsx)(n.strong,{children:"Razorpay"})," from the list of integrations that have been enabled for that bot."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/iBzozGD.png",alt:"drawing",width:"80%"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["After clicking ",(0,s.jsx)(n.strong,{children:"Razorpay"}),",an ",(0,s.jsx)(n.strong,{children:"Integration Action Node"})," will be added to the flow builder. When you click that node, you will see all use-cases of this integration in a drop-down. Choose ",(0,s.jsx)(n.strong,{children:"Generate Payment Link"})," from them."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/tMcsRTb.png",alt:"drawing",width:"80%"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Fill in all the mandatory fields. The below-mentioned table consists of the sample value,data type and description for all these fields."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field name"}),(0,s.jsx)(n.th,{children:"Sample value"}),(0,s.jsx)(n.th,{children:"Data type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{children:"Text"}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Amount"}),(0,s.jsx)(n.td,{children:"100"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"The amount that should be the payment link. This must be in the smallest unit of the currency. For example, if you want to receive a payment of \u20b9299.95, you must enter the value 29995."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Currency"}),(0,s.jsx)(n.td,{children:"INR"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsxs)(n.td,{children:["Default is ",(0,s.jsx)(n.strong,{children:"INR"}),", we also accept payments in ",(0,s.jsx)(n.a,{href:"https://razorpay.com/docs/payments/payments/international-payments/#supported-currencies",children:"international currencies"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Description"}),(0,s.jsx)(n.td,{children:"Test"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"A brief description of the payment link."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"IsUPILinkedEnabled"}),(0,s.jsx)(n.td,{children:"true"}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsxs)(n.td,{children:["Indicates if the payment link is a UPI payment link.",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"true:"})," A UPI payment link has been created.",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"false:"})," It is a standard payment link and not a UPI payment link. ",(0,s.jsx)("br",{})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CustomerObject"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "contact": "+919999999999", "email": "gaurav.kumar@example.com", "name": "Gaurav Kumar" },'})}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"Customer details"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Notes"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "policy_name": "Jeevan Bima" }'})}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"Set of key-value pairs that can be used to store additional information. You can enter a maximum of 15 key-value pairs, with each value having a maximum limit of 256 characters."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"NotifyOptions"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:'{ "email": true, "sms": true }'})}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"Defines who handles the payment link notifications."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CallbackUrl"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://example-callback-url.com/",children:"https://example-callback-url.com/"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"if specified it adds a redirect URL to the payment link. Once a customer completes the payment, they will be redirected to the specified URL."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CallbackMethod"}),(0,s.jsx)(n.td,{children:"get"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"If callback_url parameter is passed, callback_method must be passed with the value get."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"EnableRemindertrue"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsxs)(n.td,{children:["This is used to send reminders for the payment link. Possible values:",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"true:"})," To send reminders.",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"false:"})," To disable reminders.",(0,s.jsx)("br",{})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"CustomOptions"}),(0,s.jsx)(n.td,{children:"Reference details"}),(0,s.jsx)(n.td,{children:"Object"}),(0,s.jsx)(n.td,{children:"Custom options"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"isPartialPaymentAccepted"}),(0,s.jsx)(n.td,{children:"true"}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsxs)(n.td,{children:["Indicates whether customers can make partial payments using the payment link. ",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"Possible values:"})," ",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"true:"})," Customer can make partial payments.",(0,s.jsx)("br",{}),(0,s.jsx)(n.strong,{children:"false (default):"})," Customer cannot make partial payments.",(0,s.jsx)("br",{})]})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Sample response in case of success:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'\n{\n  "accept_partial": false,\n  "amount": 1000,\n  "amount_paid": 0,\n  "callback_method": "get",\n  "callback_url": "https://example-callback-url.com/",\n  "cancelled_at": 0,\n  "created_at": 1591097057,\n  "currency": "INR",\n  "customer": {\n    "contact": "+919999999999",\n    "email": "gaurav.kumar@example.com",\n    "name": "Gaurav Kumar"\n  },\n  "description": "Payment for policy no #23456",\n  "expire_by": 1691097057,\n  "expired_at": 0,\n  "first_min_partial_amount": 100,\n  "id": "plink_ExjpAUN3gVHrPJ",\n  "notes": {\n    "policy_name": "Jeevan Bima"\n  },\n  "notify": {\n    "email": true,\n    "sms": true\n  },\n  "payments": null,\n  "reference_id": "TS1989",\n  "reminder_enable": true,\n  "reminders": [],\n  "short_url": "https://rzp.io/i/nxrHnLJ",\n  "status": "created",\n  "updated_at": 1591097057,\n  "user_id": ""\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Sample response in case of fallback:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "BAD_REQUEST_ERROR",\n    "description": "The api key provided is invalid",\n    "source": "NA",\n    "step": "NA",\n    "reason": "NA",\n    "metadata": {}\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["To use this ",(0,s.jsx)(n.strong,{children:"Integration Action Node"})," in an app.yellow.ai bot, refer the following example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.executeIntegrationAction({\n   "integrationName": "razorpay",\n   "action": "Generate Payment Link",\n   "dynamicParams": {\n       "amount": "500",\n       "isPartialPaymentAccepted":true,\n       "currency": "INR",\n       "description": "test",\n       "isUPILinkEnabled": true,\n       "customerObject": { "name": "GaurarKumar", "contact": "+919999999999", "email": "gaurav.kumar@example.com" },\n       "notes": {\n           "policy_name": "Jeevan Bima"\n       },\n       "notifyOptions": {\n           "sms": true,\n           "email": true\n       },\n       "callbackUrl": "https://example-callback-url.com/",\n       "callbackMethod": "get",\n       "enableReminder": "true",\n       "customOptions": {\n           "test":"testing"\n       }\n   }\n}).then((res) => {\n   console.log("response from action node", res);\n   app.log(res, \'||Response from action node||\')\n}).catch((err) => {\n   console.log("Error in action node", err);\n   app.log(err, \'||Error in action node||\')\n})\n\n'})}),"\n",(0,s.jsx)(n.h3,{id:"intiate-refund",children:"Intiate refund"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the Automation flow builder, select the ",(0,s.jsx)(n.strong,{children:"Integrations"})," node and click ",(0,s.jsx)(n.strong,{children:"Razorpay"})," from the list of integrations that have been enabled for that bot."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/iBzozGD.png",alt:"drawing",width:"80%"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["After clicking ",(0,s.jsx)(n.strong,{children:"Razorpay"}),",an ",(0,s.jsx)(n.strong,{children:"Integration Action Node"})," will be added to the flow builder. When you click that node, you will see all use-cases of this integration in a drop-down. Choose ",(0,s.jsx)(n.strong,{children:"Generate Payment Link"})," from them."]}),"\n",(0,s.jsx)("img",{src:"https://i.imgur.com/WxXY6fZ.png",alt:"drawing",width:"80%"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Fill in all the mandatory fields. The below-mentioned table consists of the sample value,data type and description for all these fields."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field Name"}),(0,s.jsx)(n.th,{children:"Sample value"}),(0,s.jsx)(n.th,{children:"Data type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Amount"}),(0,s.jsx)(n.td,{children:"100"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"The amount to be refunded (in the smallest unit of currency).  For example, refund in INR, a value of 100 means 100 paise (equivalent to \u20b91)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"paymentId"}),(0,s.jsx)(n.td,{children:"pay_FgR9UMzgmKDJRi"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"The unique identifier of the payment for which a refund is initiated"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"refundType"}),(0,s.jsx)(n.td,{children:"normal"}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsxs)(n.td,{children:["Speed at which the refund should be processed. ",(0,s.jsx)("br",{})," ",(0,s.jsx)(n.strong,{children:"Possible values:"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.strong,{children:"normal:"})," Indicates that the refund will be processed at a normal speed i.e. within 5-7 working days.",(0,s.jsx)("br",{}),(0,s.jsx)(n.strong,{children:"optimum:"})," Indicates that the refund will be processed at an optimal speed based on Razorpay's internal fund transfer logic.",(0,s.jsx)("br",{})," If the refund has to be processed instantly, ",(0,s.jsx)(n.strong,{children:"Razorpay"})," will do so irrespective of the payment method.",(0,s.jsx)("br",{})," If an instant refund is not possible, Razorpay will initiate a refund  at the normal speed. For example, in case of payments made using debit cards, netbanking or unsupported credit cards."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"notes"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"object"}),(0,s.jsx)(n.td,{children:"Key-value store for storing your reference data. A maximum of 15 key-value pairs can be included."})]})]})]}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"Generate Payment Link Integration Action"})," Node has two outcomes, success or failure. Based on the success/failure of the execution of the ",(0,s.jsx)(n.strong,{children:"Integration Action Node"}),", the flow will proceed to ",(0,s.jsx)(n.strong,{children:"success"})," or ",(0,s.jsx)(n.strong,{children:"fallback"})," branches respectively."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Success Response:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'\n{\n  "id": "rfnd_FgRAHdNOM4ZVbO",\n  "entity": "refund",\n  "amount": 10000,\n  "currency": "INR",\n  "payment_id": "pay_FgR9UMzgmKDJRi",\n  "notes": {\n    "notes_key_1": "Beam me up Scotty.",\n    "notes_key_2": "Engage"\n  },\n  "receipt": null,\n  "acquirer_data": {\n    "arn": "10000000000000"\n  },\n  "created_at": 1600856650,\n  "batch_id": null,\n  "status": "processed",\n  "speed_processed": "normal",\n  "speed_requested": "normal"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["To use this ",(0,s.jsx)(n.strong,{children:"Integration Action Node"})," in an app.yellow.ai bot, refer the following example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'app.executeIntegrationAction({\n   "integrationName": "razorpay",\n   "action": "Generate Payment Link",\n   "dynamicParams": {\n       "amount": "500",\n       "refundType":"normal",\n       "paymentId":"pay_FgR9UMzgmKDJRi",\n       "notes": {\n           "policy_name": "Jeevan Bima"\n       }\n   }\n}).then((res) => {\n   console.log("response from action node", res);\n   app.log(res, \'||Response from action node||\')\n}).catch((err) => {\n   console.log("Error in action node", err);\n   app.log(err, \'||Error in action node||\')\n})\n \n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);