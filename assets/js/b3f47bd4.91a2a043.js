"use strict";(self.webpackChunkbenthos=self.webpackChunkbenthos||[]).push([[89943],{26939:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"platform_concepts/studio/test-and-publish-bot/debug-flow","title":"Debug your bot flows","description":"Debugging flows involve finding and fixing issues in the AI-agent\'s conversations to ensure smooth user interactions. This helps enhance performance and reliability by addressing errors caused by factors like logical mistakes, syntax errors, and missing information in the automated conversations.","source":"@site/docs/platform_concepts/studio/test-and-publish-bot/debug-flow.md","sourceDirName":"platform_concepts/studio/test-and-publish-bot","slug":"/platform_concepts/studio/test-and-publish-bot/debug-flow","permalink":"/docs/platform_concepts/studio/test-and-publish-bot/debug-flow","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Debug your bot flows","sidebar_label":"Debug chatbot flows"},"sidebar":"platform_concepts","previous":{"title":"Monitor Chatbot logs","permalink":"/docs/platform_concepts/studio/test-and-publish-bot/bot-logs"},"next":{"title":"Intents and Utterances automated testing","permalink":"/docs/cookbooks/studio/regressiontest"}}');var i=n(74848),o=n(28453);const r={title:"Debug your bot flows",sidebar_label:"Debug chatbot flows"},a=void 0,l={},c=[{value:"Flow based errors",id:"flow-based-errors",level:2},{value:"Test with a text node",id:"test-with-a-text-node",level:3},{value:"Utilize the debug feature",id:"utilize-the-debug-feature",level:3},{value:"Handle datatype mismatch errors",id:"handle-datatype-mismatch-errors",level:2},{value:"Resolve variable datatype conflicts",id:"resolve-variable-datatype-conflicts",level:3},{value:"Resolve datatype conflicts in database column",id:"resolve-datatype-conflicts-in-database-column",level:3},{value:"Resolve code based errors",id:"resolve-code-based-errors",level:2},{value:"Check code logs",id:"check-code-logs",level:3},{value:"Set up a test function",id:"set-up-a-test-function",level:3},{value:"Resolve API level errors",id:"resolve-api-level-errors",level:3},{value:"3. Common errors and solutions",id:"3-common-errors-and-solutions",level:2},{value:"Error: Action node failed",id:"error-action-node-failed",level:4}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Debugging flows involve finding and fixing issues in the AI-agent's conversations to ensure smooth user interactions. This helps enhance performance and reliability by addressing errors caused by factors like logical mistakes, syntax errors, and missing information in the automated conversations."}),"\n",(0,i.jsx)(t.p,{children:"Here are some frequently encountered errors and their corresponding solutions."}),"\n",(0,i.jsx)(t.h2,{id:"flow-based-errors",children:"Flow based errors"}),"\n",(0,i.jsx)(t.p,{children:"In this section we will see how to fix errors that occur at the flow level."}),"\n",(0,i.jsx)(t.p,{children:"If you notice that certain nodes aren't being executed, consider the following steps:"}),"\n",(0,i.jsx)(t.h3,{id:"test-with-a-text-node",children:"Test with a text node"}),"\n",(0,i.jsxs)(t.p,{children:["Insert a",(0,i.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/nodes/message-nodes1/text-node",children:" Text node"})," containing a test message into the flow both BEFORE and AFTER the node that's not executing."]}),"\n",(0,i.jsx)(t.p,{children:"For instance, you can print the user's input email right after the email node to verify its functionality."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/uaTNNnb.png",alt:""})}),"\n",(0,i.jsx)(t.h3,{id:"utilize-the-debug-feature",children:"Utilize the debug feature"}),"\n",(0,i.jsxs)(t.p,{children:["When you ",(0,i.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/Flows/configureflow#-3-test-a-specific-flow",children:"test a flow"})," in your AI-agent, you'll notice that the AI-agent automatically conducts a step-by-step debugging of each phase of the conversation. It provides insights into the occurrences at each conversation stage. This feature is valuable for identifying the precise point in the flow where the AI-agent's functionality encountered an issue."]}),"\n",(0,i.jsx)("img",{src:"https://i.imgur.com/andTLxy.png",alt:"drawing",width:"30%"}),"\n",(0,i.jsx)(t.h2,{id:"handle-datatype-mismatch-errors",children:"Handle datatype mismatch errors"}),"\n",(0,i.jsx)(t.p,{children:"Data type mismatch happens when we assign a data type to a field, but the value we collect ends up being a different type. For instance, if you set a field as a string, but the collected value is actually a number, it causes an error. In this section, we'll explore ways to manage and address these kinds of errors."}),"\n",(0,i.jsx)(t.h3,{id:"resolve-variable-datatype-conflicts",children:"Resolve variable datatype conflicts"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Go to ",(0,i.jsx)(t.strong,{children:"Automation"})," and click the ",(0,i.jsx)(t.strong,{children:"Variable"})," icon."]}),"\n",(0,i.jsx)("img",{src:"https://imgur.com/UYsqhkU.png",alt:"drawing",width:"70%"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Assess if the selected data type aligns with the type of value you intend to collect."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/LyBOsUw.png",alt:""})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["If they don't match, delete that variable and ",(0,i.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/bot-variables#-3-create-a-variable",children:"creat a new one"})," and ",(0,i.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/build/bot-variables#41-store-data-in-variables",children:"assign it to that node"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"resolve-datatype-conflicts-in-database-column",children:"Resolve datatype conflicts in database column"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Go to ",(0,i.jsx)(t.strong,{children:"Automation"})," > ",(0,i.jsx)(t.strong,{children:"Database"})," > Click the desired table > ",(0,i.jsx)(t.strong,{children:"Table actions"})," > ",(0,i.jsx)(t.strong,{children:"Edit table"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://imgur.com/7bQjwZQ.png",alt:""})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Go through the data type of each field of the database table under ",(0,i.jsx)(t.strong,{children:"Type"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/ldxkxZ1.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"resolve-code-based-errors",children:"Resolve code based errors"}),"\n",(0,i.jsx)(t.p,{children:"Code errors can lead to non-functioning aspects. To ensure a flawless user experience, it's important to review the code as well."}),"\n",(0,i.jsx)(t.h3,{id:"check-code-logs",children:"Check code logs"}),"\n",(0,i.jsx)(t.p,{children:"We offer a dedicated code logs section within our platform."}),"\n",(0,i.jsx)(t.p,{children:"To access it:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Navigate to ",(0,i.jsx)(t.strong,{children:"Automation"})," > ",(0,i.jsx)(t.strong,{children:"Functions"})," > ",(0,i.jsx)(t.strong,{children:"Logs"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"For instance, if you need to troubleshoot a particular function within your flow and review its output:"}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Configure the function to display relevant text alongside the data you wish to validate in the Functions section."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Navigate to the ",(0,i.jsx)(t.strong,{children:"Logs"})," section and click on the specific logs."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Use ctrl/cmd + F to open the Search box, enabling you to confirm if the console is indeed displaying the log."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://imgur.com/txbIJ4d.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"set-up-a-test-function",children:"Set up a test function"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/4yhYCxg.png",alt:""})}),"\n",(0,i.jsx)(t.p,{children:"Once the function gets executed, you can review the logs to see if you're getting the output."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/69J9LYp.png",alt:""})}),"\n",(0,i.jsx)(t.h3,{id:"resolve-api-level-errors",children:"Resolve API level errors"}),"\n",(0,i.jsx)(t.p,{children:"You can test APIs either in the API management page or within the flow."}),"\n",(0,i.jsx)(t.p,{children:"To test it within a flow:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Go to the ",(0,i.jsx)(t.strong,{children:"API node"})," you wish to test."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/CAoQX2H.png",alt:""})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Click on ",(0,i.jsx)(t.strong,{children:"Test"})," and enter the mandatory fields."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/yQ32pAi.png",alt:""})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Click on ",(0,i.jsx)(t.strong,{children:"Run"})," and check if you're able to get the expected output."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:"https://i.imgur.com/JKkWtPF.png",alt:""})}),"\n",(0,i.jsxs)(t.p,{children:["You can also test your APIs in the ",(0,i.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/studio/api/add-api#14-test-the-api",children:"Automation APIs section"}),"."]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["If you have any questions, feel free to post them on our ",(0,i.jsx)(t.a,{href:"https://community.yellow.ai/",children:"Community"})]})}),"\n",(0,i.jsx)(t.h2,{id:"3-common-errors-and-solutions",children:"3. Common errors and solutions"}),"\n",(0,i.jsx)(t.h4,{id:"error-action-node-failed",children:"Error: Action node failed"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'"field": "custom_fields.cf_agent",\n            "message": "It should be one of these values: \'Sarath,Bharath,Ajay,Prem,Senthil,Archana,Sneha Kandasamy (Freshworks),Prashanth Thiagarajan (Freshworks),Aarabhi,Srikanth,Bibin,Ibraz,Animesh,Pawan,Arivazhahan,Kirti,Abrar,Bhavana,Chitrita,Dipesh,Ashok,Nishanth,Athulya,Chandni,Waseem,Akarsh V,Mayank\'",\n            "code": "missing_field"\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'{\n            "field": "custom_fields.cf_category761533",\n            "message": "It should be one of these values: \'Transaction monitoring,Credit limit IncreaseV2,Feature Ask,App Breakages,KYC Verification Dont Use,Missing Label V2,Remittance India to US V2,Remittance U.S to India V2,ACH Transfer V2,WIRE Transfer V2,Credit card Bill Payment V2,Azpire V2,Azpire (linking to fintech Apps) V2,Azpire - Transaction Failures V2,Azpire - Transfers V2,Azpire - Bill Payments V2,Rewards 2.0 V2,Activation Journey V2,Credit card Subscription V2,SIM card request V2,Statements V2,KYC documents - Credit card / Checking account V2,Disputes V2,Card unblock V2,Card Ops V2,Account Closure V2,Bureau Reporting - Unsecured V2,Card logistics V2,Credit score tracker V2,Boost Account V2,Student Loan V2,Login/VPN issues V2,Reconciliation,ATM,CC Transaction Failures,Credit card / Debit card ( linking to fintech Apps),Junk/Influencer SPAM,Callback request\'",\n            "code": "missing_field"\n        },\n'})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Problem:"})," Ticket creation using ",(0,i.jsx)(t.a,{href:"https://docs.yellow.ai/docs/platform_concepts/appConfiguration/freshdesk",children:"Freshdesk"})," keeps failing because custom fields that were configured in your Freshdesk account weren't configured/passed in the Freshdesk nodes."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Solution:"})," Pass the custom field names in the parameter - ",(0,i.jsx)(t.code,{children:"{\u201dkey1\u201d:\u201dvalue1\u201d,..}"}),". The names of the custom fields are derived from the labels given to them during their creation. All the custom fields will have 'cf_' prepended to its name, eg., if you create a custom field with the label 'test', then the name of the custom_field will be 'cf_test'."]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(96540);const i={},o=s.createContext(i);function r(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);